import{a as B,b as pe,c as Iu,d as ku,e as nt,f as Tu}from"./chunk-7T7QCK5B.js";function B0(n,t){return Object.is(n,t)}var fn=null,Au=!1,j0=1,Ii=Symbol("SIGNAL");function Ve(n){let t=fn;return fn=n,t}function H0(){return fn}var ac={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lc(n){if(Au)throw new Error("");if(fn===null)return;fn.consumerOnSignalRead(n);let t=fn.nextProducerIndex++;if(Lu(fn),t<fn.producerNode.length&&fn.producerNode[t]!==n&&sc(fn)){let e=fn.producerNode[t];Fu(e,fn.producerIndexOfThis[t])}fn.producerNode[t]!==n&&(fn.producerNode[t]=n,fn.producerIndexOfThis[t]=sc(fn)?Zx(n,fn,t):0),fn.producerLastReadVersion[t]=n.version}function Kx(){j0++}function U0(n){if(!(sc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===j0)){if(!n.producerMustRecompute(n)&&!W0(n)){V0(n);return}n.producerRecomputeValue(n),V0(n)}}function z0(n){if(n.liveConsumerNode===void 0)return;let t=Au;Au=!0;try{for(let e of n.liveConsumerNode)e.dirty||HR(e)}finally{Au=t}}function $0(){return fn?.consumerAllowSignalWrites!==!1}function HR(n){n.dirty=!0,z0(n),n.consumerMarkedDirty?.(n)}function V0(n){n.dirty=!1,n.lastCleanEpoch=j0}function Nu(n){return n&&(n.nextProducerIndex=0),Ve(n)}function G0(n,t){if(Ve(t),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(sc(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Fu(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function W0(n){Lu(n);for(let t=0;t<n.producerNode.length;t++){let e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(U0(e),i!==e.version))return!0}return!1}function q0(n){if(Lu(n),sc(n))for(let t=0;t<n.producerNode.length;t++)Fu(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Zx(n,t,e){if(Qx(n),n.liveConsumerNode.length===0&&Xx(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Zx(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Fu(n,t){if(Qx(n),n.liveConsumerNode.length===1&&Xx(n))for(let i=0;i<n.producerNode.length;i++)Fu(n.producerNode[i],n.producerIndexOfThis[i]);let e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[t],o=n.liveConsumerNode[t];Lu(o),o.producerIndexOfThis[i]=t}}function sc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Lu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Qx(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Xx(n){return n.producerNode!==void 0}function Y0(n,t){let e=Object.create(UR);e.computation=n,t!==void 0&&(e.equal=t);let i=()=>{if(U0(e),lc(e),e.value===Ru)throw e.error;return e.value};return i[Ii]=e,i}var F0=Symbol("UNSET"),L0=Symbol("COMPUTING"),Ru=Symbol("ERRORED"),UR=pe(B({},ac),{value:F0,dirty:!0,error:null,equal:B0,kind:"computed",producerMustRecompute(n){return n.value===F0||n.value===L0},producerRecomputeValue(n){if(n.value===L0)throw new Error("Detected cycle in computations.");let t=n.value;n.value=L0;let e=Nu(n),i,o=!1;try{i=n.computation(),Ve(null),o=t!==F0&&t!==Ru&&i!==Ru&&n.equal(t,i)}catch(r){i=Ru,n.error=r}finally{G0(n,e)}if(o){n.value=t;return}n.value=i,n.version++}});function zR(){throw new Error}var Jx=zR;function ew(n){Jx(n)}function K0(n){Jx=n}var $R=null;function Z0(n,t){let e=Object.create(Vu);e.value=n,t!==void 0&&(e.equal=t);let i=()=>(lc(e),e.value);return i[Ii]=e,i}function cc(n,t){$0()||ew(n),n.equal(n.value,t)||(n.value=t,GR(n))}function Q0(n,t){$0()||ew(n),cc(n,t(n.value))}var Vu=pe(B({},ac),{equal:B0,value:void 0,kind:"signal"});function GR(n){n.version++,Kx(),z0(n),$R?.()}function X0(n){let t=Ve(null);try{return n()}finally{Ve(t)}}var J0;function dc(){return J0}function or(n){let t=J0;return J0=n,t}var Bu=Symbol("NotFound");function Re(n){return typeof n=="function"}function Pa(n){let e=n(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var ju=Pa(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,o)=>`${o+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function bs(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Rt=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let r of e)r.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(Re(i))try{i()}catch(r){t=r instanceof ju?r.errors:[r]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let r of o)try{tw(r)}catch(s){t=t??[],s instanceof ju?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ju(t)}}add(t){var e;if(t&&t!==this)if(this.closed)tw(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&bs(e,t)}remove(t){let{_finalizers:e}=this;e&&bs(e,t),t instanceof n&&t._removeParent(this)}};Rt.EMPTY=(()=>{let n=new Rt;return n.closed=!0,n})();var e_=Rt.EMPTY;function Hu(n){return n instanceof Rt||n&&"closed"in n&&Re(n.remove)&&Re(n.add)&&Re(n.unsubscribe)}function tw(n){Re(n)?n():n.unsubscribe()}var $i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oa={setTimeout(n,t,...e){let{delegate:i}=Oa;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=Oa;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Uu(n){Oa.setTimeout(()=>{let{onUnhandledError:t}=$i;if(t)t(n);else throw n})}function uc(){}var nw=t_("C",void 0,void 0);function iw(n){return t_("E",void 0,n)}function ow(n){return t_("N",n,void 0)}function t_(n,t,e){return{kind:n,value:t,error:e}}var ys=null;function Ia(n){if($i.useDeprecatedSynchronousErrorHandling){let t=!ys;if(t&&(ys={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:i}=ys;if(ys=null,e)throw i}}else n()}function rw(n){$i.useDeprecatedSynchronousErrorHandling&&ys&&(ys.errorThrown=!0,ys.error=n)}var Cs=class extends Rt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Hu(t)&&t.add(this)):this.destination=QR}static create(t,e,i){return new ka(t,e,i)}next(t){this.isStopped?i_(ow(t),this):this._next(t)}error(t){this.isStopped?i_(iw(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?i_(nw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KR=Function.prototype.bind;function n_(n,t){return KR.call(n,t)}var o_=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){zu(i)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){zu(i)}else zu(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){zu(e)}}},ka=class extends Cs{constructor(t,e,i){super();let o;if(Re(t)||!t)o={next:t??void 0,error:e??void 0,complete:i??void 0};else{let r;this&&$i.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&n_(t.next,r),error:t.error&&n_(t.error,r),complete:t.complete&&n_(t.complete,r)}):o=t}this.destination=new o_(o)}};function zu(n){$i.useDeprecatedSynchronousErrorHandling?rw(n):Uu(n)}function ZR(n){throw n}function i_(n,t){let{onStoppedNotification:e}=$i;e&&Oa.setTimeout(()=>e(n,t))}var QR={closed:!0,next:uc,error:ZR,complete:uc};var Ta=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wn(n){return n}function r_(...n){return s_(n)}function s_(n){return n.length===0?Wn:n.length===1?n[0]:function(e){return n.reduce((i,o)=>o(i),e)}}var He=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,o){let r=JR(e)?e:new ka(e,i,o);return Ia(()=>{let{operator:s,source:a}=this;r.add(s?s.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=sw(i),new i((o,r)=>{let s=new ka({next:a=>{try{e(a)}catch(l){r(l),s.unsubscribe()}},error:r,complete:o});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[Ta](){return this}pipe(...e){return s_(e)(this)}toPromise(e){return e=sw(e),new e((i,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>i(r))})}}return n.create=t=>new n(t),n})();function sw(n){var t;return(t=n??$i.Promise)!==null&&t!==void 0?t:Promise}function XR(n){return n&&Re(n.next)&&Re(n.error)&&Re(n.complete)}function JR(n){return n&&n instanceof Cs||XR(n)&&Hu(n)}function a_(n){return Re(n?.lift)}function Ue(n){return t=>{if(a_(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(n,t,e,i,o){return new l_(n,t,e,i,o)}var l_=class extends Cs{constructor(t,e,i,o,r,s){super(t),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Aa(){return Ue((n,t)=>{let e=null;n._refCount++;let i=Ne(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let o=n._connection,r=e;e=null,o&&(!r||o===r)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}var Ra=class extends He{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,a_(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Rt;let e=this.getSubject();t.add(this.source.subscribe(Ne(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Rt.EMPTY)}return t}refCount(){return Aa()(this)}};var aw=Pa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=(()=>{class n extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new $u(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new aw}next(e){Ia(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){Ia(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ia(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:o,observers:r}=this;return i||o?e_:(this.currentObservers=null,r.push(e),new Rt(()=>{this.currentObservers=null,bs(r,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:o,isStopped:r}=this;i?e.error(o):r&&e.complete()}asObservable(){let e=new He;return e.source=this,e}}return n.create=(t,e)=>new $u(t,e),n})(),$u=class extends le{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,t)}error(t){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&i!==void 0?i:e_}};var Ot=class extends le{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var fc={now(){return(fc.delegate||Date).now()},delegate:void 0};var Lr=class extends le{constructor(t=1/0,e=1/0,i=fc){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:r,_windowTime:s}=this;e||(i.push(t),!o&&i.push(r.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,r=o.slice();for(let s=0;s<r.length&&!t.closed;s+=i?1:2)t.next(r[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,r=(o?1:2)*t;if(t<1/0&&r<i.length&&i.splice(0,i.length-r),!o){let s=e.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var Gu=class extends Rt{constructor(t,e){super()}schedule(t,e=0){return this}};var pc={setInterval(n,t,...e){let{delegate:i}=pc;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=pc;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Wu=class extends Gu{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;let o=this.id,r=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(r,o,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return pc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&pc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i=!1,o;try{this.work(t)}catch(r){i=!0,o=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,bs(i,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var Na=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}};Na.now=fc.now;var qu=class extends Na{constructor(t,e=Na.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}};var hc=new qu(Wu),lw=hc;var Rn=new He(n=>n.complete());function Yu(n){return n&&Re(n.schedule)}function c_(n){return n[n.length-1]}function Ku(n){return Re(c_(n))?n.pop():void 0}function Co(n){return Yu(c_(n))?n.pop():void 0}function cw(n,t){return typeof c_(n)=="number"?n.pop():t}function uw(n,t,e,i){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function a(f){try{c(i.next(f))}catch(h){s(h)}}function l(f){try{c(i.throw(f))}catch(h){s(h)}}function c(f){f.done?r(f.value):o(f.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}function dw(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xs(n){return this instanceof xs?(this.v=n,this):new xs(n)}function fw(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(n,t||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(v){return Promise.resolve(v).then(g,h)}}function a(g,v){i[g]&&(o[g]=function(b){return new Promise(function(C,E){r.push([g,b,C,E])>1||l(g,b)})},v&&(o[g]=v(o[g])))}function l(g,v){try{c(i[g](v))}catch(b){_(r[0][3],b)}}function c(g){g.value instanceof xs?Promise.resolve(g.value.v).then(f,h):_(r[0][2],g)}function f(g){l("next",g)}function h(g){l("throw",g)}function _(g,v){g(v),r.shift(),r.length&&l(r[0][0],r[0][1])}}function pw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof dw=="function"?dw(n):n[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=n[r]&&function(s){return new Promise(function(a,l){s=n[r](s),o(a,l,s.done,s.value)})}}function o(r,s,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},s)}}var Zu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Qu(n){return Re(n?.then)}function Xu(n){return Re(n[Ta])}function Ju(n){return Symbol.asyncIterator&&Re(n?.[Symbol.asyncIterator])}function ef(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tf=eN();function nf(n){return Re(n?.[tf])}function of(n){return fw(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:i,done:o}=yield xs(e.read());if(o)return yield xs(void 0);yield yield xs(i)}}finally{e.releaseLock()}})}function rf(n){return Re(n?.getReader)}function Ut(n){if(n instanceof He)return n;if(n!=null){if(Xu(n))return tN(n);if(Zu(n))return nN(n);if(Qu(n))return iN(n);if(Ju(n))return hw(n);if(nf(n))return oN(n);if(rf(n))return rN(n)}throw ef(n)}function tN(n){return new He(t=>{let e=n[Ta]();if(Re(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nN(n){return new He(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function iN(n){return new He(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Uu)})}function oN(n){return new He(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function hw(n){return new He(t=>{sN(n,t).catch(e=>t.error(e))})}function rN(n){return hw(of(n))}function sN(n,t){var e,i,o,r;return uw(this,void 0,void 0,function*(){try{for(e=pw(n);i=yield e.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(o)throw o.error}}t.complete()})}function Jn(n,t,e,i=0,o=!1){let r=t.schedule(function(){e(),o?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!o)return r}function sf(n,t=0){return Ue((e,i)=>{e.subscribe(Ne(i,o=>Jn(i,n,()=>i.next(o),t),()=>Jn(i,n,()=>i.complete(),t),o=>Jn(i,n,()=>i.error(o),t)))})}function af(n,t=0){return Ue((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function mw(n,t){return Ut(n).pipe(af(t),sf(t))}function gw(n,t){return Ut(n).pipe(af(t),sf(t))}function _w(n,t){return new He(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}function vw(n,t){return new He(e=>{let i;return Jn(e,t,()=>{i=n[tf](),Jn(e,t,()=>{let o,r;try{({value:o,done:r}=i.next())}catch(s){e.error(s);return}r?e.complete():e.next(o)},0,!0)}),()=>Re(i?.return)&&i.return()})}function lf(n,t){if(!n)throw new Error("Iterable cannot be null");return new He(e=>{Jn(e,t,()=>{let i=n[Symbol.asyncIterator]();Jn(e,t,()=>{i.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function bw(n,t){return lf(of(n),t)}function yw(n,t){if(n!=null){if(Xu(n))return mw(n,t);if(Zu(n))return _w(n,t);if(Qu(n))return gw(n,t);if(Ju(n))return lf(n,t);if(nf(n))return vw(n,t);if(rf(n))return bw(n,t)}throw ef(n)}function bt(n,t){return t?yw(n,t):Ut(n)}function re(...n){let t=Co(n);return bt(n,t)}function Nn(n,t){let e=Re(n)?n:()=>n,i=o=>o.error(e());return new He(t?o=>t.schedule(i,0,o):i)}function cf(n){return!!n&&(n instanceof He||Re(n.lift)&&Re(n.subscribe))}var rr=Pa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Cw(n){return n instanceof Date&&!isNaN(n)}function ve(n,t){return Ue((e,i)=>{let o=0;e.subscribe(Ne(i,r=>{i.next(n.call(t,r,o++))}))})}var{isArray:aN}=Array;function lN(n,t){return aN(t)?n(...t):n(t)}function df(n){return ve(t=>lN(n,t))}var{isArray:cN}=Array,{getPrototypeOf:dN,prototype:uN,keys:fN}=Object;function uf(n){if(n.length===1){let t=n[0];if(cN(t))return{args:t,keys:null};if(pN(t)){let e=fN(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function pN(n){return n&&typeof n=="object"&&dN(n)===uN}function ff(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}function ws(...n){let t=Co(n),e=Ku(n),{args:i,keys:o}=uf(n);if(i.length===0)return bt([],t);let r=new He(hN(i,t,o?s=>ff(o,s):Wn));return e?r.pipe(df(e)):r}function hN(n,t,e=Wn){return i=>{xw(t,()=>{let{length:o}=n,r=new Array(o),s=o,a=o;for(let l=0;l<o;l++)xw(t,()=>{let c=bt(n[l],t),f=!1;c.subscribe(Ne(i,h=>{r[l]=h,f||(f=!0,a--),a||i.next(e(r.slice()))},()=>{--s||i.complete()}))},i)},i)}}function xw(n,t,e){n?Jn(e,n,t):t()}function ww(n,t,e,i,o,r,s,a){let l=[],c=0,f=0,h=!1,_=()=>{h&&!l.length&&!c&&t.complete()},g=b=>c<i?v(b):l.push(b),v=b=>{r&&t.next(b),c++;let C=!1;Ut(e(b,f++)).subscribe(Ne(t,E=>{o?.(E),r?g(E):t.next(E)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){let E=l.shift();s?Jn(t,s,()=>v(E)):v(E)}_()}catch(E){t.error(E)}}))};return n.subscribe(Ne(t,g,()=>{h=!0,_()})),()=>{a?.()}}function on(n,t,e=1/0){return Re(t)?on((i,o)=>ve((r,s)=>t(i,r,o,s))(Ut(n(i,o))),e):(typeof t=="number"&&(e=t),Ue((i,o)=>ww(i,o,n,e)))}function xo(n=1/0){return on(Wn,n)}function Mw(){return xo(1)}function Vr(...n){return Mw()(bt(n,Co(n)))}function Br(n){return new He(t=>{Ut(n()).subscribe(t)})}function d_(...n){let t=Ku(n),{args:e,keys:i}=uf(n),o=new He(r=>{let{length:s}=e;if(!s){r.complete();return}let a=new Array(s),l=s,c=s;for(let f=0;f<s;f++){let h=!1;Ut(e[f]).subscribe(Ne(r,_=>{h||(h=!0,c--),a[f]=_},()=>l--,void 0,()=>{(!l||!h)&&(c||r.next(i?ff(i,a):a),r.complete())}))}});return t?o.pipe(df(t)):o}function Ew(n=0,t,e=lw){let i=-1;return t!=null&&(Yu(t)?e=t:i=t),new He(o=>{let r=Cw(n)?+n-e.now():n;r<0&&(r=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=i?this.schedule(void 0,i):o.complete())},r)})}function mc(...n){let t=Co(n),e=cw(n,1/0),i=n;return i.length?i.length===1?Ut(i[0]):xo(e)(bt(i,t)):Rn}function Nt(n,t){return Ue((e,i)=>{let o=0;e.subscribe(Ne(i,r=>n.call(t,r,o++)&&i.next(r)))})}function Dw(n){return Ue((t,e)=>{let i=!1,o=null,r=null,s=!1,a=()=>{if(r?.unsubscribe(),r=null,i){i=!1;let c=o;o=null,e.next(c)}s&&e.complete()},l=()=>{r=null,s&&e.complete()};t.subscribe(Ne(e,c=>{i=!0,o=c,r||Ut(n(c)).subscribe(r=Ne(e,a,l))},()=>{s=!0,(!i||!r||r.closed)&&e.complete()}))})}function pf(n,t=hc){return Dw(()=>Ew(n,t))}function ht(n){return Ue((t,e)=>{let i=null,o=!1,r;i=t.subscribe(Ne(e,void 0,void 0,s=>{r=Ut(n(s,ht(n)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,r.subscribe(e))})}function Sw(n,t,e,i,o){return(r,s)=>{let a=e,l=t,c=0;r.subscribe(Ne(s,f=>{let h=c++;l=a?n(l,f,h):(a=!0,f),i&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}function wo(n,t){return Re(t)?on(n,t,1):on(n,1)}function u_(n,t=hc){return Ue((e,i)=>{let o=null,r=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let c=r;r=null,i.next(c)}};function l(){let c=s+n,f=t.now();if(f<c){o=this.schedule(void 0,c-f),i.add(o);return}a()}e.subscribe(Ne(i,c=>{r=c,s=t.now(),o||(o=t.schedule(l,n),i.add(o))},()=>{a(),i.complete()},void 0,()=>{r=o=null}))})}function jr(n){return Ue((t,e)=>{let i=!1;t.subscribe(Ne(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function ln(n){return n<=0?()=>Rn:Ue((t,e)=>{let i=0;t.subscribe(Ne(e,o=>{++i<=n&&(e.next(o),n<=i&&e.complete())}))})}function hf(n,t=Wn){return n=n??mN,Ue((e,i)=>{let o,r=!0;e.subscribe(Ne(i,s=>{let a=t(s);(r||!n(o,a))&&(r=!1,o=a,i.next(s))}))})}function mN(n,t){return n===t}function mf(n=gN){return Ue((t,e)=>{let i=!1;t.subscribe(Ne(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function gN(){return new rr}function Ms(n){return Ue((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function sr(n,t){let e=arguments.length>=2;return i=>i.pipe(n?Nt((o,r)=>n(o,r,i)):Wn,ln(1),e?jr(t):mf(()=>new rr))}function Fa(n){return n<=0?()=>Rn:Ue((t,e)=>{let i=[];t.subscribe(Ne(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(let o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function f_(n,t){let e=arguments.length>=2;return i=>i.pipe(n?Nt((o,r)=>n(o,r,i)):Wn,Fa(1),e?jr(t):mf(()=>new rr))}function p_(n,t){return Ue(Sw(n,t,arguments.length>=2,!0))}function gc(n){return Nt((t,e)=>n<=e)}function Mo(...n){let t=Co(n);return Ue((e,i)=>{(t?Vr(n,e,t):Vr(n,e)).subscribe(i)})}function qn(n,t){return Ue((e,i)=>{let o=null,r=0,s=!1,a=()=>s&&!o&&i.complete();e.subscribe(Ne(i,l=>{o?.unsubscribe();let c=0,f=r++;Ut(n(l,f)).subscribe(o=Ne(i,h=>i.next(t?t(l,h,f,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Eo(n){return Ue((t,e)=>{Ut(n).subscribe(Ne(e,()=>e.complete(),uc)),!e.closed&&t.subscribe(e)})}function we(n,t,e){let i=Re(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ue((o,r)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;o.subscribe(Ne(r,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),r.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),r.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),r.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Wn}var v_={JSACTION:"jsaction"},b_={JSACTION:"__jsaction",OWNER:"__owner"},kw={};function _N(n){return n[b_.JSACTION]}function Pw(n,t){n[b_.JSACTION]=t}function vN(n){return kw[n]}function bN(n,t){kw[n]=t}var he={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},yN=[he.MOUSEENTER,he.MOUSELEAVE,"pointerenter","pointerleave"],Gse=[he.CLICK,he.DBLCLICK,he.FOCUSIN,he.FOCUSOUT,he.KEYDOWN,he.KEYUP,he.KEYPRESS,he.MOUSEOVER,he.MOUSEOUT,he.SUBMIT,he.TOUCHSTART,he.TOUCHEND,he.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],CN=[he.FOCUS,he.BLUR,he.ERROR,he.LOAD,he.TOGGLE],y_=n=>CN.indexOf(n)>=0;function xN(n){return n===he.MOUSEENTER?he.MOUSEOVER:n===he.MOUSELEAVE?he.MOUSEOUT:n===he.POINTERENTER?he.POINTEROVER:n===he.POINTERLEAVE?he.POINTEROUT:n}function wN(n,t,e,i){let o=!1;y_(t)&&(o=!0);let r=typeof i=="boolean"?{capture:o,passive:i}:o;return n.addEventListener(t,e,r),{eventType:t,handler:e,capture:o,passive:i}}function MN(n,t){if(n.removeEventListener){let e=typeof t.passive=="boolean"?{capture:t.capture}:t.capture;n.removeEventListener(t.eventType,t.handler,e)}else n.detachEvent&&n.detachEvent(`on${t.eventType}`,t.handler)}function EN(n){n.preventDefault?n.preventDefault():n.returnValue=!1}var Ow=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function DN(n){return n.which===2||n.which==null&&n.button===4}function SN(n){return Ow&&n.metaKey||!Ow&&n.ctrlKey||DN(n)||n.shiftKey}function PN(n,t,e){let i=n.relatedTarget;return(n.type===he.MOUSEOVER&&t===he.MOUSEENTER||n.type===he.MOUSEOUT&&t===he.MOUSELEAVE||n.type===he.POINTEROVER&&t===he.POINTERENTER||n.type===he.POINTEROUT&&t===he.POINTERLEAVE)&&(!i||i!==e&&!e.contains(i))}function ON(n,t){let e={};for(let i in n){if(i==="srcElement"||i==="target")continue;let o=i,r=n[o];typeof r!="function"&&(e[o]=r)}return n.type===he.MOUSEOVER?e.type=he.MOUSEENTER:n.type===he.MOUSEOUT?e.type=he.MOUSELEAVE:n.type===he.POINTEROVER?e.type=he.POINTERENTER:e.type=he.POINTERLEAVE,e.target=e.srcElement=t,e.bubbles=!1,e._originalEvent=n,e}var IN=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),bf=class{element;handlerInfos=[];constructor(t){this.element=t}addEventListener(t,e,i){IN&&(this.element.style.cursor="pointer"),this.handlerInfos.push(wN(this.element,t,e(this.element),i))}cleanUp(){for(let t=0;t<this.handlerInfos.length;t++)MN(this.element,this.handlerInfos[t]);this.handlerInfos=[]}},kN={EVENT_ACTION_SEPARATOR:":"};function Hr(n){return n.eventType}function C_(n,t){n.eventType=t}function _f(n){return n.event}function Tw(n,t){n.event=t}function Aw(n){return n.targetElement}function Rw(n,t){n.targetElement=t}function Nw(n){return n.eic}function TN(n,t){n.eic=t}function AN(n){return n.timeStamp}function RN(n,t){n.timeStamp=t}function vf(n){return n.eia}function Fw(n,t,e){n.eia=[t,e]}function h_(n){n.eia=void 0}function gf(n){return n[1]}function NN(n){return n.eirp}function Lw(n,t){n.eirp=t}function Vw(n){return n.eir}function Bw(n,t){n.eir=t}function jw(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}function FN(n,t,e,i,o,r,s,a){return{eventType:n,event:t,targetElement:e,eic:i,timeStamp:o,eia:r,eirp:s,eiack:a}}var m_=class n{eventInfo;constructor(t){this.eventInfo=t}getEventType(){return Hr(this.eventInfo)}setEventType(t){C_(this.eventInfo,t)}getEvent(){return _f(this.eventInfo)}setEvent(t){Tw(this.eventInfo,t)}getTargetElement(){return Aw(this.eventInfo)}setTargetElement(t){Rw(this.eventInfo,t)}getContainer(){return Nw(this.eventInfo)}setContainer(t){TN(this.eventInfo,t)}getTimestamp(){return AN(this.eventInfo)}setTimestamp(t){RN(this.eventInfo,t)}getAction(){let t=vf(this.eventInfo);if(t)return{name:t[0],element:t[1]}}setAction(t){if(!t){h_(this.eventInfo);return}Fw(this.eventInfo,t.name,t.element)}getIsReplay(){return NN(this.eventInfo)}setIsReplay(t){Lw(this.eventInfo,t)}getResolved(){return Vw(this.eventInfo)}setResolved(t){Bw(this.eventInfo,t)}clone(){return new n(jw(this.eventInfo))}},LN={},VN=/\s*;\s*/,BN=he.CLICK,g_=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:t=!1,clickModSupport:e=!0}={}){this.syntheticMouseEventSupport=t,this.clickModSupport=e}resolveEventType(t){this.clickModSupport&&Hr(t)===he.CLICK&&SN(_f(t))?C_(t,he.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(t)}resolveAction(t){Vw(t)||(this.populateAction(t,Aw(t)),Bw(t,!0))}resolveParentAction(t){let e=vf(t),i=e&&gf(e);h_(t);let o=i&&this.getParentNode(i);o&&this.populateAction(t,o)}populateAction(t,e){let i=e;for(;i&&i!==Nw(t)&&(i.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(i,t),!vf(t));)i=this.getParentNode(i);let o=vf(t);if(o&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(t),this.syntheticMouseEventSupport&&(Hr(t)===he.MOUSEENTER||Hr(t)===he.MOUSELEAVE||Hr(t)===he.POINTERENTER||Hr(t)===he.POINTERLEAVE)))if(PN(_f(t),Hr(t),gf(o))){let r=ON(_f(t),gf(o));Tw(t,r),Rw(t,gf(o))}else h_(t)}getParentNode(t){let e=t[b_.OWNER];if(e)return e;let i=t.parentNode;return i?.nodeName==="#document-fragment"?i?.host??null:i}populateActionOnElement(t,e){let i=this.parseActions(t),o=i[Hr(e)];o!==void 0&&Fw(e,o,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,e,i)}parseActions(t){let e=_N(t);if(!e){let i=t.getAttribute(v_.JSACTION);if(!i)e=LN,Pw(t,e);else{if(e=vN(i),!e){e={};let o=i.split(VN);for(let r=0;r<o.length;r++){let s=o[r];if(!s)continue;let a=s.indexOf(kN.EVENT_ACTION_SEPARATOR),l=a!==-1,c=l?s.substr(0,a).trim():BN,f=l?s.substr(a+1).trim():s;e[c]=f}bN(i,e)}Pw(t,e)}}return e}addA11yClickSupport(t,e,i){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=e,this.populateClickOnlyAction=i}},Hw=function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n}(Hw||{}),__=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(t,{actionResolver:e,eventReplayer:i}={}){this.dispatchDelegate=t,this.actionResolver=e,this.eventReplayer=i}dispatch(t){let e=new m_(t);this.actionResolver?.resolveEventType(t),this.actionResolver?.resolveAction(t);let i=e.getAction();if(i&&jN(i.element,e)&&EN(e.getEvent()),this.eventReplayer&&e.getIsReplay()){this.scheduleEventInfoWrapperReplay(e);return}this.dispatchDelegate(e)}scheduleEventInfoWrapperReplay(t){this.replayEventInfoWrappers.push(t),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function jN(n,t){return n.tagName==="A"&&(t.getEventType()===he.CLICK||t.getEventType()===he.CLICKMOD)}var Uw=Symbol.for("propagationStopped"),x_={REPLAY:101};var HN="`preventDefault` called during event replay.";var UN="`composedPath` called during event replay.",yf=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(t,e=!0){this.dispatchDelegate=t,this.clickModSupport=e,this.actionResolver=new g_({clickModSupport:e}),this.dispatcher=new __(i=>{this.dispatchToDelegate(i)},{actionResolver:this.actionResolver})}dispatch(t){this.dispatcher.dispatch(t)}dispatchToDelegate(t){for(t.getIsReplay()&&GN(t),zN(t);t.getAction();){if(WN(t),y_(t.getEventType())&&t.getAction().element!==t.getTargetElement()||(this.dispatchDelegate(t.getEvent(),t.getAction().name),$N(t)))return;this.actionResolver.resolveParentAction(t.eventInfo)}}};function zN(n){let t=n.getEvent(),e=n.getEvent().stopPropagation.bind(t),i=()=>{t[Uw]=!0,e()};Es(t,"stopPropagation",i),Es(t,"stopImmediatePropagation",i)}function $N(n){return!!n.getEvent()[Uw]}function GN(n){let t=n.getEvent(),e=n.getTargetElement(),i=t.preventDefault.bind(t);Es(t,"target",e),Es(t,"eventPhase",x_.REPLAY),Es(t,"preventDefault",()=>{throw i(),new Error(HN+"")}),Es(t,"composedPath",()=>{throw new Error(UN+"")})}function WN(n){let t=n.getEvent(),e=n.getAction()?.element;e&&Es(t,"currentTarget",e,{configurable:!0})}function Es(n,t,e,{configurable:i=!1}={}){Object.defineProperty(n,t,{value:e,configurable:i})}function zw(n,t){n.ecrd(e=>{t.dispatch(e)},Hw.I_AM_THE_JSACTION_FRAMEWORK)}function qN(n){return n?.q??[]}function YN(n){n&&(Iw(n.c,n.et,n.h),Iw(n.c,n.etc,n.h,!0))}function Iw(n,t,e,i){for(let o=0;o<t.length;o++)n.removeEventListener(t[o],e,i)}var KN=!1,$w=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=KN;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(e){this.containerManager=e}handleEvent(e,i,o){let r=FN(e,i,i.target,o,Date.now());this.handleEventInfo(r)}handleEventInfo(e){if(!this.dispatcher){Lw(e,!0),this.queuedEventInfos?.push(e);return}this.dispatcher(e)}addEvent(e,i,o){if(e in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&yN.indexOf(e)>=0)return;let r=(a,l,c)=>{this.handleEvent(a,l,c)};this.eventHandlers[e]=r;let s=xN(i||e);if(s!==e){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(e),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{r(e,l,a)},o)}replayEarlyEvents(e=window._ejsa){e&&(this.replayEarlyEventInfos(e.q),YN(e),delete window._ejsa)}replayEarlyEventInfos(e){for(let i=0;i<e.length;i++){let o=e[i],r=this.getEventTypesForBrowserEventType(o.eventType);for(let s=0;s<r.length;s++){let a=jw(o);C_(a,r[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(e){let i=[];return this.eventHandlers[e]&&i.push(e),this.browserEventTypeToExtraEventTypes[e]&&i.push(...this.browserEventTypeToExtraEventTypes[e]),i}handler(e){return this.eventHandlers[e]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(e,i){this.ecrd(e,i)}ecrd(e,i){if(this.dispatcher=e,this.queuedEventInfos?.length){for(let o=0;o<this.queuedEventInfos.length;o++)this.handleEventInfo(this.queuedEventInfos[o]);this.queuedEventInfos=null}}}return n})();function Gw(n,t=window){return qN(t._ejsas?.[n])}function w_(n,t=window){t._ejsas&&(t._ejsas[n]=void 0)}var eE="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(t,e){super(fp(t,e)),this.code=t}};function ZN(n){return`NG0${Math.abs(n)}`}function fp(n,t){return`${ZN(n)}${t?": "+t:""}`}var tE=Symbol("InputSignalNode#UNSET"),QN=pe(B({},Vu),{transformFn:void 0,applyValueToInputSignal(n,t){cc(n,t)}});function nE(n,t){let e=Object.create(QN);e.value=n,e.transformFn=t?.transform;function i(){if(lc(e),e.value===tE){let o=null;throw new H(-950,o)}return e.value}return i[Ii]=e,i}function Ic(n){return{toString:n}.toString()}var Cf="__parameters__";function XN(n){return function(...e){if(n){let i=n(...e);for(let o in i)this[o]=i[o]}}}function iE(n,t,e){return Ic(()=>{let i=XN(t);function o(...r){if(this instanceof o)return i.apply(this,r),this;let s=new o(...r);return a.annotation=s,a;function a(l,c,f){let h=l.hasOwnProperty(Cf)?l[Cf]:Object.defineProperty(l,Cf,{value:[]})[Cf];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var xn=globalThis;function It(n){for(let t in n)if(n[t]===It)return t;throw Error("Could not find renamed property on target object.")}function JN(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function ii(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ii).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i>=0?e.slice(0,i):e}function z_(n,t){return n?t?`${n} ${t}`:n:t||""}var eF=It({__forward_ref__:It});function Ci(n){return n.__forward_ref__=Ci,n.toString=function(){return ii(this())},n}function Yn(n){return oE(n)?n():n}function oE(n){return typeof n=="function"&&n.hasOwnProperty(eF)&&n.__forward_ref__===Ci}function N(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dt(n){return{providers:n.providers||[],imports:n.imports||[]}}function pp(n){return Ww(n,sE)||Ww(n,aE)}function rE(n){return pp(n)!==null}function Ww(n,t){return n.hasOwnProperty(t)?n[t]:null}function tF(n){let t=n&&(n[sE]||n[aE]);return t||null}function qw(n){return n&&(n.hasOwnProperty(Yw)||n.hasOwnProperty(nF))?n[Yw]:null}var sE=It({\u0275prov:It}),Yw=It({\u0275inj:It}),aE=It({ngInjectableDef:It}),nF=It({ngInjectorDef:It}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=N({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lE(n){return n&&!!n.\u0275providers}var iF=It({\u0275cmp:It}),oF=It({\u0275dir:It}),rF=It({\u0275pipe:It}),sF=It({\u0275mod:It}),Lf=It({\u0275fac:It}),Cc=It({__NG_ELEMENT_ID__:It}),Kw=It({__NG_ENV_ID__:It});function Os(n){return typeof n=="string"?n:n==null?"":String(n)}function aF(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Os(n)}function cE(n,t){throw new H(-200,n)}function tb(n,t){throw new H(-201,!1)}var je=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(je||{}),$_;function dE(){return $_}function ei(n){let t=$_;return $_=n,t}function uE(n,t,e){let i=pp(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&je.Optional)return null;if(t!==void 0)return t;tb(n,"Injector")}var lF={},Ss=lF,G_="__NG_DI_FLAG__",Vf=class{injector;constructor(t){this.injector=t}retrieve(t,e){let i=e;return this.injector.get(t,i.optional?Bu:Ss,i)}},Bf="ngTempTokenPath",cF="ngTokenPath",dF=/\n/gm,uF="\u0275",Zw="__source";function fF(n,t=je.Default){if(dc()===void 0)throw new H(-203,!1);if(dc()===null)return uE(n,void 0,t);{let e=dc(),i;return e instanceof Vf?i=e.injector:i=e,i.get(n,t&je.Optional?null:void 0,t)}}function W(n,t=je.Default){return(dE()||fF)(Yn(n),t)}function y(n,t=je.Default){return W(n,hp(t))}function hp(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function W_(n){let t=[];for(let e=0;e<n.length;e++){let i=Yn(n[e]);if(Array.isArray(i)){if(i.length===0)throw new H(900,!1);let o,r=je.Default;for(let s=0;s<i.length;s++){let a=i[s],l=pF(a);typeof l=="number"?l===-1?o=a.token:r|=l:o=a}t.push(W(o,r))}else t.push(W(i))}return t}function fE(n,t){return n[G_]=t,n.prototype[G_]=t,n}function pF(n){return n[G_]}function hF(n,t,e,i){let o=n[Bf];throw t[Zw]&&o.unshift(t[Zw]),n.message=mF(`
`+n.message,o,e,i),n[cF]=o,n[Bf]=null,n}function mF(n,t,e,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==uF?n.slice(2):n;let o=ii(t);if(Array.isArray(t))o=t.map(ii).join(" -> ");else if(typeof t=="object"){let r=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];r.push(s+":"+(typeof a=="string"?JSON.stringify(a):ii(a)))}o=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${o}]: ${n.replace(dF,`
  `)}`}var nb=fE(iE("Optional"),8);var gF=fE(iE("SkipSelf"),4);function Is(n,t){let e=n.hasOwnProperty(Lf);return e?n[Lf]:null}function _F(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],r=t[i];if(e&&(o=e(o),r=e(r)),r!==o)return!1}return!0}function vF(n){return n.flat(Number.POSITIVE_INFINITY)}function ib(n,t){n.forEach(e=>Array.isArray(e)?ib(e,t):t(e))}function pE(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function jf(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Qw(n,t,e){let i=n.length-e;for(;t<i;)n[t]=n[t+e],t++;for(;e--;)n.pop()}function hE(n,t,e,i){let o=n.length;if(o==t)n.push(e,i);else if(o===1)n.push(i,n[0]),n[0]=e;else{for(o--,n.push(n[o-1],n[o]);o>t;){let r=o-2;n[o]=n[r],o--}n[t]=e,n[t+1]=i}}function kc(n,t,e){let i=Tc(n,t);return i>=0?n[i|1]=e:(i=~i,hE(n,i,t,e)),i}function M_(n,t){let e=Tc(n,t);if(e>=0)return n[e|1]}function Tc(n,t){return bF(n,t,1)}function bF(n,t,e){let i=0,o=n.length>>e;for(;o!==i;){let r=i+(o-i>>1),s=n[r<<e];if(t===s)return r<<e;s>t?o=r:i=r+1}return~(o<<e)}var ks={},ni=[],$r=new z(""),mE=new z("",-1),gE=new z(""),Hf=class{get(t,e=Ss){if(e===Ss){let i=new Error(`NullInjectorError: No provider for ${ii(t)}!`);throw i.name="NullInjectorError",i}return e}};function _E(n,t){let e=n[sF]||null;if(!e&&t===!0)throw new Error(`Type ${ii(n)} does not have '\u0275mod' property.`);return e}function ar(n){return n[iF]||null}function vE(n){return n[oF]||null}function bE(n){return n[rF]||null}function Ji(n){return{\u0275providers:n}}function ob(...n){return{\u0275providers:rb(!0,n),\u0275fromNgModule:!0}}function rb(n,...t){let e=[],i=new Set,o,r=s=>{e.push(s)};return ib(t,s=>{let a=s;q_(a,r,[],i)&&(o||=[],o.push(a))}),o!==void 0&&yE(o,r),e}function yE(n,t){for(let e=0;e<n.length;e++){let{ngModule:i,providers:o}=n[e];sb(o,r=>{t(r,i)})}}function q_(n,t,e,i){if(n=Yn(n),!n)return!1;let o=null,r=qw(n),s=!r&&ar(n);if(!r&&!s){let l=n.ngModule;if(r=qw(l),r)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=n}let a=i.has(o);if(s){if(a)return!1;if(i.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)q_(c,t,e,i)}}else if(r){if(r.imports!=null&&!a){i.add(o);let c;try{ib(r.imports,f=>{q_(f,t,e,i)&&(c||=[],c.push(f))})}finally{}c!==void 0&&yE(c,t)}if(!a){let c=Is(o)||(()=>new o);t({provide:o,useFactory:c,deps:ni},o),t({provide:gE,useValue:o,multi:!0},o),t({provide:$r,useValue:()=>W(o),multi:!0},o)}let l=r.providers;if(l!=null&&!a){let c=n;sb(l,f=>{t(f,c)})}}else return!1;return o!==n&&n.providers!==void 0}function sb(n,t){for(let e of n)lE(e)&&(e=e.\u0275providers),Array.isArray(e)?sb(e,t):t(e)}var yF=It({provide:String,useValue:It});function CE(n){return n!==null&&typeof n=="object"&&yF in n}function CF(n){return!!(n&&n.useExisting)}function xF(n){return!!(n&&n.useFactory)}function Wa(n){return typeof n=="function"}function wF(n){return!!n.useClass}var mp=new z(""),Of={},Xw={},E_;function gp(){return E_===void 0&&(E_=new Hf),E_}var Gt=class{},xc=class extends Gt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,i,o){super(),this.parent=e,this.source=i,this.scopes=o,K_(t,s=>this.processProvider(s)),this.records.set(mE,La(void 0,this)),o.has("environment")&&this.records.set(Gt,La(void 0,this));let r=this.records.get(mp);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(gE,ni,je.Self))}retrieve(t,e){let i=e;return this.get(t,i.optional?Bu:Ss,i)}destroy(){vc(this),this._destroyed=!0;let t=Ve(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ve(t)}}onDestroy(t){return vc(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){vc(this);let e=or(this),i=ei(void 0),o;try{return t()}finally{or(e),ei(i)}}get(t,e=Ss,i=je.Default){if(vc(this),t.hasOwnProperty(Kw))return t[Kw](this);i=hp(i);let o,r=or(this),s=ei(void 0);try{if(!(i&je.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=PF(t)&&pp(t);c&&this.injectableDefInScope(c)?l=La(Y_(t),Of):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let a=i&je.Self?gp():this.parent;return e=i&je.Optional&&e===Ss?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Bf]=a[Bf]||[]).unshift(ii(t)),r)throw a;return hF(a,t,"R3InjectorError",this.source)}else throw a}finally{ei(s),or(r)}}resolveInjectorInitializers(){let t=Ve(null),e=or(this),i=ei(void 0),o;try{let r=this.get($r,ni,je.Self);for(let s of r)s()}finally{or(e),ei(i),Ve(t)}}toString(){let t=[],e=this.records;for(let i of e.keys())t.push(ii(i));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Yn(t);let e=Wa(t)?t:Yn(t&&t.provide),i=EF(t);if(!Wa(t)&&t.multi===!0){let o=this.records.get(e);o||(o=La(void 0,Of,!0),o.factory=()=>W_(o.multi),this.records.set(e,o)),e=t,o.multi.push(t)}this.records.set(e,i)}hydrate(t,e,i){let o=Ve(null);try{return e.value===Xw?cE(ii(t)):e.value===Of&&(e.value=Xw,e.value=e.factory(void 0,i)),typeof e.value=="object"&&e.value&&SF(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Ve(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Yn(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Y_(n){let t=pp(n),e=t!==null?t.factory:Is(n);if(e!==null)return e;if(n instanceof z)throw new H(204,!1);if(n instanceof Function)return MF(n);throw new H(204,!1)}function MF(n){if(n.length>0)throw new H(204,!1);let e=tF(n);return e!==null?()=>e.factory(n):()=>new n}function EF(n){if(CE(n))return La(void 0,n.useValue);{let t=xE(n);return La(t,Of)}}function xE(n,t,e){let i;if(Wa(n)){let o=Yn(n);return Is(o)||Y_(o)}else if(CE(n))i=()=>Yn(n.useValue);else if(xF(n))i=()=>n.useFactory(...W_(n.deps||[]));else if(CF(n))i=(o,r)=>W(Yn(n.useExisting),r!==void 0&&r&je.Optional?je.Optional:void 0);else{let o=Yn(n&&(n.useClass||n.provide));if(DF(n))i=()=>new o(...W_(n.deps));else return Is(o)||Y_(o)}return i}function vc(n){if(n.destroyed)throw new H(205,!1)}function La(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function DF(n){return!!n.deps}function SF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function PF(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function K_(n,t){for(let e of n)Array.isArray(e)?K_(e,t):e&&lE(e)?K_(e.\u0275providers,t):t(e)}function ri(n,t){let e;n instanceof xc?(vc(n),e=n):e=new Vf(n);let i,o=or(e),r=ei(void 0);try{return t()}finally{or(o),ei(r)}}function ab(){return dE()!==void 0||dc()!=null}function lb(n){if(!ab())throw new H(-203,!1)}function OF(n){return typeof n=="function"}var oi=0,de=1,Te=2,mn=3,Wi=4,eo=5,Ki=6,Uf=7,hn=8,bi=9,lr=10,yt=11,wc=12,Jw=13,Ja=14,yi=15,Ts=16,Va=17,cr=18,_p=19,wE=20,zr=21,D_=22,zf=23,ki=24,Ha=25,kt=26,cb=1,Zi=6,dr=7,$f=8,qa=9,wn=10;function qi(n){return Array.isArray(n)&&typeof n[cb]=="object"}function ko(n){return Array.isArray(n)&&n[cb]===!0}function db(n){return(n.flags&4)!==0}function Bs(n){return n.componentOffset>-1}function vp(n){return(n.flags&1)===1}function Qi(n){return!!n.template}function Mc(n){return(n[Te]&512)!==0}function js(n){return(n[Te]&256)===256}var Z_=class{previousValue;currentValue;firstChange;constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function ME(n,t,e,i){t!==null?t.applyValueToInputSignal(t,i):n[e]=i}var Fn=(()=>{let n=()=>EE;return n.ngInherit=!0,n})();function EE(n){return n.type.prototype.ngOnChanges&&(n.setInput=kF),IF}function IF(){let n=SE(this),t=n?.current;if(t){let e=n.previous;if(e===ks)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function kF(n,t,e,i,o){let r=this.declaredInputs[i],s=SE(n)||TF(n,{previous:ks,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[r];a[r]=new Z_(c&&c.currentValue,e,l===ks),ME(n,t,o,e)}var DE="__ngSimpleChanges__";function SE(n){return n[DE]||null}function TF(n,t){return n[DE]=t}var eM=null;var mt=function(n,t=null,e){eM?.(n,t,e)},PE="svg",AF="math";function Xi(n){for(;Array.isArray(n);)n=n[oi];return n}function RF(n){for(;Array.isArray(n);){if(typeof n[cb]=="object")return n;n=n[oi]}return null}function OE(n,t){return Xi(t[n])}function to(n,t){return Xi(t[n.index])}function Ac(n,t){return n.data[t]}function bp(n,t){return n[t]}function NF(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}function So(n,t){let e=t[n];return qi(e)?e:e[oi]}function FF(n){return(n[Te]&4)===4}function ub(n){return(n[Te]&128)===128}function LF(n){return ko(n[mn])}function Po(n,t){return t==null?null:n[t]}function IE(n){n[Va]=0}function kE(n){n[Te]&1024||(n[Te]|=1024,ub(n)&&Rc(n))}function VF(n,t){for(;n>0;)t=t[Ja],n--;return t}function yp(n){return!!(n[Te]&9216||n[ki]?.dirty)}function Q_(n){n[lr].changeDetectionScheduler?.notify(8),n[Te]&64&&(n[Te]|=1024),yp(n)&&Rc(n)}function Rc(n){n[lr].changeDetectionScheduler?.notify(0);let t=As(n);for(;t!==null&&!(t[Te]&8192||(t[Te]|=8192,!ub(t)));)t=As(t)}function fb(n,t){if(js(n))throw new H(911,!1);n[zr]===null&&(n[zr]=[]),n[zr].push(t)}function TE(n,t){if(n[zr]===null)return;let e=n[zr].indexOf(t);e!==-1&&n[zr].splice(e,1)}function As(n){let t=n[mn];return ko(t)?t[mn]:t}function pb(n){return n[Uf]??=[]}function hb(n){return n.cleanup??=[]}function BF(n,t,e,i){let o=pb(t);o.push(e),n.firstCreatePass&&hb(n).push(i,o.length-1)}var Fe={lFrame:jE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var X_=!1;function jF(){return Fe.lFrame.elementDepthCount}function HF(){Fe.lFrame.elementDepthCount++}function UF(){Fe.lFrame.elementDepthCount--}function mb(){return Fe.bindingsEnabled}function Nc(){return Fe.skipHydrationRootTNode!==null}function zF(n){return Fe.skipHydrationRootTNode===n}function $F(n){Fe.skipHydrationRootTNode=n}function GF(){Fe.skipHydrationRootTNode=null}function _e(){return Fe.lFrame.lView}function jt(){return Fe.lFrame.tView}function P(n){return Fe.lFrame.contextLView=n,n[hn]}function O(n){return Fe.lFrame.contextLView=null,n}function Ln(){let n=AE();for(;n!==null&&n.type===64;)n=n.parent;return n}function AE(){return Fe.lFrame.currentTNode}function WF(){let n=Fe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Hs(n,t){let e=Fe.lFrame;e.currentTNode=n,e.isParent=t}function gb(){return Fe.lFrame.isParent}function RE(){Fe.lFrame.isParent=!1}function qF(){return Fe.lFrame.contextLView}function NE(){return X_}function tM(n){let t=X_;return X_=n,t}function el(){let n=Fe.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function YF(){return Fe.lFrame.bindingIndex}function KF(n){return Fe.lFrame.bindingIndex=n}function hr(){return Fe.lFrame.bindingIndex++}function _b(n){let t=Fe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function ZF(){return Fe.lFrame.inI18n}function QF(n,t){let e=Fe.lFrame;e.bindingIndex=e.bindingRootIndex=n,J_(t)}function XF(){return Fe.lFrame.currentDirectiveIndex}function J_(n){Fe.lFrame.currentDirectiveIndex=n}function FE(n){let t=Fe.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function LE(){return Fe.lFrame.currentQueryIndex}function vb(n){Fe.lFrame.currentQueryIndex=n}function JF(n){let t=n[de];return t.type===2?t.declTNode:t.type===1?n[eo]:null}function VE(n,t,e){if(e&je.SkipSelf){let o=t,r=n;for(;o=o.parent,o===null&&!(e&je.Host);)if(o=JF(r),o===null||(r=r[Ja],o.type&10))break;if(o===null)return!1;t=o,n=r}let i=Fe.lFrame=BE();return i.currentTNode=t,i.lView=n,!0}function bb(n){let t=BE(),e=n[de];Fe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function BE(){let n=Fe.lFrame,t=n===null?null:n.child;return t===null?jE(n):t}function jE(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function HE(){let n=Fe.lFrame;return Fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var UE=HE;function yb(){let n=HE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function e3(n){return(Fe.lFrame.contextLView=VF(n,Fe.lFrame.contextLView))[hn]}function mr(){return Fe.lFrame.selectedIndex}function Rs(n){Fe.lFrame.selectedIndex=n}function Us(){let n=Fe.lFrame;return Ac(n.tView,n.selectedIndex)}function gn(){Fe.lFrame.currentNamespace=PE}function tl(){t3()}function t3(){Fe.lFrame.currentNamespace=null}function zE(){return Fe.lFrame.currentNamespace}var $E=!0;function Cp(){return $E}function Gr(n){$E=n}function n3(n,t,e){let{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=t.type.prototype;if(i){let s=EE(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}o&&(e.preOrderHooks??=[]).push(0-n,o),r&&((e.preOrderHooks??=[]).push(n,r),(e.preOrderCheckHooks??=[]).push(n,r))}function Cb(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){let r=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=r;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),f!=null&&(n.destroyHooks??=[]).push(e,f)}}function If(n,t,e){GE(n,t,3,e)}function kf(n,t,e,i){(n[Te]&3)===e&&GE(n,t,e,i)}function S_(n,t){let e=n[Te];(e&3)===t&&(e&=16383,e+=1,n[Te]=e)}function GE(n,t,e,i){let o=i!==void 0?n[Va]&65535:0,r=i??-1,s=t.length-1,a=0;for(let l=o;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(n[Va]+=65536),(a<r||r==-1)&&(i3(n,e,t,l),n[Va]=(n[Va]&4294901760)+l+2),l++}function nM(n,t){mt(4,n,t);let e=Ve(null);try{t.call(n)}finally{Ve(e),mt(5,n,t)}}function i3(n,t,e,i){let o=e[i]<0,r=e[i+1],s=o?-e[i]:e[i],a=n[s];o?n[Te]>>14<n[Va]>>16&&(n[Te]&3)===t&&(n[Te]+=16384,nM(a,r)):nM(a,r)}var Ua=-1,Ns=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,i){this.factory=t,this.canSeeViewProviders=e,this.injectImpl=i}};function o3(n){return(n.flags&8)!==0}function r3(n){return(n.flags&16)!==0}function s3(n,t,e){let i=0;for(;i<e.length;){let o=e[i];if(typeof o=="number"){if(o!==0)break;i++;let r=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,r)}else{let r=o,s=e[++i];a3(r)?n.setProperty(t,r,s):n.setAttribute(t,r,s),i++}}return i}function WE(n){return n===3||n===4||n===6}function a3(n){return n.charCodeAt(0)===64}function Ya(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){let o=t[i];typeof o=="number"?e=o:e===0||(e===-1||e===2?iM(n,e,o,null,t[++i]):iM(n,e,o,null,null))}}return n}function iM(n,t,e,i,o){let r=0,s=n.length;if(t===-1)s=-1;else for(;r<n.length;){let a=n[r++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=r-1;break}}}for(;r<n.length;){let a=n[r];if(typeof a=="number")break;if(a===e){o!==null&&(n[r+1]=o);return}r++,o!==null&&r++}s!==-1&&(n.splice(s,0,t),r=s+1),n.splice(r++,0,e),o!==null&&n.splice(r++,0,o)}function qE(n){return n!==Ua}function Gf(n){return n&32767}function l3(n){return n>>16}function Wf(n,t){let e=l3(n),i=t;for(;e>0;)i=i[Ja],e--;return i}var ev=!0;function qf(n){let t=ev;return ev=n,t}var c3=256,YE=c3-1,KE=5,d3=0,Do={};function u3(n,t,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(Cc)&&(i=e[Cc]),i==null&&(i=e[Cc]=d3++);let o=i&YE,r=1<<o;t.data[n+(o>>KE)]|=r}function Yf(n,t){let e=ZE(n,t);if(e!==-1)return e;let i=t[de];i.firstCreatePass&&(n.injectorIndex=t.length,P_(i.data,n),P_(t,null),P_(i.blueprint,null));let o=xb(n,t),r=n.injectorIndex;if(qE(o)){let s=Gf(o),a=Wf(o,t),l=a[de].data;for(let c=0;c<8;c++)t[r+c]=a[s+c]|l[s+c]}return t[r+8]=o,r}function P_(n,t){n.push(0,0,0,0,0,0,0,0,t)}function ZE(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function xb(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,i=null,o=t;for(;o!==null;){if(i=tD(o),i===null)return Ua;if(e++,o=o[Ja],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Ua}function tv(n,t,e){u3(n,t,e)}function f3(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let i=e.length,o=0;for(;o<i;){let r=e[o];if(WE(r))break;if(r===0)o=o+2;else if(typeof r=="number")for(o++;o<i&&typeof e[o]=="string";)o++;else{if(r===t)return e[o+1];o=o+2}}}return null}function QE(n,t,e){if(e&je.Optional||n!==void 0)return n;tb(t,"NodeInjector")}function XE(n,t,e,i){if(e&je.Optional&&i===void 0&&(i=null),(e&(je.Self|je.Host))===0){let o=n[bi],r=ei(void 0);try{return o?o.get(t,i,e&je.Optional):uE(t,i,e&je.Optional)}finally{ei(r)}}return QE(i,t,e)}function JE(n,t,e,i=je.Default,o){if(n!==null){if(t[Te]&2048&&!(i&je.Self)){let s=g3(n,t,e,i,Do);if(s!==Do)return s}let r=eD(n,t,e,i,Do);if(r!==Do)return r}return XE(t,e,i,o)}function eD(n,t,e,i,o){let r=h3(e);if(typeof r=="function"){if(!VE(t,n,i))return i&je.Host?QE(o,e,i):XE(t,e,i,o);try{let s;if(s=r(i),s==null&&!(i&je.Optional))tb(e);else return s}finally{UE()}}else if(typeof r=="number"){let s=null,a=ZE(n,t),l=Ua,c=i&je.Host?t[yi][eo]:null;for((a===-1||i&je.SkipSelf)&&(l=a===-1?xb(n,t):t[a+8],l===Ua||!rM(i,!1)?a=-1:(s=t[de],a=Gf(l),t=Wf(l,t)));a!==-1;){let f=t[de];if(oM(r,a,f.data)){let h=p3(a,t,e,s,i,c);if(h!==Do)return h}l=t[a+8],l!==Ua&&rM(i,t[de].data[a+8]===c)&&oM(r,a,t)?(s=f,a=Gf(l),t=Wf(l,t)):a=-1}}return o}function p3(n,t,e,i,o,r){let s=t[de],a=s.data[n+8],l=i==null?Bs(a)&&ev:i!=s&&(a.type&3)!==0,c=o&je.Host&&r===a,f=Tf(a,s,e,l,c);return f!==null?Ec(t,s,f,a,o):Do}function Tf(n,t,e,i,o){let r=n.providerIndexes,s=t.data,a=r&1048575,l=n.directiveStart,c=n.directiveEnd,f=r>>20,h=i?a:a+f,_=o?a+f:c;for(let g=h;g<_;g++){let v=s[g];if(g<l&&e===v||g>=l&&v.type===e)return g}if(o){let g=s[l];if(g&&Qi(g)&&g.type===e)return l}return null}function Ec(n,t,e,i,o){let r=n[e],s=t.data;if(r instanceof Ns){let a=r;a.resolving&&cE(aF(s[e]));let l=qf(a.canSeeViewProviders);a.resolving=!0;let c,f=a.injectImpl?ei(a.injectImpl):null,h=VE(n,i,je.Default);try{r=n[e]=a.factory(void 0,o,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&n3(e,s[e],t)}finally{f!==null&&ei(f),qf(l),a.resolving=!1,UE()}}return r}function h3(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(Cc)?n[Cc]:void 0;return typeof t=="number"?t>=0?t&YE:m3:t}function oM(n,t,e){let i=1<<n;return!!(e[t+(n>>KE)]&i)}function rM(n,t){return!(n&je.Self)&&!(n&je.Host&&t)}var Ps=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return JE(this._tNode,this._lView,t,hp(i),e)}};function m3(){return new Ps(Ln(),_e())}function Vn(n){return Ic(()=>{let t=n.prototype.constructor,e=t[Lf]||nv(t),i=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==i;){let r=o[Lf]||nv(o);if(r&&r!==e)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function nv(n){return oE(n)?()=>{let t=nv(Yn(n));return t&&t()}:Is(n)}function g3(n,t,e,i,o){let r=n,s=t;for(;r!==null&&s!==null&&s[Te]&2048&&!Mc(s);){let a=eD(r,s,e,i|je.Self,Do);if(a!==Do)return a;let l=r.parent;if(!l){let c=s[wE];if(c){let f=c.get(e,Do,i);if(f!==Do)return f}l=tD(s),s=s[Ja]}r=l}return o}function tD(n){let t=n[de],e=t.type;return e===2?t.declTNode:e===1?n[eo]:null}function wb(n){return f3(Ln(),n)}function sM(n,t=null,e=null,i){let o=nD(n,t,e,i);return o.resolveInjectorInitializers(),o}function nD(n,t=null,e=null,i,o=new Set){let r=[e||ni,ob(n)];return i=i||(typeof n=="object"?void 0:ii(n)),new xc(r,t||gp(),i||null,o)}var it=class n{static THROW_IF_NOT_FOUND=Ss;static NULL=new Hf;static create(t,e){if(Array.isArray(t))return sM({name:""},e,t,"");{let i=t.name??"";return sM({name:i},t.parent,t.providers,i)}}static \u0275prov=N({token:n,providedIn:"any",factory:()=>W(mE)});static __NG_ELEMENT_ID__=-1};var _3=new z("");_3.__NG_ELEMENT_ID__=n=>{let t=Ln();if(t===null)throw new H(204,!1);if(t.type&2)return t.value;if(n&je.Optional)return null;throw new H(204,!1)};var iD=!1,Wr=(()=>{class n{static __NG_ELEMENT_ID__=v3;static __NG_ENV_ID__=e=>e}return n})(),iv=class extends Wr{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let e=this._lView;return js(e)?(t(),()=>{}):(fb(e,t),()=>TE(e,t))}};function v3(){return new iv(_e())}var Fs=class{},xp=new z("",{providedIn:"root",factory:()=>!1});var oD=new z(""),rD=new z(""),To=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ot(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),b3=(()=>{class n{internalPendingTasks=y(To);scheduler=y(Fs);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){return nt(this,null,function*(){let i=this.add();try{return yield e()}finally{i()}})}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),ov=class extends le{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ab()&&(this.destroyRef=y(Wr,{optional:!0})??void 0,this.pendingTasks=y(To,{optional:!0})??void 0)}emit(t){let e=Ve(null);try{super.next(t)}finally{Ve(e)}}subscribe(t,e,i){let o=t,r=e||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;o=l.next?.bind(l),r=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(r=this.wrapInTimeout(r),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:r,complete:s});return t instanceof Rt&&t.add(a),a}wrapInTimeout(t){return e=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},gt=ov;function Kf(...n){}function sD(n){let t,e;function i(){n=Kf;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function aM(n){return queueMicrotask(()=>n()),()=>{n=Kf}}var Mb="isAngularZone",Zf=Mb+"_ID",y3=0,me=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gt(!1);onMicrotaskEmpty=new gt(!1);onStable=new gt(!1);onError=new gt(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:r=iD}=t;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&i,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=r,w3(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Mb)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,o){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,t,C3,Kf,Kf);try{return r.runTask(s,e,i)}finally{r.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}},C3={};function Eb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function x3(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){sD(()=>{n.callbackScheduled=!1,rv(n),n.isCheckStableRunning=!0,Eb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),rv(n)}function w3(n){let t=()=>{x3(n)},e=y3++;n._inner=n._inner.fork({name:"angular",properties:{[Mb]:!0,[Zf]:e,[Zf+e]:!0},onInvokeTask:(i,o,r,s,a,l)=>{if(M3(l))return i.invokeTask(r,s,a,l);try{return lM(n),i.invokeTask(r,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),cM(n)}},onInvoke:(i,o,r,s,a,l,c)=>{try{return lM(n),i.invoke(r,s,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!E3(l)&&t(),cM(n)}},onHasTask:(i,o,r,s)=>{i.hasTask(r,s),o===r&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,rv(n),Eb(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,o,r,s)=>(i.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function rv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function lM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cM(n){n._nesting--,Eb(n)}var sv=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gt;onMicrotaskEmpty=new gt;onStable=new gt;onError=new gt;run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,o){return t.apply(e,i)}};function M3(n){return aD(n,"__ignore_ng_zone__")}function E3(n){return aD(n,"__scheduler_tick__")}function aD(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Oo=class{_console=console;handleError(t){this._console.error("ERROR",t)}},D3=new z("",{providedIn:"root",factory:()=>{let n=y(me),t=y(Oo);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function dM(n,t){return nE(n,t)}function S3(n){return nE(tE,n)}var lD=(dM.required=S3,dM);function P3(){return nl(Ln(),_e())}function nl(n,t){return new ot(to(n,t))}var ot=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=P3}return n})();function O3(n){return n instanceof ot?n.nativeElement:n}function I3(n){return typeof n=="function"&&n[Ii]!==void 0}function Ai(n,t){let e=Z0(n,t?.equal),i=e[Ii];return e.set=o=>cc(i,o),e.update=o=>Q0(i,o),e.asReadonly=k3.bind(e),e}function k3(){let n=this[Ii];if(n.readonlyFn===void 0){let t=()=>this();t[Ii]=n,n.readonlyFn=t}return n.readonlyFn}function cD(n){return I3(n)&&typeof n.set=="function"}function T3(){return this._results[Symbol.iterator]()}var av=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new le}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let i=vF(t);(this._changesDetected=!_F(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=T3},A3="ngSkipHydration",R3="ngskiphydration";function dD(n){let t=n.mergedAttrs;if(t===null)return!1;for(let e=0;e<t.length;e+=2){let i=t[e];if(typeof i=="number")return!1;if(typeof i=="string"&&i.toLowerCase()===R3)return!0}return!1}function uD(n){return n.hasAttribute(A3)}function Qf(n){return(n.flags&128)===128}function N3(n){if(Qf(n))return!0;let t=n.parent;for(;t;){if(Qf(n)||dD(t))return!0;t=t.parent}return!1}var fD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(fD||{}),pD=new Map,F3=0;function L3(){return F3++}function V3(n){pD.set(n[_p],n)}function lv(n){pD.delete(n[_p])}var uM="__ngContext__";function il(n,t){qi(t)?(n[uM]=t[_p],V3(t)):n[uM]=t}function hD(n){return gD(n[wc])}function mD(n){return gD(n[Wi])}function gD(n){for(;n!==null&&!ko(n);)n=n[Wi];return n}var cv;function _D(n){cv=n}function Fc(){if(cv!==void 0)return cv;if(typeof document<"u")return document;throw new H(210,!1)}var Yi=new z("",{providedIn:"root",factory:()=>B3}),B3="ng",Db=new z(""),Bn=new z("",{providedIn:"platform",factory:()=>"unknown"});var gr=new z(""),Lc=new z("",{providedIn:"root",factory:()=>Fc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function j3(){let n=new ol;return n.store=H3(Fc(),y(Yi)),n}var ol=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:j3});store={};onSerializeCallbacks={};get(e,i){return this.store[e]!==void 0?this.store[e]:i}set(e,i){this.store[e]=i}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(e,i){this.onSerializeCallbacks[e]=i}toJson(){for(let e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function H3(n,t){let e=n.getElementById(t+"-state");if(e?.textContent)try{return JSON.parse(e.textContent)}catch(i){console.warn("Exception while restoring TransferState for app "+t,i)}return{}}var vD="h",bD="b",U3="f",z3="n",$3="e",G3="t",Sb="c",yD="x",Xf="r",W3="i",q3="n",CD="d";var xD="di",wD="s",Y3="p";var xf=new z(""),MD=!1,ED=new z("",{providedIn:"root",factory:()=>MD});var DD=new z(""),K3=!1,Z3=new z(""),fM=new z("",{providedIn:"root",factory:()=>new Map}),Pb=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Pb||{}),rl=new z(""),pM=new Set;function Zn(n){pM.has(n)||(pM.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var SD=(()=>{class n{view;node;constructor(e,i){this.view=e,this.node=i}static __NG_ELEMENT_ID__=Q3}return n})();function Q3(){return new SD(_e(),Ln())}var Ba=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ba||{}),PD=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),X3=[Ba.EarlyRead,Ba.Write,Ba.MixedReadWrite,Ba.Read],J3=(()=>{class n{ngZone=y(me);scheduler=y(Fs);errorHandler=y(Oo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(rl,{optional:!0})}execute(){let e=this.sequences.size>0;e&&mt(16),this.executing=!0;for(let i of X3)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[i]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let r=o.hooks[i];return r(o.pipelinedValue)},o.snapshot))}catch(r){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&mt(17)}register(e){let{view:i}=e;i!==void 0?((i[Ha]??=[]).push(e),Rc(i),i[Te]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,i){return i?i.run(Pb.AFTER_NEXT_RENDER,e):e()}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),dv=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,i,o,r,s=null){this.impl=t,this.hooks=e,this.view=i,this.once=o,this.snapshot=s,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Ha];t&&(this.view[Ha]=t.filter(e=>e!==this))}};function Ob(n,t){!t?.injector&&lb(Ob);let e=t?.injector??y(it);return Zn("NgAfterRender"),OD(n,e,t,!1)}function no(n,t){!t?.injector&&lb(no);let e=t?.injector??y(it);return Zn("NgAfterNextRender"),OD(n,e,t,!0)}function eL(n,t){if(n instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[t]=n,e}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function OD(n,t,e,i){let o=t.get(PD);o.impl??=t.get(J3);let r=t.get(rl,null,{optional:!0}),s=e?.phase??Ba.MixedReadWrite,a=e?.manualCleanup!==!0?t.get(Wr):null,l=t.get(SD,null,{optional:!0}),c=new dv(o.impl,eL(n,s),l?.view,i,a,r?.snapshot(null));return o.impl.register(c),c}var ti=function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n}(ti||{}),hM=0,tL=1,$t=function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n}($t||{}),Jf=function(n){return n[n.Initial=-1]="Initial",n}(Jf||{}),za=0,Vc=1,bc=2,wf=3,nL=4,iL=5,oL=6,rL=7,$a=8,sL=9,ID=function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n}(ID||{});function aL(n,t,e){let i=TD(n);t[i]===null&&(t[i]=[]),t[i].push(e)}function Af(n,t){let e=TD(n),i=t[e];if(i!==null){for(let o of i)o();t[e]=null}}function kD(n){Af(1,n),Af(0,n),Af(2,n)}function TD(n){let t=nL;return n===1?t=iL:n===2&&(t=sL),t}function wp(n){return n+1}function zs(n,t){let e=n[de],i=wp(t.index);return n[i]}function lL(n,t,e){let i=n[de],o=wp(t);n[o]=e}function sl(n,t){let e=wp(t.index);return n.data[e]}function cL(n,t,e){let i=wp(t);n.data[i]=e}function dL(n,t,e){let i=t[de],o=sl(i,e);switch(n){case $t.Complete:return o.primaryTmplIndex;case $t.Loading:return o.loadingTmplIndex;case $t.Error:return o.errorTmplIndex;case $t.Placeholder:return o.placeholderTmplIndex;default:return null}}function uv(n,t){return t===$t.Placeholder?n.placeholderBlockConfig?.[hM]??null:t===$t.Loading?n.loadingBlockConfig?.[hM]??null:null}function AD(n){return n.loadingBlockConfig?.[tL]??null}function mM(n,t){if(!n||n.length===0)return t;let e=new Set(n);for(let i of t)e.add(i);return n.length===e.size?n:Array.from(e)}function uL(n,t){let e=t.primaryTmplIndex+kt;return Ac(n,e)}var Mp="ngb";var fL=(n,t,e)=>{let i=n,o=i.__jsaction_fns??new Map,r=o.get(t)??[];r.push(e),o.set(t,r),i.__jsaction_fns=o},pL=(n,t)=>{let e=n,i=e.getAttribute(Mp)??"",o=t.get(i)??new Set;o.has(e)||o.add(e),t.set(i,o)};var hL=n=>{n.removeAttribute(v_.JSACTION),n.removeAttribute(Mp),n.__jsaction_fns=void 0},mL=new z("",{providedIn:"root",factory:()=>({})});function RD(n,t){let e=t?.__jsaction_fns?.get(n.type);if(!(!e||!t?.isConnected))for(let i of e)i(n)}var fv=new Map;function gL(n,t){return fv.set(n,t),()=>fv.delete(n)}var gM=!1,ND=(n,t,e,i)=>{};function _L(n,t,e,i){ND(n,t,e,i)}function vL(){gM||(ND=(n,t,e,i)=>{let o=n[bi].get(Yi);fv.get(o)?.(t,e,i)},gM=!0)}var Ep=new z("");var bL="__nghData__",FD=bL,yL="__nghDeferData__",CL=yL,O_="ngh",xL="nghm",LD=()=>null;function wL(n,t,e=!1){let i=n.getAttribute(O_);if(i==null)return null;let[o,r]=i.split("|");if(i=e?r:o,!i)return null;let s=r?`|${r}`:"",a=e?o:s,l={};if(i!==""){let f=t.get(ol,null,{optional:!0});f!==null&&(l=f.get(FD,[])[Number(i)])}let c={data:l,firstChild:n.firstChild??null};return e&&(c.firstChild=n,Dp(c,0,n.nextSibling)),a?n.setAttribute(O_,a):n.removeAttribute(O_),c}function ML(){LD=wL}function VD(n,t,e=!1){return LD(n,t,e)}function EL(n){let t=n._lView;return t[de].type===2?null:(Mc(t)&&(t=t[kt]),t)}function DL(n){return n.textContent?.replace(/\s/gm,"")}function SL(n){let t=Fc(),e=t.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(r){let s=DL(r);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),i,o=[];for(;i=e.nextNode();)o.push(i);for(let r of o)r.textContent==="ngetn"?r.replaceWith(t.createTextNode("")):r.remove()}function Dp(n,t,e){n.segmentHeads??={},n.segmentHeads[t]=e}function pv(n,t){return n.segmentHeads?.[t]??null}function BD(n){return n.get(Z3,!1,{optional:!0})}function PL(n,t){let e=n.data,i=e[$3]?.[t]??null;return i===null&&e[Sb]?.[t]&&(i=Ib(n,t)),i}function jD(n,t){return n.data[Sb]?.[t]??null}function Ib(n,t){let e=jD(n,t)??[],i=0;for(let o of e)i+=o[Xf]*(o[yD]??1);return i}function OL(n){if(typeof n.disconnectedNodes>"u"){let t=n.data[CD];n.disconnectedNodes=t?new Set(t):null}return n.disconnectedNodes}function Bc(n,t){if(typeof n.disconnectedNodes>"u"){let e=n.data[CD];n.disconnectedNodes=e?new Set(e):null}return!!OL(n)?.has(t)}function IL(n,t){let e=t.get(Ep),o=t.get(ol).get(CL,{}),r=!1,s=n,a=null,l=[];for(;!r&&s;){r=e.has(s);let c=e.hydrating.get(s);if(a===null&&c!=null){a=c.promise;break}l.unshift(s),s=o[s][Y3]}return{parentBlockPromise:a,hydrationQueue:l}}function I_(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===xL}function _M(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function kL(n){for(let i of n.body.childNodes)if(I_(i))return;let t=_M(n.body.previousSibling);if(I_(t))return;let e=_M(n.head.lastChild);if(!I_(e))throw new H(-507,!1)}function HD(n,t){let e=n.contentQueries;if(e!==null){let i=Ve(null);try{for(let o=0;o<e.length;o+=2){let r=e[o],s=e[o+1];if(s!==-1){let a=n.data[s];vb(r),a.contentQueries(2,t[s],s)}}}finally{Ve(i)}}}function hv(n,t,e){vb(0);let i=Ve(null);try{t(n,e)}finally{Ve(i)}}function kb(n,t,e){if(db(t)){let i=Ve(null);try{let o=t.directiveStart,r=t.directiveEnd;for(let s=o;s<r;s++){let a=n.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{Ve(i)}}}var Io=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Io||{}),Mf;function UD(){if(Mf===void 0&&(Mf=null,xn.trustedTypes))try{Mf=xn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Mf}function Sp(n){return UD()?.createHTML(n)||n}function TL(n){return UD()?.createScriptURL(n)||n}var Ef;function zD(){if(Ef===void 0&&(Ef=null,xn.trustedTypes))try{Ef=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ef}function vM(n){return zD()?.createHTML(n)||n}function bM(n){return zD()?.createScriptURL(n)||n}var ur=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eE})`}},mv=class extends ur{getTypeName(){return"HTML"}},gv=class extends ur{getTypeName(){return"Style"}},_v=class extends ur{getTypeName(){return"Script"}},vv=class extends ur{getTypeName(){return"URL"}},bv=class extends ur{getTypeName(){return"ResourceURL"}};function xi(n){return n instanceof ur?n.changingThisBreaksApplicationSecurity:n}function _r(n,t){let e=AL(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${eE})`)}return e===t}function AL(n){return n instanceof ur&&n.getTypeName()||null}function $D(n){return new mv(n)}function GD(n){return new gv(n)}function WD(n){return new _v(n)}function qD(n){return new vv(n)}function YD(n){return new bv(n)}function RL(n){let t=new Cv(n);return NL()?new yv(t):t}var yv=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Sp(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},Cv=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Sp(t),e}};function NL(){try{return!!new window.DOMParser().parseFromString(Sp(""),"text/html")}catch{return!1}}var FL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pp(n){return n=String(n),n.match(FL)?n:"unsafe:"+n}function vr(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function jc(...n){let t={};for(let e of n)for(let i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}var KD=vr("area,br,col,hr,img,wbr"),ZD=vr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QD=vr("rp,rt"),LL=jc(QD,ZD),VL=jc(ZD,vr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),BL=jc(QD,vr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yM=jc(KD,VL,BL,LL),XD=vr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jL=vr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),HL=vr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),UL=jc(XD,jL,HL),zL=vr("script,style,template"),xv=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,i=!0,o=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){o.push(e),e=WL(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=GL(e);if(r){e=r;break}e=o.pop()}}return this.buf.join("")}startElement(t){let e=CM(t).toLowerCase();if(!yM.hasOwnProperty(e))return this.sanitizedSomething=!0,!zL.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=t.attributes;for(let o=0;o<i.length;o++){let r=i.item(o),s=r.name,a=s.toLowerCase();if(!UL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;XD[a]&&(l=Pp(l)),this.buf.push(" ",s,'="',xM(l),'"')}return this.buf.push(">"),!0}endElement(t){let e=CM(t).toLowerCase();yM.hasOwnProperty(e)&&!KD.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(xM(t))}};function $L(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function GL(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw JD(t);return t}function WL(n){let t=n.firstChild;if(t&&$L(n,t))throw JD(t);return t}function CM(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function JD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var qL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,YL=/([^\#-~ |!])/g;function xM(n){return n.replace(/&/g,"&amp;").replace(qL,function(t){let e=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(YL,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Df;function Tb(n,t){let e=null;try{Df=Df||RL(n);let i=t?String(t):"";e=Df.getInertBodyElement(i);let o=5,r=i;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=e.innerHTML,e=Df.getInertBodyElement(i)}while(i!==r);let a=new xv().sanitizeChildren(wM(e)||e);return Sp(a)}finally{if(e){let i=wM(e)||e;for(;i.firstChild;)i.firstChild.remove()}}}function wM(n){return"content"in n&&KL(n)?n.content:null}function KL(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var wi=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(wi||{});function Ab(n){let t=Rb();return t?vM(t.sanitize(wi.HTML,n)||""):_r(n,"HTML")?vM(xi(n)):Tb(Fc(),Os(n))}function ce(n){let t=Rb();return t?t.sanitize(wi.URL,n)||"":_r(n,"URL")?xi(n):Pp(Os(n))}function ZL(n){let t=Rb();if(t)return bM(t.sanitize(wi.RESOURCE_URL,n)||"");if(_r(n,"ResourceURL"))return bM(xi(n));throw new H(904,!1)}function Hc(n){return TL(n[0])}function QL(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?ZL:ce}function eS(n,t,e){return QL(t,e)(n)}function Rb(){let n=_e();return n&&n[lr].sanitizer}var XL=/^>|^->|<!--|-->|--!>|<!-$/g,JL=/(<|>)/g,e5="\u200B$1\u200B";function t5(n){return n.replace(XL,t=>t.replace(JL,e5))}function n5(n){return n.ownerDocument.body}function tS(n){return n instanceof Function?n():n}function i5(n,t,e){let i=n.length;for(;;){let o=n.indexOf(t,e);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let r=t.length;if(o+r===i||n.charCodeAt(o+r)<=32)return o}e=o+1}}var nS="ng-template";function o5(n,t,e,i){let o=0;if(i){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&i5(t[o+1].toLowerCase(),e,0)!==-1)return!0}else if(Nb(n))return!1;if(o=t.indexOf(1,o),o>-1){let r;for(;++o<t.length&&typeof(r=t[o])=="string";)if(r.toLowerCase()===e)return!0}return!1}function Nb(n){return n.type===4&&n.value!==nS}function r5(n,t,e){let i=n.type===4&&!e?nS:n.value;return t===i}function s5(n,t,e){let i=4,o=n.attrs,r=o!==null?c5(o):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Gi(i)&&!Gi(l))return!1;if(s&&Gi(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!r5(n,l,e)||l===""&&t.length===1){if(Gi(i))return!1;s=!0}}else if(i&8){if(o===null||!o5(n,o,l,e)){if(Gi(i))return!1;s=!0}}else{let c=t[++a],f=a5(l,o,Nb(n),e);if(f===-1){if(Gi(i))return!1;s=!0;continue}if(c!==""){let h;if(f>r?h="":h=o[f+1].toLowerCase(),i&2&&c!==h){if(Gi(i))return!1;s=!0}}}}return Gi(i)||s}function Gi(n){return(n&1)===0}function a5(n,t,e,i){if(t===null)return-1;let o=0;if(i||!e){let r=!1;for(;o<t.length;){let s=t[o];if(s===n)return o;if(s===3||s===6)r=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=r?1:2}return-1}else return d5(t,n)}function l5(n,t,e=!1){for(let i=0;i<t.length;i++)if(s5(n,t[i],e))return!0;return!1}function c5(n){for(let t=0;t<n.length;t++){let e=n[t];if(WE(e))return t}return n.length}function d5(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let i=n[e];if(typeof i=="number")return-1;if(i===t)return e;e++}return-1}function MM(n,t){return n?":not("+t.trim()+")":t}function u5(n){let t=n[0],e=1,i=2,o="",r=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(i&2){let a=n[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?o+="."+s:i&4&&(o+=" "+s);else o!==""&&!Gi(s)&&(t+=MM(r,o),o=""),i=s,r=r||!Gi(i);e++}return o!==""&&(t+=MM(r,o)),t}function f5(n){return n.map(u5).join(",")}function p5(n){let t=[],e=[],i=1,o=2;for(;i<n.length;){let r=n[i];if(typeof r=="string")o===2?r!==""&&t.push(r,n[++i]):o===8&&e.push(r);else{if(!Gi(o))break;o=r}i++}return e.length&&t.push(1,...e),t}var si={};function iS(n,t){return n.createText(t)}function h5(n,t,e){n.setValue(t,e)}function oS(n,t){return n.createComment(t5(t))}function Fb(n,t,e){return n.createElement(t,e)}function ep(n,t,e,i,o){n.insertBefore(t,e,i,o)}function rS(n,t,e){n.appendChild(t,e)}function EM(n,t,e,i,o){i!==null?ep(n,t,e,i,o):rS(n,t,e)}function Lb(n,t,e){n.removeChild(null,t,e)}function sS(n){n.textContent=""}function m5(n,t,e){n.setAttribute(t,"style",e)}function g5(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function aS(n,t,e){let{mergedAttrs:i,classes:o,styles:r}=e;i!==null&&s3(n,t,i),o!==null&&g5(n,t,o),r!==null&&m5(n,t,r)}function Vb(n,t,e,i,o,r,s,a,l,c,f){let h=kt+i,_=h+o,g=_5(h,_),v=typeof c=="function"?c():c;return g[de]={type:n,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:f}}function _5(n,t){let e=[];for(let i=0;i<t;i++)e.push(i<n?null:si);return e}function v5(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Vb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Bb(n,t,e,i,o,r,s,a,l,c,f){let h=t.blueprint.slice();return h[oi]=o,h[Te]=i|4|128|8|64|1024,(c!==null||n&&n[Te]&2048)&&(h[Te]|=2048),IE(h),h[mn]=h[Ja]=n,h[hn]=e,h[lr]=s||n&&n[lr],h[yt]=a||n&&n[yt],h[bi]=l||n&&n[bi]||null,h[eo]=r,h[_p]=L3(),h[Ki]=f,h[wE]=c,h[yi]=t.type==2?n[yi]:h,h}function b5(n,t,e){let i=to(t,n),o=v5(e),r=n[lr].rendererFactory,s=jb(n,Bb(n,o,null,lS(e),i,t,null,r.createRenderer(i,e),null,null,null));return n[t.index]=s}function lS(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function cS(n,t,e,i){if(e===0)return-1;let o=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return o}function jb(n,t){return n[wc]?n[Jw][Wi]=t:n[wc]=t,n[Jw]=t,t}function m(n=1){dS(jt(),_e(),mr()+n,!1)}function dS(n,t,e,i){if(!i)if((t[Te]&3)===3){let r=n.preOrderCheckHooks;r!==null&&If(t,r,e)}else{let r=n.preOrderHooks;r!==null&&kf(t,r,0,e)}Rs(e)}var Op=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Op||{});function wv(n,t,e,i){let o=Ve(null);try{let[r,s,a]=n.inputs[e],l=null;(s&Op.SignalBased)!==0&&(l=t[r][Ii]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(t,i)),n.setInput!==null?n.setInput(t,l,i,e,r):ME(t,l,r,i)}finally{Ve(o)}}function uS(n,t,e,i,o){let r=mr(),s=i&2;try{Rs(-1),s&&t.length>kt&&dS(n,t,kt,!1),mt(s?2:0,o),e(i,o)}finally{Rs(r),mt(s?3:1,o)}}function Ip(n,t,e){D5(n,t,e),(e.flags&64)===64&&S5(n,t,e)}function Hb(n,t,e=to){let i=t.localNames;if(i!==null){let o=t.index+1;for(let r=0;r<i.length;r+=2){let s=i[r+1],a=s===-1?e(t,n):n[s];n[o++]=a}}}function y5(n,t,e,i){let r=i.get(ED,MD)||e===Io.ShadowDom,s=n.selectRootElement(t,r);return C5(s),s}function C5(n){fS(n)}var fS=()=>null;function x5(n){uD(n)?sS(n):SL(n)}function w5(){fS=x5}function M5(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Uc(n,t,e,i,o,r,s,a){if(!a&&$b(t,n,e,i,o)){Bs(t)&&E5(e,t.index);return}if(t.type&3){let l=to(t,e);i=M5(i),o=s!=null?s(o,t.value||"",i):o,r.setProperty(l,i,o)}else t.type&12}function E5(n,t){let e=So(t,n);e[Te]&16||(e[Te]|=64)}function D5(n,t,e){let i=e.directiveStart,o=e.directiveEnd;Bs(e)&&b5(t,e,n.data[i+e.componentOffset]),n.firstCreatePass||Yf(e,t);let r=e.initialInputs;for(let s=i;s<o;s++){let a=n.data[s],l=Ec(t,n,s,e);if(il(l,t),r!==null&&k5(t,s-i,l,a,e,r),Qi(a)){let c=So(e.index,t);c[hn]=Ec(t,n,s,e)}}}function S5(n,t,e){let i=e.directiveStart,o=e.directiveEnd,r=e.index,s=XF();try{Rs(r);for(let a=i;a<o;a++){let l=n.data[a],c=t[a];J_(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&P5(l,c)}}finally{Rs(-1),J_(s)}}function P5(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function Ub(n,t){let e=n.directiveRegistry,i=null;if(e)for(let o=0;o<e.length;o++){let r=e[o];l5(t,r.selectors,!1)&&(i??=[],Qi(r)?i.unshift(r):i.push(r))}return i}function O5(n,t,e,i,o,r){let s=to(n,t);I5(t[yt],s,r,n.value,e,i,o)}function I5(n,t,e,i,o,r,s){if(r==null)n.removeAttribute(t,o,e);else{let a=s==null?Os(r):s(r,i||"",o);n.setAttribute(t,o,a,e)}}function k5(n,t,e,i,o,r){let s=r[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];wv(i,e,l,c)}}function T5(n,t,e){return(n===null||Qi(n))&&(e=RF(e[t.index])),e[yt]}function zb(n,t){let e=n[bi],i=e?e.get(Oo,null):null;i&&i.handleError(t)}function $b(n,t,e,i,o){let r=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],f=s[l+1],h=t.data[c];wv(h,e[c],f,o),a=!0}if(r)for(let l of r){let c=e[l],f=t.data[l];wv(f,c,i,o),a=!0}return a}function A5(n,t){let e=So(t,n),i=e[de];R5(i,e);let o=e[oi];o!==null&&e[Ki]===null&&(e[Ki]=VD(o,e[bi])),mt(18),Gb(i,e,e[hn]),mt(19,e[hn])}function R5(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function Gb(n,t,e){bb(t);try{let i=n.viewQuery;i!==null&&hv(1,i,e);let o=n.template;o!==null&&uS(n,t,o,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[cr]?.finishViewCreation(n),n.staticContentQueries&&HD(n,t),n.staticViewQueries&&hv(2,n.viewQuery,e);let r=n.components;r!==null&&N5(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Te]&=-5,yb()}}function N5(n,t){for(let e=0;e<t.length;e++)A5(n,t[e])}function zc(n,t,e,i){let o=Ve(null);try{let r=t.tView,a=n[Te]&4096?4096:16,l=Bb(n,r,e,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[t.index];l[Ts]=c;let f=n[cr];return f!==null&&(l[cr]=f.createEmbeddedView(r)),Gb(r,l,e),l}finally{Ve(o)}}function Ka(n,t){return!t||t.firstChild===null||Qf(n)}var F5;function Wb(n,t){return F5(n,t)}var fr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(fr||{});function al(n){return(n.flags&32)===32}function ja(n,t,e,i,o){if(i!=null){let r,s=!1;ko(i)?r=i:qi(i)&&(s=!0,i=i[oi]);let a=Xi(i);n===0&&e!==null?o==null?rS(t,e,a):ep(t,e,a,o||null,!0):n===1&&e!==null?ep(t,e,a,o||null,!0):n===2?Lb(t,a,s):n===3&&t.destroyNode(a),r!=null&&Y5(t,n,r,e,o)}}function L5(n,t){pS(n,t),t[oi]=null,t[eo]=null}function V5(n,t,e,i,o,r){i[oi]=o,i[eo]=t,Ap(n,i,e,1,o,r)}function pS(n,t){t[lr].changeDetectionScheduler?.notify(9),Ap(n,t,t[yt],2,null,null)}function B5(n){let t=n[wc];if(!t)return k_(n[de],n);for(;t;){let e=null;if(qi(t))e=t[wc];else{let i=t[wn];i&&(e=i)}if(!e){for(;t&&!t[Wi]&&t!==n;)qi(t)&&k_(t[de],t),t=t[mn];t===null&&(t=n),qi(t)&&k_(t[de],t),e=t&&t[Wi]}t=e}}function qb(n,t){let e=n[qa],i=e.indexOf(t);e.splice(i,1)}function kp(n,t){if(js(t))return;let e=t[yt];e.destroyNode&&Ap(n,t,e,3,null,null),B5(t)}function k_(n,t){if(js(t))return;let e=Ve(null);try{t[Te]&=-129,t[Te]|=256,t[ki]&&q0(t[ki]),H5(n,t),j5(n,t),t[de].type===1&&t[yt].destroy();let i=t[Ts];if(i!==null&&ko(t[mn])){i!==t[mn]&&qb(i,t);let o=t[cr];o!==null&&o.detachView(n)}lv(t)}finally{Ve(e)}}function j5(n,t){let e=n.cleanup,i=t[Uf];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[e[s+1]];e[s].call(a)}i!==null&&(t[Uf]=null);let o=t[zr];if(o!==null){t[zr]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let r=t[zf];if(r!==null){t[zf]=null;for(let s of r)s.destroy()}}function H5(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let o=t[e[i]];if(!(o instanceof Ns)){let r=e[i+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){let a=o[r[s]],l=r[s+1];mt(4,a,l);try{l.call(a)}finally{mt(5,a,l)}}else{mt(4,o,r);try{r.call(o)}finally{mt(5,o,r)}}}}}function U5(n,t,e){return z5(n,t.parent,e)}function z5(n,t,e){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return e[oi];if(Bs(i)){let{encapsulation:o}=n.data[i.directiveStart+i.componentOffset];if(o===Io.None||o===Io.Emulated)return null}return to(i,e)}function $5(n,t,e){return W5(n,t,e)}function G5(n,t,e){return n.type&40?to(n,e):null}var W5=G5,DM;function Tp(n,t,e,i){let o=U5(n,i,t),r=t[yt],s=i.parent||t[eo],a=$5(s,i,t);if(o!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)EM(r,o,e[l],a,!1);else EM(r,o,e,a,!1);DM!==void 0&&DM(r,i,t,e,o)}function yc(n,t){if(t!==null){let e=t.type;if(e&3)return to(t,n);if(e&4)return Mv(-1,n[t.index]);if(e&8){let i=t.child;if(i!==null)return yc(n,i);{let o=n[t.index];return ko(o)?Mv(-1,o):Xi(o)}}else{if(e&128)return yc(n,t.next);if(e&32)return Wb(t,n)()||Xi(n[t.index]);{let i=hS(n,t);if(i!==null){if(Array.isArray(i))return i[0];let o=As(n[yi]);return yc(o,i)}else return yc(n,t.next)}}}return null}function hS(n,t){if(t!==null){let i=n[yi][eo],o=t.projection;return i.projection[o]}return null}function Mv(n,t){let e=wn+n+1;if(e<t.length){let i=t[e],o=i[de].firstChild;if(o!==null)return yc(i,o)}return t[dr]}function Yb(n,t,e,i,o,r,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=i[e.index],l=e.type;if(s&&t===0&&(a&&il(Xi(a),i),e.flags|=2),!al(e))if(l&8)Yb(n,t,e.child,i,o,r,!1),ja(t,n,o,a,r);else if(l&32){let c=Wb(e,i),f;for(;f=c();)ja(t,n,o,f,r);ja(t,n,o,a,r)}else l&16?q5(n,t,i,e,o,r):ja(t,n,o,a,r);e=s?e.projectionNext:e.next}}function Ap(n,t,e,i,o,r){Yb(e,i,n.firstChild,t,o,r,!1)}function q5(n,t,e,i,o,r){let s=e[yi],l=s[eo].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let f=l[c];ja(t,n,o,f,r)}else{let c=l,f=s[mn];Qf(i)&&(c.flags|=128),Yb(n,t,c,f,o,r,!0)}}function Y5(n,t,e,i,o){let r=e[dr],s=Xi(e);r!==s&&ja(t,n,i,r,o);for(let a=wn;a<e.length;a++){let l=e[a];Ap(l[de],l,n,t,i,r)}}function K5(n,t,e,i,o){if(t)o?n.addClass(e,i):n.removeClass(e,i);else{let r=i.indexOf("-")===-1?void 0:fr.DashCase;o==null?n.removeStyle(e,i,r):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=fr.Important),n.setStyle(e,i,o,r))}}function tp(n,t,e,i,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let r=t[e.index];r!==null&&i.push(Xi(r)),ko(r)&&Z5(r,i);let s=e.type;if(s&8)tp(n,t,e.child,i);else if(s&32){let a=Wb(e,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=hS(t,e);if(Array.isArray(a))i.push(...a);else{let l=As(t[yi]);tp(l[de],l,a,i,!0)}}e=o?e.projectionNext:e.next}return i}function Z5(n,t){for(let e=wn;e<n.length;e++){let i=n[e],o=i[de].firstChild;o!==null&&tp(i[de],i,o,t)}n[dr]!==n[oi]&&t.push(n[dr])}function mS(n){if(n[Ha]!==null){for(let t of n[Ha])t.impl.addSequence(t);n[Ha].length=0}}var gS=[];function Q5(n){return n[ki]??X5(n)}function X5(n){let t=gS.pop()??Object.create(e4);return t.lView=n,t}function J5(n){n.lView[ki]!==n&&(n.lView=null,gS.push(n))}var e4=pe(B({},ac),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Rc(n.lView)},consumerOnSignalRead(){this.lView[ki]=this}});function t4(n){let t=n[ki]??Object.create(n4);return t.lView=n,t}var n4=pe(B({},ac),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=As(n.lView);for(;t&&!_S(t[de]);)t=As(t);t&&kE(t)},consumerOnSignalRead(){this.lView[ki]=this}});function _S(n){return n.type!==2}function vS(n){if(n[zf]===null)return;let t=!0;for(;t;){let e=!1;for(let i of n[zf])i.dirty&&(e=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));t=e&&!!(n[Te]&8192)}}var i4=100;function bS(n,t=!0,e=0){let o=n[lr].rendererFactory,r=!1;r||o.begin?.();try{o4(n,e)}catch(s){throw t&&zb(n,s),s}finally{r||o.end?.()}}function o4(n,t){let e=NE();try{tM(!0),Ev(n,t);let i=0;for(;yp(n);){if(i===i4)throw new H(103,!1);i++,Ev(n,1)}}finally{tM(e)}}function r4(n,t,e,i){if(js(t))return;let o=t[Te],r=!1,s=!1;bb(t);let a=!0,l=null,c=null;r||(_S(n)?(c=Q5(t),l=Nu(c)):H0()===null?(a=!1,c=t4(t),l=Nu(c)):t[ki]&&(q0(t[ki]),t[ki]=null));try{IE(t),KF(n.bindingStartIndex),e!==null&&uS(n,t,e,2,i);let f=(o&3)===3;if(!r)if(f){let g=n.preOrderCheckHooks;g!==null&&If(t,g,null)}else{let g=n.preOrderHooks;g!==null&&kf(t,g,0,null),S_(t,0)}if(s||s4(t),vS(t),yS(t,0),n.contentQueries!==null&&HD(n,t),!r)if(f){let g=n.contentCheckHooks;g!==null&&If(t,g)}else{let g=n.contentHooks;g!==null&&kf(t,g,1),S_(t,1)}l4(n,t);let h=n.components;h!==null&&xS(t,h,0);let _=n.viewQuery;if(_!==null&&hv(2,_,i),!r)if(f){let g=n.viewCheckHooks;g!==null&&If(t,g)}else{let g=n.viewHooks;g!==null&&kf(t,g,2),S_(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[D_]){for(let g of t[D_])g();t[D_]=null}r||(mS(t),t[Te]&=-73)}catch(f){throw r||Rc(t),f}finally{c!==null&&(G0(c,l),a&&J5(c)),yb()}}function yS(n,t){for(let e=hD(n);e!==null;e=mD(e))for(let i=wn;i<e.length;i++){let o=e[i];CS(o,t)}}function s4(n){for(let t=hD(n);t!==null;t=mD(t)){if(!(t[Te]&2))continue;let e=t[qa];for(let i=0;i<e.length;i++){let o=e[i];kE(o)}}}function a4(n,t,e){mt(18);let i=So(t,n);CS(i,e),mt(19,i[hn])}function CS(n,t){ub(n)&&Ev(n,t)}function Ev(n,t){let i=n[de],o=n[Te],r=n[ki],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(r?.dirty&&W0(r)),s||=!1,r&&(r.dirty=!1),n[Te]&=-9217,s)r4(i,n,i.template,n[hn]);else if(o&8192){vS(n),yS(n,1);let a=i.components;a!==null&&xS(n,a,1),mS(n)}}function xS(n,t,e){for(let i=0;i<t.length;i++)a4(n,t[i],e)}function l4(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let o=e[i];if(o<0)Rs(~o);else{let r=o,s=e[++i],a=e[++i];QF(s,r);let l=t[r];mt(24,l),a(2,l),mt(25,l)}}}finally{Rs(-1)}}function Rp(n,t){let e=NE()?64:1088;for(n[lr].changeDetectionScheduler?.notify(t);n;){n[Te]|=e;let i=As(n);if(Mc(n)&&!i)return n;n=i}return null}function wS(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function MS(n,t){let e=wn+t;if(e<n.length)return n[e]}function $c(n,t,e,i=!0){let o=t[de];if(c4(o,t,n,e),i){let s=Mv(e,n),a=t[yt],l=a.parentNode(n[dr]);l!==null&&V5(o,n[eo],a,t,l,s)}let r=t[Ki];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function Kb(n,t){let e=Dc(n,t);return e!==void 0&&kp(e[de],e),e}function Dc(n,t){if(n.length<=wn)return;let e=wn+t,i=n[e];if(i){let o=i[Ts];o!==null&&o!==n&&qb(o,i),t>0&&(n[e-1][Wi]=i[Wi]);let r=jf(n,wn+t);L5(i[de],i);let s=r[cr];s!==null&&s.detachView(r[de]),i[mn]=null,i[Wi]=null,i[Te]&=-129}return i}function c4(n,t,e,i){let o=wn+i,r=e.length;i>0&&(e[o-1][Wi]=t),i<r-wn?(t[Wi]=e[o],pE(e,wn+i,t)):(e.push(t),t[Wi]=null),t[mn]=e;let s=t[Ts];s!==null&&e!==s&&ES(s,t);let a=t[cr];a!==null&&a.insertView(n),Q_(t),t[Te]|=128}function ES(n,t){let e=n[qa],i=t[mn];if(qi(i))n[Te]|=2;else{let o=i[mn][yi];t[yi]!==o&&(n[Te]|=2)}e===null?n[qa]=[t]:e.push(t)}var Sc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,e=t[de];return tp(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i}get context(){return this._lView[hn]}set context(t){this._lView[hn]=t}get destroyed(){return js(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[mn];if(ko(t)){let e=t[$f],i=e?e.indexOf(this):-1;i>-1&&(Dc(t,i),jf(e,i))}this._attachedToViewContainer=!1}kp(this._lView[de],this._lView)}onDestroy(t){fb(this._lView,t)}markForCheck(){Rp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Te]&=-129}reattach(){Q_(this._lView),this._lView[Te]|=128}detectChanges(){this._lView[Te]|=1024,bS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Mc(this._lView),e=this._lView[Ts];e!==null&&!t&&qb(e,this._lView),pS(this._lView[de],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=t;let e=Mc(this._lView),i=this._lView[Ts];i!==null&&!e&&ES(i,this._lView),Q_(this._lView)}};var Ti=(()=>{class n{static __NG_ELEMENT_ID__=f4}return n})(),d4=Ti,u4=class extends d4{_declarationLView;_declarationTContainer;elementRef;constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){let o=zc(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new Sc(o)}};function f4(){return Np(Ln(),_e())}function Np(n,t){return n.type&4?new u4(t,n,nl(n,t)):null}function Fp(n,t,e,i,o){let r=n.data[t];if(r===null)r=p4(n,t,e,i,o),ZF()&&(r.flags|=32);else if(r.type&64){r.type=e,r.value=i,r.attrs=o;let s=WF();r.injectorIndex=s===null?-1:s.injectorIndex}return Hs(r,!0),r}function p4(n,t,e,i,o){let r=AE(),s=gb(),a=s?r:r&&r.parent,l=n.data[t]=m4(n,a,e,t,i,o);return h4(n,l,r,s),l}function h4(n,t,e,i){n.firstChild===null&&(n.firstChild=t),e!==null&&(i?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function m4(n,t,e,i,o,r){let s=t?t.injectorIndex:-1,a=0;return Nc()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var g4=new RegExp(`^(\\d+)*(${bD}|${vD})*(.*)`);function _4(n){let t=n.match(g4),[e,i,o,r]=t,s=i?parseInt(i,10):o,a=[];for(let[l,c,f]of r.matchAll(/(f|n)(\d*)/g)){let h=parseInt(f,10)||1;a.push(c,h)}return[s,...a]}function v4(n){return!n.prev&&n.parent?.type===8}function T_(n){return n.index-kt}function b4(n,t){let e=n.i18nNodes;if(e)return e.get(t)}function Lp(n,t,e,i){let o=T_(i),r=b4(n,o);if(r===void 0){let s=n.data[q3];if(s?.[o])r=C4(s[o],e);else if(t.firstChild===i)r=n.firstChild;else{let a=i.prev===null,l=i.prev??i.parent;if(v4(i)){let c=T_(i.parent);r=pv(n,c)}else{let c=to(l,e);if(a)r=c.firstChild;else{let f=T_(l),h=pv(n,f);if(l.type===2&&h){let g=Ib(n,f)+1;r=Vp(g,h)}else r=c.nextSibling}}}}return r}function Vp(n,t){let e=t;for(let i=0;i<n;i++)e=e.nextSibling;return e}function y4(n,t){let e=n;for(let i=0;i<t.length;i+=2){let o=t[i],r=t[i+1];for(let s=0;s<r;s++)switch(o){case U3:e=e.firstChild;break;case z3:e=e.nextSibling;break}}return e}function C4(n,t){let[e,...i]=_4(n),o;if(e===vD)o=t[yi][oi];else if(e===bD)o=n5(t[yi][oi]);else{let r=Number(e);o=Xi(t[r+kt])}return y4(o,i)}var x4=!1;function w4(n){x4=n}function M4(n){let t=n[Ki];if(t){let{i18nNodes:e,dehydratedIcuData:i}=t;if(e&&i){let o=n[yt];for(let r of i.values())E4(o,e,r)}t.i18nNodes=void 0,t.dehydratedIcuData=void 0}}function E4(n,t,e){for(let i of e.node.cases[e.case]){let o=t.get(i.index-kt);o&&Lb(n,o,!1)}}function DS(n){let t=n[Zi]??[],i=n[mn][yt],o=[];for(let r of t)r.data[xD]!==void 0?o.push(r):SS(r,i);n[Zi]=o}function D4(n){let{lContainer:t}=n,e=t[Zi];if(e===null)return;let o=t[mn][yt];for(let r of e)SS(r,o)}function SS(n,t){let e=0,i=n.firstChild;if(i){let o=n.data[Xf];for(;e<o;){let r=i.nextSibling;Lb(t,i,!1),i=r,e++}}}function Bp(n){DS(n);let t=n[oi];qi(t)&&np(t);for(let e=wn;e<n.length;e++)np(n[e])}function np(n){M4(n);let t=n[de];for(let e=kt;e<t.bindingStartIndex;e++)if(ko(n[e])){let i=n[e];Bp(i)}else qi(n[e])&&np(n[e])}function PS(n){let t=n._views;for(let e of t){let i=EL(e);i!==null&&i[oi]!==null&&(qi(i)?np(i):Bp(i))}}function S4(n,t,e,i){n!==null&&(e.cleanup(t),Bp(n.lContainer),PS(i))}function P4(n,t){let e=[];for(let i of t)for(let o=0;o<(i[yD]??1);o++){let r={data:i,firstChild:null};i[Xf]>0&&(r.firstChild=n,n=Vp(i[Xf],n)),e.push(r)}return[n,e]}var OS=()=>null;function O4(n,t){let e=n[Zi];return!t||e===null||e.length===0?null:e[0].data[W3]===t?e.shift():(DS(n),null)}function I4(){OS=O4}function Pc(n,t){return OS(n,t)}var k4=class{},IS=class{},Dv=class{resolveComponentFactory(t){throw Error(`No component factory found for ${ii(t)}.`)}},ll=class{static NULL=new Dv},Mn=class{},jn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>T4()}return n})();function T4(){let n=_e(),t=Ln(),e=So(t.index,n);return(qi(e)?e:n)[yt]}var A4=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>null})}return n})();var A_={},Ga=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=hp(i);let o=this.injector.get(t,A_,i);return o!==A_||e===A_?o:this.parentInjector.get(t,e,i)}};function Sv(n,t,e){let i=e?n.styles:null,o=e?n.classes:null,r=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")r=a;else if(r==1)o=z_(o,a);else if(r==2){let l=a,c=t[++s];i=z_(i,l+": "+c+";")}}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=o:n.classesWithoutHost=o}function D(n,t=je.Default){let e=_e();if(e===null)return W(n,t);let i=Ln();return JE(i,e,Yn(n),t)}function kS(){let n="invalid";throw new Error(n)}function Zb(n,t,e,i,o){let r=i===null?null:{"":-1},s=o(n,e);if(s!==null){let a,l=null,c=null,f=N4(s);f===null?a=s:[a,l,c]=f,V4(n,t,e,a,r,l,c)}r!==null&&i!==null&&R4(e,i,r)}function R4(n,t,e){let i=n.localNames=[];for(let o=0;o<t.length;o+=2){let r=e[t[o+1]];if(r==null)throw new H(-301,!1);i.push(t[o],r)}}function N4(n){let t=null,e=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Qi(a)&&(t=a),a.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let i=null,o=null,r=null;for(let s of n)s.findHostDirectiveDefs!==null&&(i??=[],o??=new Map,r??=new Map,F4(s,i,r,o)),s===t&&(i??=[],i.push(s));return i!==null?(i.push(...t===null?n:n.slice(1)),[i,o,r]):null}function F4(n,t,e,i){let o=t.length;n.findHostDirectiveDefs(n,t,i),e.set(n,[o,t.length-1])}function L4(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function V4(n,t,e,i,o,r,s){let a=i.length,l=!1;for(let _=0;_<a;_++){let g=i[_];!l&&Qi(g)&&(l=!0,L4(n,e,_)),tv(Yf(e,t),n,g.type)}$4(e,n.data.length,a);for(let _=0;_<a;_++){let g=i[_];g.providersResolver&&g.providersResolver(g)}let c=!1,f=!1,h=cS(n,t,a,null);a>0&&(e.directiveToIndex=new Map);for(let _=0;_<a;_++){let g=i[_];if(e.mergedAttrs=Ya(e.mergedAttrs,g.hostAttrs),j4(n,e,t,h,g),z4(h,g,o),s!==null&&s.has(g)){let[b,C]=s.get(g);e.directiveToIndex.set(g.type,[h,b+e.directiveStart,C+e.directiveStart])}else(r===null||!r.has(g))&&e.directiveToIndex.set(g.type,h);g.contentQueries!==null&&(e.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(e.flags|=64);let v=g.type.prototype;!c&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),c=!0),!f&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),f=!0),h++}B4(n,e,r)}function B4(n,t,e){for(let i=t.directiveStart;i<t.directiveEnd;i++){let o=n.data[i];if(e===null||!e.has(o))SM(0,t,o,i),SM(1,t,o,i),OM(t,i,!1);else{let r=e.get(o);PM(0,t,r,i),PM(1,t,r,i),OM(t,i,!0)}}}function SM(n,t,e,i){let o=n===0?e.inputs:e.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[r]??=[],s[r].push(i),TS(t,r)}}function PM(n,t,e,i){let o=n===0?e.inputs:e.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s=o[r],a;n===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,r),TS(t,s)}}function TS(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function OM(n,t,e){let{attrs:i,inputs:o,hostDirectiveInputs:r}=n;if(i===null||!e&&o===null||e&&r===null||Nb(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&o.hasOwnProperty(l)){let c=o[l];for(let f of c)if(f===t){s??=[],s.push(l,i[a+1]);break}}else if(e&&r.hasOwnProperty(l)){let c=r[l];for(let f=0;f<c.length;f+=2)if(c[f]===t){s??=[],s.push(c[f+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function j4(n,t,e,i,o){n.data[i]=o;let r=o.factory||(o.factory=Is(o.type,!0)),s=new Ns(r,Qi(o),D);n.blueprint[i]=s,e[i]=s,H4(n,t,i,cS(n,e,o.hostVars,si),o)}function H4(n,t,e,i,o){let r=o.hostBindings;if(r){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~t.index;U4(s)!=a&&s.push(a),s.push(e,i,r)}}function U4(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function z4(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Qi(t)&&(e[""]=n)}}function $4(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function AS(n,t,e,i,o,r,s,a){let l=t.consts,c=Po(l,s),f=Fp(t,n,2,i,c);return r&&Zb(t,e,f,Po(l,a),o),f.mergedAttrs=Ya(f.mergedAttrs,f.attrs),f.attrs!==null&&Sv(f,f.attrs,!1),f.mergedAttrs!==null&&Sv(f,f.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,f),f}function RS(n,t){Cb(n,t),db(t)&&n.queries.elementEnd(t)}var ip=class extends ll{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=ar(t);return new Ls(e,this.ngModule)}};function G4(n){return Object.keys(n).map(t=>{let[e,i,o]=n[t],r={propName:e,templateName:t,isSignal:(i&Op.SignalBased)!==0};return o&&(r.transform=o),r})}function W4(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function q4(n,t,e){let i=t instanceof Gt?t:t?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new Ga(e,i):e}function Y4(n){let t=n.get(Mn,null);if(t===null)throw new H(407,!1);let e=n.get(A4,null),i=n.get(Fs,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:i}}function K4(n,t){let e=(n.selectors[0][0]||"div").toLowerCase();return Fb(t,e,e==="svg"?PE:e==="math"?AF:null)}var Ls=class extends IS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=G4(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=W4(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=f5(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,i,o){mt(22);let r=Ve(null);try{let s=this.componentDef,a=i?["ng-version","19.2.14"]:p5(this.componentDef.selectors[0]),l=Vb(0,null,null,1,0,null,null,null,null,[a],null),c=q4(s,o||this.ngModule,t),f=Y4(c),h=f.rendererFactory.createRenderer(null,s),_=i?y5(h,i,s.encapsulation,c):K4(s,h),g=Bb(null,l,null,512|lS(s),null,null,f,h,c,null,VD(_,c,!0));g[kt]=_,bb(g);let v=null;try{let b=AS(kt,l,g,"#host",()=>[this.componentDef],!0,0);_&&(aS(h,_,b),il(_,g)),Ip(l,g,b),kb(l,b,g),RS(l,b),e!==void 0&&Z4(b,this.ngContentSelectors,e),v=So(b.index,g),g[hn]=v[hn],Gb(l,g,null)}catch(b){throw v!==null&&lv(v),lv(g),b}finally{mt(23),yb()}return new Pv(this.componentType,g)}finally{Ve(r)}}},Pv=class extends k4{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e){super(),this._rootLView=e,this._tNode=Ac(e[de],kt),this.location=nl(this._tNode,e),this.instance=So(this._tNode.index,e)[hn],this.hostView=this.changeDetectorRef=new Sc(e,void 0,!1),this.componentType=t}setInput(t,e){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView,r=$b(i,o[de],o,t,e);this.previousInputValues.set(t,e);let s=So(i.index,o);Rp(s,1)}get injector(){return new Ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Z4(n,t,e){let i=n.projection=[];for(let o=0;o<t.length;o++){let r=e[o];i.push(r!=null&&r.length?Array.from(r):null)}}var Mi=(()=>{class n{static __NG_ELEMENT_ID__=Q4}return n})();function Q4(){let n=Ln();return FS(n,_e())}var X4=Mi,NS=class extends X4{_lContainer;_hostTNode;_hostLView;constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return nl(this._hostTNode,this._hostLView)}get injector(){return new Ps(this._hostTNode,this._hostLView)}get parentInjector(){let t=xb(this._hostTNode,this._hostLView);if(qE(t)){let e=Wf(t,this._hostLView),i=Gf(t),o=e[de].data[i+8];return new Ps(o,e)}else return new Ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=IM(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-wn}createEmbeddedView(t,e,i){let o,r;typeof i=="number"?o=i:i!=null&&(o=i.index,r=i.injector);let s=Pc(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},r,s);return this.insertImpl(a,o,Ka(this._hostTNode,s)),a}createComponent(t,e,i,o,r){let s=t&&!OF(t),a;if(s)a=e;else{let v=e||{};a=v.index,i=v.injector,o=v.projectableNodes,r=v.environmentInjector||v.ngModuleRef}let l=s?t:new Ls(ar(t)),c=i||this.parentInjector;if(!r&&l.ngModule==null){let b=(s?c:this.parentInjector).get(Gt,null);b&&(r=b)}let f=ar(l.componentType??{}),h=Pc(this._lContainer,f?.id??null),_=h?.firstChild??null,g=l.create(c,o,_,r);return this.insertImpl(g.hostView,a,Ka(this._hostTNode,h)),g}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){let o=t._lView;if(LF(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=o[mn],c=new NS(l,l[eo],l[mn]);c.detach(c.indexOf(t))}}let r=this._adjustIndex(e),s=this._lContainer;return $c(s,o,r,i),t.attachToViewContainerRef(),pE(R_(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=IM(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),i=Dc(this._lContainer,e);i&&(jf(R_(this._lContainer),e),kp(i[de],i))}detach(t){let e=this._adjustIndex(t,-1),i=Dc(this._lContainer,e);return i&&jf(R_(this._lContainer),e)!=null?new Sc(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function IM(n){return n[$f]}function R_(n){return n[$f]||(n[$f]=[])}function FS(n,t){let e,i=t[n.index];return ko(i)?e=i:(e=wS(i,t,null,n),t[n.index]=e,jb(t,e)),LS(e,t,n,i),new NS(e,n,t)}function J4(n,t){let e=n[yt],i=e.createComment(""),o=to(t,n),r=e.parentNode(o);return ep(e,r,i,e.nextSibling(o),!1),i}var LS=BS,Qb=()=>!1;function VS(n,t,e){return Qb(n,t,e)}function BS(n,t,e,i){if(n[dr])return;let o;e.type&8?o=Xi(i):o=J4(t,e),n[dr]=o}function eV(n,t,e){if(n[dr]&&n[Zi])return!0;let i=e[Ki],o=t.index-kt;if(!i||N3(t)||Bc(i,o))return!1;let s=pv(i,o),a=i.data[Sb]?.[o],[l,c]=P4(s,a);return n[dr]=l,n[Zi]=c,!0}function tV(n,t,e,i){Qb(n,e,t)||BS(n,t,e,i)}function nV(){LS=tV,Qb=eV}var Ov=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Iv=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let i=t.contentQueries!==null?t.contentQueries[0]:e.length,o=[];for(let r=0;r<i;r++){let s=e.getByIndex(r),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new n(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)Xb(t,e).matches!==null&&this.queries[e].setDirty()}},op=class{flags;read;predicate;constructor(t,e,i=null){this.flags=e,this.read=i,typeof t=="string"?this.predicate=dV(t):this.predicate=t}},kv=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){let o=e!==null?e.length:0,r=this.getByIndex(i).embeddedTView(t,o);r&&(r.indexInDeclarationView=i,e!==null?e.push(r):e=[r])}return e!==null?new n(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Tv=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let o=0;o<i.length;o++){let r=i[o];this.matchTNodeWithReadOption(t,e,iV(e,r)),this.matchTNodeWithReadOption(t,e,Tf(e,t,r,!1,!1))}else i===Ti?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Tf(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(i!==null){let o=this.metadata.read;if(o!==null)if(o===ot||o===Mi||o===Ti&&e.type&4)this.addMatch(e.index,-2);else{let r=Tf(e,t,o,!1,!1);r!==null&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function iV(n,t){let e=n.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1]}return null}function oV(n,t){return n.type&11?nl(n,t):n.type&4?Np(n,t):null}function rV(n,t,e,i){return e===-1?oV(t,n):e===-2?sV(n,t,i):Ec(n,n[de],e,t)}function sV(n,t,e){if(e===ot)return nl(t,n);if(e===Ti)return Np(t,n);if(e===Mi)return FS(t,n)}function jS(n,t,e,i){let o=t[cr].queries[i];if(o.matches===null){let r=n.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let f=r[c];a.push(rV(t,f,s[l+1],e.metadata.read))}}o.matches=a}return o.matches}function Av(n,t,e,i){let o=n.queries.getByIndex(e),r=o.matches;if(r!==null){let s=jS(n,t,o,e);for(let a=0;a<r.length;a+=2){let l=r[a];if(l>0)i.push(s[a/2]);else{let c=r[a+1],f=t[-l];for(let h=wn;h<f.length;h++){let _=f[h];_[Ts]===_[mn]&&Av(_[de],_,c,i)}if(f[qa]!==null){let h=f[qa];for(let _=0;_<h.length;_++){let g=h[_];Av(g[de],g,c,i)}}}}}return i}function aV(n,t){return n[cr].queries[t].queryList}function HS(n,t,e){let i=new av((e&4)===4);return BF(n,t,i,i.destroy),(t[cr]??=new Iv).queries.push(new Ov(i))-1}function lV(n,t,e){let i=jt();return i.firstCreatePass&&(US(i,new op(n,t,e),-1),(t&2)===2&&(i.staticViewQueries=!0)),HS(i,_e(),t)}function cV(n,t,e,i){let o=jt();if(o.firstCreatePass){let r=Ln();US(o,new op(t,e,i),r.index),uV(o,n),(e&2)===2&&(o.staticContentQueries=!0)}return HS(o,_e(),e)}function dV(n){return n.split(",").map(t=>t.trim())}function US(n,t,e){n.queries===null&&(n.queries=new kv),n.queries.track(new Tv(t,e))}function uV(n,t){let e=n.contentQueries||(n.contentQueries=[]),i=e.length?e[e.length-1]:-1;t!==i&&e.push(n.queries.length-1,t)}function Xb(n,t){return n.queries.getByIndex(t)}function fV(n,t){let e=n[de],i=Xb(e,t);return i.crossesNgTemplate?Av(e,n,t,[]):jS(e,n,i,t)}var pr=class{},Jb=class{};var Rv=class extends pr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ip(this);constructor(t,e,i,o=!0){super(),this.ngModuleType=t,this._parent=e;let r=_E(t);this._bootstrapComponents=tS(r.bootstrap),this._r3Injector=nD(t,e,[{provide:pr,useValue:this},{provide:ll,useValue:this.componentFactoryResolver},...i],ii(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Nv=class extends Jb{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Rv(this.moduleType,t,[])}};var rp=class extends pr{injector;componentFactoryResolver=new ip(this);instance=null;constructor(t){super();let e=new xc([...t.providers,{provide:pr,useValue:this},{provide:ll,useValue:this.componentFactoryResolver}],t.parent||gp(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function cl(n,t,e=null){return new rp({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var pV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=rb(!1,e.type),o=i.length>0?cl([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:n,providedIn:"environment",factory:()=>new n(W(Gt))})}return n})();function F(n){return Ic(()=>{let t=zS(n),e=pe(B({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===fD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(pV).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Io.Emulated,styles:n.styles||ni,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&Zn("NgStandalone"),$S(e);let i=n.dependencies;return e.directiveDefs=kM(i,!1),e.pipeDefs=kM(i,!0),e.id=vV(e),e})}function hV(n){return ar(n)||vE(n)}function mV(n){return n!==null}function ut(n){return Ic(()=>({type:n.type,bootstrap:n.bootstrap||ni,declarations:n.declarations||ni,imports:n.imports||ni,exports:n.exports||ni,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gV(n,t){if(n==null)return ks;let e={};for(let i in n)if(n.hasOwnProperty(i)){let o=n[i],r,s,a,l;Array.isArray(o)?(a=o[0],r=o[1],s=o[2]??r,l=o[3]||null):(r=o,s=o,a=Op.None,l=null),e[r]=[i,a,l],t[r]=s}return e}function _V(n){if(n==null)return ks;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function $e(n){return Ic(()=>{let t=zS(n);return $S(t),t})}function jp(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function zS(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||ks,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||ni,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gV(n.inputs,t),outputs:_V(n.outputs),debugInfo:null}}function $S(n){n.features?.forEach(t=>t(n))}function kM(n,t){if(!n)return null;let e=t?bE:hV;return()=>(typeof n=="function"?n():n).map(i=>e(i)).filter(mV)}function vV(n){let t=0,e=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let r of i.join("|"))t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function bV(n){return Object.getPrototypeOf(n.prototype).constructor}function Qt(n){let t=bV(n.type),e=!0,i=[n];for(;t;){let o;if(Qi(n))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new H(903,!1);o=t.\u0275dir}if(o){if(e){i.push(o);let s=n;s.inputs=N_(n.inputs),s.declaredInputs=N_(n.declaredInputs),s.outputs=N_(n.outputs);let a=o.hostBindings;a&&MV(n,a);let l=o.viewQuery,c=o.contentQueries;if(l&&xV(n,l),c&&wV(n,c),yV(n,o),JN(n.outputs,o.outputs),Qi(o)&&o.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(o.data.animation)}}let r=o.features;if(r)for(let s=0;s<r.length;s++){let a=r[s];a&&a.ngInherit&&a(n),a===Qt&&(e=!1)}}t=Object.getPrototypeOf(t)}CV(i)}function yV(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let i=t.inputs[e];i!==void 0&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e])}}function CV(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){let o=n[i];o.hostVars=t+=o.hostVars,o.hostAttrs=Ya(o.hostAttrs,e=Ya(e,o.hostAttrs))}}function N_(n){return n===ks?{}:n===ni?[]:n}function xV(n,t){let e=n.viewQuery;e?n.viewQuery=(i,o)=>{t(i,o),e(i,o)}:n.viewQuery=t}function wV(n,t){let e=n.contentQueries;e?n.contentQueries=(i,o,r)=>{t(i,o,r),e(i,o,r)}:n.contentQueries=t}function MV(n,t){let e=n.hostBindings;e?n.hostBindings=(i,o)=>{t(i,o),e(i,o)}:n.hostBindings=t}function GS(n){return DV(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function EV(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),i;for(;!(i=e.next()).done;)t(i.value)}}function DV(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Hp(n,t,e){return n[t]=e}function SV(n,t){return n[t]}function Kn(n,t,e){let i=n[t];return Object.is(i,e)?!1:(n[t]=e,!0)}function ey(n,t,e,i){let o=Kn(n,t,e);return Kn(n,t+1,i)||o}function PV(n,t,e,i,o){let r=ey(n,t,e,i);return Kn(n,t+2,o)||r}function OV(n,t,e,i,o,r,s,a,l){let c=t.consts,f=Fp(t,n,4,s||null,a||null);mb()&&Zb(t,e,f,Po(c,l),Ub),f.mergedAttrs=Ya(f.mergedAttrs,f.attrs),Cb(t,f);let h=f.tView=Vb(2,f,i,o,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}function sp(n,t,e,i,o,r,s,a,l,c){let f=e+kt,h=t.firstCreatePass?OV(f,t,n,i,o,r,s,a,l):t.data[f];Hs(h,!1);let _=WS(t,n,h,e);Cp()&&Tp(t,n,_,h),il(_,n);let g=wS(_,n,_,h);return n[f]=g,jb(n,g),VS(g,h,n),vp(h)&&Ip(t,n,h),l!=null&&Hb(n,h,c),h}function S(n,t,e,i,o,r,s,a){let l=_e(),c=jt(),f=Po(c.consts,r);return sp(l,c,n,t,e,i,o,f,s,a),S}var WS=qS;function qS(n,t,e,i){return Gr(!0),t[yt].createComment("")}function IV(n,t,e,i){let o=t[Ki],r=!o||Nc()||al(e)||Bc(o,i);if(Gr(r),r)return qS(n,t);let s=o.data[G3]?.[i]??null;s!==null&&e.tView!==null&&e.tView.ssrId===null&&(e.tView.ssrId=s);let a=Lp(o,n,t,e);Dp(o,i,a);let l=Ib(o,i);return Vp(l,a)}function kV(){WS=IV}function TV(n,t,e){let i=e.get(AV),o=e.get(me),r=()=>i.remove(t);return i.add(n,t,o),r}var AV=(()=>{class n{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(e,i,o){let r=this.executingCallbacks?this.deferred:this.current;this.addToQueue(r,Date.now()+e,i),this.scheduleTimer(o)}remove(e){let{current:i,deferred:o}=this;this.removeFromQueue(i,e)===-1&&this.removeFromQueue(o,e),i.length===0&&o.length===0&&this.clearTimeout()}addToQueue(e,i,o){let r=e.length;for(let s=0;s<e.length;s+=2)if(e[s]>i){r=s;break}hE(e,r,i,o)}removeFromQueue(e,i){let o=-1;for(let r=0;r<e.length;r+=2)if(e[r+1]===i){o=r;break}return o>-1&&Qw(e,o,2),o}scheduleTimer(e){let i=()=>{this.clearTimeout(),this.executingCallbacks=!0;let r=[...this.current],s=Date.now();for(let l=0;l<r.length;l+=2){let c=r[l],f=r[l+1];if(c<=s)f();else break}let a=-1;for(let l=0;l<this.current.length&&this.current[l]<=s;l+=2)a=l+1;if(a>=0&&Qw(this.current,0,a+1),this.executingCallbacks=!1,this.deferred.length>0){for(let l=0;l<this.deferred.length;l+=2){let c=this.deferred[l],f=this.deferred[l+1];this.addToQueue(this.current,c,f)}this.deferred.length=0}this.scheduleTimer(e)};if(this.current.length>0){let r=Date.now(),s=this.current[0];if(this.timeoutId===null||this.invokeTimerAt&&this.invokeTimerAt-s>16){this.clearTimeout();let a=Math.max(s-r,16);this.invokeTimerAt=s,this.timeoutId=e.runOutsideAngular(()=>setTimeout(()=>e.run(i),a))}}}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})(),RV=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(e,i,o,r){if(!this.cachedInjectors.has(e)){let s=o.length>0?cl(o,i,r):null;this.cachedInjectors.set(e,s)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:n,providedIn:"environment",factory:()=>new n})}return n})();var NV=new z("");function F_(n,t,e){return n.get(RV).getOrCreateInjector(t,n,e,"")}function FV(n,t,e){if(n instanceof Ga){let o=n.injector,r=n.parentInjector,s=F_(r,t,e);return new Ga(o,s)}let i=n.get(Gt);if(i!==n){let o=F_(i,t,e);return new Ga(n,o)}return F_(n,t,e)}function Ur(n,t,e,i=!1){let o=e[mn],r=o[de];if(js(o))return;let s=zs(o,t),a=s[Vc],l=s[rL];if(!(l!==null&&n<l)&&AM(a,n)&&AM(s[za]??-1,n)){let c=sl(r,t),h=!i&&!0&&(AD(c)!==null||uv(c,$t.Loading)!==null||uv(c,$t.Placeholder))?Fv:YS;try{h(n,s,e,t,o)}catch(_){zb(o,_)}}}function LV(n,t){let e=n[Zi]?.findIndex(o=>o.data[wD]===t[Vc])??-1;return{dehydratedView:e>-1?n[Zi][e]:null,dehydratedViewIx:e}}function YS(n,t,e,i,o){mt(20);let r=dL(n,o,i);if(r!==null){t[Vc]=n;let s=o[de],a=r+kt,l=Ac(s,a),c=0;Kb(e,c);let f;if(n===$t.Complete){let v=sl(s,i),b=v.providers;b&&b.length>0&&(f=FV(o[bi],v,b))}let{dehydratedView:h,dehydratedViewIx:_}=LV(e,t),g=zc(o,l,null,{injector:f,dehydratedView:h});if($c(e,g,c,Ka(l,h)),Rp(g,2),_>-1&&e[Zi]?.splice(_,1),(n===$t.Complete||n===$t.Error)&&Array.isArray(t[$a])){for(let v of t[$a])v();t[$a]=null}}mt(21)}function VV(n,t,e,i,o){let r=Date.now(),s=o[de],a=sl(s,i);if(t[bc]===null||t[bc]<=r){t[bc]=null;let l=AD(a),c=t[wf]!==null;if(n===$t.Loading&&l!==null&&!c){t[za]=n;let f=TM(l,t,i,e,o);t[wf]=f}else{n>$t.Loading&&c&&(t[wf](),t[wf]=null,t[za]=null),YS(n,t,e,i,o);let f=uv(a,n);f!==null&&(t[bc]=r+f,TM(f,t,i,e,o))}}else t[za]=n}function TM(n,t,e,i,o){return TV(n,()=>{let s=t[za];t[bc]=null,t[za]=null,s!==null&&Ur(s,e,i)},o[bi])}function AM(n,t){return n<t}function BV(n,t){let e=n[t.index];Ur($t.Placeholder,t,e)}function RM(n,t,e){n.loadingPromise.then(()=>{n.loadingState===ti.COMPLETE?Ur($t.Complete,t,e):n.loadingState===ti.FAILED&&Ur($t.Error,t,e)})}var Fv=null;function Me(n,t,e,i){let o=n.consts;e!=null&&(t.placeholderBlockConfig=Po(o,e)),i!=null&&(t.loadingBlockConfig=Po(o,i)),Fv===null&&(Fv=VV)}var ty=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var ny=new z(""),Gc=new z(""),Up=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,i,o){this._ngZone=e,this.registry=i,ab()&&(this._destroyRef=y(Wr,{optional:!0})??void 0),iy||(jV(o),o.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(e)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,o){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==r),e()},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:o})}whenStable(e,i,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,o),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,o){return[]}static \u0275fac=function(i){return new(i||n)(W(me),W(zp),W(Gc))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),zp=(()=>{class n{_applications=new Map;registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return iy?.findTestabilityInTree(this,e,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function jV(n){iy=n}var iy,HV=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>new Lv})}return n})(),Lv=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let e=t.zone,i=this.queues.get(e);i.has(t)&&(i.delete(t),this.queuedEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let i=this.queues.get(e);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}};function $s(n){return!!n&&typeof n.then=="function"}function KS(n){return!!n&&typeof n.subscribe=="function"}var ZS=new z("");function oy(n){return Ji([{provide:ZS,multi:!0,useValue:n}])}var QS=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i});appInits=y(ZS,{optional:!0})??[];injector=y(it);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let r=ri(this.injector,o);if($s(r))e.push(r);else if(KS(r)){let s=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(o=>{this.reject(o)}),e.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qr=new z("");function UV(){K0(()=>{throw new H(600,!1)})}function zV(n){return n.isBoundToModule}var $V=10;var Wt=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(D3);afterRenderManager=y(PD);zonelessEnabled=y(xp);rootEffectScheduler=y(HV);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new le;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=y(To).hasPendingTasks.pipe(ve(e=>!e));constructor(){y(rl,{optional:!0})}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{e.unsubscribe()})}_injector=y(Gt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,i){return this.bootstrapImpl(e,i)}bootstrapImpl(e,i,o=it.NULL){mt(10);let r=e instanceof IS;if(!this._injector.get(QS).done){let g="";throw new H(405,g)}let a;r?a=e:a=this._injector.get(ll).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let l=zV(a)?void 0:this._injector.get(pr),c=i||a.selector,f=a.create(o,[],c,l),h=f.location.nativeElement,_=f.injector.get(ny,null);return _?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Rf(this.components,f),_?.unregisterApplication(h)}),this._loadComponent(f),mt(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){mt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Pb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let e=Ve(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ve(e),this.afterTick.next(),mt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Mn,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<$V;)mt(14),this.synchronizeOnce(),mt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:o}of this.allViews)GV(i,o,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>yp(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Rf(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(qr,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Rf(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new H(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rf(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function GV(n,t,e,i){if(!e&&!yp(n))return;bS(n,t,e&&!i?0:1)}function WV(n,t,e){let i=t[bi],o=t[de];if(n.loadingState!==ti.NOT_STARTED)return n.loadingPromise??Promise.resolve();let r=zs(t,e),s=uL(o,n);n.loadingState=ti.IN_PROGRESS,Af(1,r);let a=n.dependencyResolverFn,l=i.get(b3).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(c=>{let f=!1,h=[],_=[];for(let g of c)if(g.status==="fulfilled"){let v=g.value,b=ar(v)||vE(v);if(b)h.push(b);else{let C=bE(v);C&&_.push(C)}}else{f=!0;break}if(f){if(n.loadingState=ti.FAILED,n.errorTmplIndex===null){let g="",v=new H(-750,!1);zb(t,v)}}else{n.loadingState=ti.COMPLETE;let g=s.tView;if(h.length>0){g.directiveRegistry=mM(g.directiveRegistry,h);let v=h.map(C=>C.type),b=rb(!1,...v);n.providers=b}_.length>0&&(g.pipeRegistry=mM(g.pipeRegistry,_))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,l()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=ti.COMPLETE,l()}),n.loadingPromise)}function qV(n,t){return t[bi].get(NV,null,{optional:!0})?.behavior!==ID.Manual}function XS(n,t,e){let i=t[de],o=t[e.index];if(!qV(n,t))return;let r=zs(t,e),s=sl(i,e);switch(kD(r),s.loadingState){case ti.NOT_STARTED:Ur($t.Loading,e,o),WV(s,t,e),s.loadingState===ti.IN_PROGRESS&&RM(s,e,o);break;case ti.IN_PROGRESS:Ur($t.Loading,e,o),RM(s,e,o);break;case ti.COMPLETE:Ur($t.Complete,e,o);break;case ti.FAILED:Ur($t.Error,e,o);break;default:}}function YV(n,t,e){return nt(this,null,function*(){let i=n.get(Ep);if(i.hydrating.has(t))return;let{parentBlockPromise:r,hydrationQueue:s}=IL(t,n);if(s.length===0)return;r!==null&&s.shift(),QV(i,s),r!==null&&(yield r);let a=s[0];i.has(a)?yield NM(n,s,e):i.awaitParentBlock(a,()=>nt(null,null,function*(){return yield NM(n,s,e)}))})}function NM(n,t,e){return nt(this,null,function*(){let i=n.get(Ep),o=i.hydrating,r=n.get(To),s=r.add();for(let l=0;l<t.length;l++){let c=t[l],f=i.get(c);if(f!=null){if(yield JV(f),yield XV(n),KV(f)){D4(f),FM(t.slice(l),i);break}o.get(c).resolve()}else{ZV(l,t,i),FM(t.slice(l),i);break}}let a=t[t.length-1];yield o.get(a)?.promise,r.remove(s),e&&e(t),S4(i.get(a),t,i,n.get(Wt))})}function KV(n){return zs(n.lView,n.tNode)[Vc]===$t.Error}function ZV(n,t,e){let i=n-1,o=i>-1?e.get(t[i]):null;o&&Bp(o.lContainer)}function FM(n,t){let e=t.hydrating;for(let i in n)e.get(i)?.reject();t.cleanup(n)}function QV(n,t){for(let e of t)n.hydrating.set(e,Promise.withResolvers())}function XV(n){return new Promise(t=>no(t,{injector:n}))}function JV(n){return nt(this,null,function*(){let{tNode:t,lView:e}=n,i=zs(e,t);return new Promise(o=>{eB(i,o),XS(2,e,t)})})}function eB(n,t){Array.isArray(n[$a])||(n[$a]=[]),n[$a].push(t)}function tB(n,t,e){return n===0?LM(t,e):n===2?!LM(t,e):!0}function LM(n,t){let e=n[bi],i=sl(n[de],t),o=BD(e),r=i.flags!==null&&(i.flags&1)===1,a=zs(n,t)[oL]!==null;return!(r&&a&&o)}function Ee(n,t,e,i,o,r,s,a,l,c){let f=_e(),h=jt(),_=n+kt,g=sp(f,h,n,null,0,0),v=f[bi];if(h.firstCreatePass){Zn("NgDefer");let L={primaryTmplIndex:t,loadingTmplIndex:i??null,placeholderTmplIndex:o??null,errorTmplIndex:r??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:e??null,loadingState:ti.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:c??0};l?.(h,L,a,s),cL(h,_,L)}let b=f[_];VS(b,g,f);let C=null,E=null;if(b[Zi]?.length>0){let L=b[Zi][0].data;E=L[xD]??null,C=L[wD]}let k=[null,Jf.Initial,null,null,null,null,E,C,null,null];lL(f,_,k);let R=null;E!==null&&(R=v.get(Ep),R.add(E,{lView:f,tNode:g,lContainer:b}));let V=()=>{kD(k),E!==null&&R?.cleanup([E])};aL(0,k,()=>TE(f,V)),fb(f,V)}function De(n){let t=_e(),e=Us();if(!tB(0,t,e))return;let i=hr();if(Kn(t,i,n)){let o=Ve(null);try{let r=!!n,a=zs(t,e)[Vc];r===!1&&a===Jf.Initial?BV(t,e):r===!0&&(a===Jf.Initial||a===$t.Placeholder)&&XS(0,t,e)}finally{Ve(o)}}}function qt(n,t,e,i){let o=_e(),r=hr();if(Kn(o,r,t)){let s=jt(),a=Us();O5(a,o,n,t,e,i)}return qt}function $p(n,t,e,i){return Kn(n,hr(),e)?t+Os(e)+i:si}function nB(n,t,e,i,o,r){let s=YF(),a=ey(n,s,e,o);return _b(2),a?t+Os(e)+i+Os(o)+r:si}function Sf(n,t){return n<<17|t<<2}function Vs(n){return n>>17&32767}function iB(n){return(n&2)==2}function oB(n,t){return n&131071|t<<17}function Vv(n){return n|2}function Za(n){return(n&131068)>>2}function L_(n,t){return n&-131069|t<<2}function rB(n){return(n&1)===1}function Bv(n){return n|1}function sB(n,t,e,i,o,r){let s=r?t.classBindings:t.styleBindings,a=Vs(s),l=Za(s);n[i]=e;let c=!1,f;if(Array.isArray(e)){let h=e;f=h[1],(f===null||Tc(h,f)>0)&&(c=!0)}else f=e;if(o)if(l!==0){let _=Vs(n[a+1]);n[i+1]=Sf(_,a),_!==0&&(n[_+1]=L_(n[_+1],i)),n[a+1]=oB(n[a+1],i)}else n[i+1]=Sf(a,0),a!==0&&(n[a+1]=L_(n[a+1],i)),a=i;else n[i+1]=Sf(l,0),a===0?a=i:n[l+1]=L_(n[l+1],i),l=i;c&&(n[i+1]=Vv(n[i+1])),VM(n,f,i,!0),VM(n,f,i,!1),aB(t,f,n,i,r),s=Sf(a,l),r?t.classBindings=s:t.styleBindings=s}function aB(n,t,e,i,o){let r=o?n.residualClasses:n.residualStyles;r!=null&&typeof t=="string"&&Tc(r,t)>=0&&(e[i+1]=Bv(e[i+1]))}function VM(n,t,e,i){let o=n[e+1],r=t===null,s=i?Vs(o):Za(o),a=!1;for(;s!==0&&(a===!1||r);){let l=n[s],c=n[s+1];lB(l,t)&&(a=!0,n[s+1]=i?Bv(c):Vv(c)),s=i?Vs(c):Za(c)}a&&(n[e+1]=i?Vv(o):Bv(o))}function lB(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?Tc(n,t)>=0:!1}var pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function JS(n){return n.substring(pn.key,pn.keyEnd)}function cB(n){return n.substring(pn.value,pn.valueEnd)}function dB(n){return nP(n),eP(n,Qa(n,0,pn.textEnd))}function eP(n,t){let e=pn.textEnd;return e===t?-1:(t=pn.keyEnd=fB(n,pn.key=t,e),Qa(n,t,e))}function uB(n){return nP(n),tP(n,Qa(n,0,pn.textEnd))}function tP(n,t){let e=pn.textEnd,i=pn.key=Qa(n,t,e);return e===i?-1:(i=pn.keyEnd=pB(n,i,e),i=BM(n,i,e,58),i=pn.value=Qa(n,i,e),i=pn.valueEnd=hB(n,i,e),BM(n,i,e,59))}function nP(n){pn.key=0,pn.keyEnd=0,pn.value=0,pn.valueEnd=0,pn.textEnd=n.length}function Qa(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function fB(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function pB(n,t,e){let i;for(;t<e&&((i=n.charCodeAt(t))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)t++;return t}function BM(n,t,e,i){return t=Qa(n,t,e),t<e&&t++,t}function hB(n,t,e){let i=-1,o=-1,r=-1,s=t,a=s;for(;s<e;){let l=n.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=jM(n,l,s,e):t===s-4&&r===85&&o===82&&i===76&&l===40?a=s=jM(n,41,s,e):l>32&&(a=s),r=o,o=i,i=l&-33}return a}function jM(n,t,e,i){let o=-1,r=e;for(;r<i;){let s=n.charCodeAt(r++);if(s==t&&o!==92)return r;s==92&&o===92?o=0:o=s}throw new Error}function x(n,t,e){let i=_e(),o=hr();if(Kn(i,o,t)){let r=jt(),s=Us();Uc(r,s,i,n,t,i[yt],e,!1)}return x}function jv(n,t,e,i,o){$b(t,n,e,o?"class":"style",i)}function io(n,t,e){return oP(n,t,e,!1),io}function tt(n,t){return oP(n,t,null,!0),tt}function mB(n){ry(aP,gB,n,!1)}function gB(n,t){for(let e=uB(t);e>=0;e=tP(t,e))aP(n,JS(t),cB(t))}function Qn(n){ry(xB,iP,n,!0)}function iP(n,t){for(let e=dB(t);e>=0;e=eP(t,e))kc(n,JS(t),!0)}function oP(n,t,e,i){let o=_e(),r=jt(),s=_b(2);if(r.firstUpdatePass&&sP(r,n,s,i),t!==si&&Kn(o,s,t)){let a=r.data[mr()];lP(r,a,o,o[yt],n,o[s+1]=MB(t,e),i,s)}}function ry(n,t,e,i){let o=jt(),r=_b(2);o.firstUpdatePass&&sP(o,null,r,i);let s=_e();if(e!==si&&Kn(s,r,e)){let a=o.data[mr()];if(cP(a,i)&&!rP(o,r)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=z_(l,e||"")),jv(o,a,s,e,i)}else wB(o,a,s,s[yt],s[r+1],s[r+1]=CB(n,t,e),i,r)}}function rP(n,t){return t>=n.expandoStartIndex}function sP(n,t,e,i){let o=n.data;if(o[e+1]===null){let r=o[mr()],s=rP(n,e);cP(r,i)&&t===null&&!s&&(t=!1),t=_B(o,r,t,i),sB(o,r,t,e,s,i)}}function _B(n,t,e,i){let o=FE(n),r=i?t.residualClasses:t.residualStyles;if(o===null)(i?t.classBindings:t.styleBindings)===0&&(e=V_(null,n,t,e,i),e=Oc(e,t.attrs,i),r=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==o)if(e=V_(o,n,t,e,i),r===null){let l=vB(n,t,i);l!==void 0&&Array.isArray(l)&&(l=V_(null,n,t,l[1],i),l=Oc(l,t.attrs,i),bB(n,t,i,l))}else r=yB(n,t,i)}return r!==void 0&&(i?t.residualClasses=r:t.residualStyles=r),e}function vB(n,t,e){let i=e?t.classBindings:t.styleBindings;if(Za(i)!==0)return n[Vs(i)]}function bB(n,t,e,i){let o=e?t.classBindings:t.styleBindings;n[Vs(o)]=i}function yB(n,t,e){let i,o=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<o;r++){let s=n[r].hostAttrs;i=Oc(i,s,e)}return Oc(i,t.attrs,e)}function V_(n,t,e,i,o){let r=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(r=t[a],i=Oc(i,r.hostAttrs,o),r!==n);)a++;return n!==null&&(e.directiveStylingLast=a),i}function Oc(n,t,e){let i=e?1:2,o=-1;if(t!==null)for(let r=0;r<t.length;r++){let s=t[r];typeof s=="number"?o=s:o===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),kc(n,s,e?!0:t[++r]))}return n===void 0?null:n}function CB(n,t,e){if(e==null||e==="")return ni;let i=[],o=xi(e);if(Array.isArray(o))for(let r=0;r<o.length;r++)n(i,o[r],!0);else if(typeof o=="object")for(let r in o)o.hasOwnProperty(r)&&n(i,r,o[r]);else typeof o=="string"&&t(i,o);return i}function aP(n,t,e){kc(n,t,xi(e))}function xB(n,t,e){let i=String(t);i!==""&&!i.includes(" ")&&kc(n,i,e)}function wB(n,t,e,i,o,r,s,a){o===si&&(o=ni);let l=0,c=0,f=0<o.length?o[0]:null,h=0<r.length?r[0]:null;for(;f!==null||h!==null;){let _=l<o.length?o[l+1]:void 0,g=c<r.length?r[c+1]:void 0,v=null,b;f===h?(l+=2,c+=2,_!==g&&(v=h,b=g)):h===null||f!==null&&f<h?(l+=2,v=f):(c+=2,v=h,b=g),v!==null&&lP(n,t,e,i,v,b,s,a),f=l<o.length?o[l]:null,h=c<r.length?r[c]:null}}function lP(n,t,e,i,o,r,s,a){if(!(t.type&3))return;let l=n.data,c=l[a+1],f=rB(c)?HM(l,t,e,o,Za(c),s):void 0;if(!ap(f)){ap(r)||iB(c)&&(r=HM(l,null,e,o,a,s));let h=OE(mr(),e);K5(i,s,h,o,r)}}function HM(n,t,e,i,o,r){let s=t===null,a;for(;o>0;){let l=n[o],c=Array.isArray(l),f=c?l[1]:l,h=f===null,_=e[o+1];_===si&&(_=h?ni:void 0);let g=h?M_(_,i):f===i?_:void 0;if(c&&!ap(g)&&(g=M_(l,i)),ap(g)&&(a=g,s))return a;let v=n[o+1];o=s?Vs(v):Za(v)}if(t!==null){let l=r?t.residualClasses:t.residualStyles;l!=null&&(a=M_(l,i))}return a}function ap(n){return n!==void 0}function MB(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=ii(xi(n)))),n}function cP(n,t){return(n.flags&(t?8:16))!==0}function dP(n,t,e){let i=_e(),o=$p(i,n,t,e);ry(kc,iP,o,!0)}var Hv=class{destroy(t){}updateValue(t,e){}swap(t,e){let i=Math.min(t,e),o=Math.max(t,e),r=this.detach(o);if(o-i>1){let s=this.detach(i);this.attach(i,r),this.attach(o,s)}else this.attach(i,r)}move(t,e){this.attach(e,this.detach(t))}};function B_(n,t,e,i,o){return n===e&&Object.is(t,i)?1:Object.is(o(n,t),o(e,i))?-1:0}function EB(n,t,e){let i,o,r=0,s=n.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;r<=s&&r<=l;){let c=n.at(r),f=t[r],h=B_(r,c,r,f,e);if(h!==0){h<0&&n.updateValue(r,f),r++;continue}let _=n.at(s),g=t[l],v=B_(s,_,l,g,e);if(v!==0){v<0&&n.updateValue(s,g),s--,l--;continue}let b=e(r,c),C=e(s,_),E=e(r,f);if(Object.is(E,C)){let k=e(l,g);Object.is(k,b)?(n.swap(r,s),n.updateValue(s,g),l--,s--):n.move(s,r),n.updateValue(r,f),r++;continue}if(i??=new lp,o??=zM(n,r,s,e),Uv(n,i,r,E))n.updateValue(r,f),r++,s++;else if(o.has(E))i.set(b,n.detach(r)),s--;else{let k=n.create(r,t[r]);n.attach(r,k),r++,s++}}for(;r<=l;)UM(n,i,e,r,t[r]),r++}else if(t!=null){let l=t[Symbol.iterator](),c=l.next();for(;!c.done&&r<=s;){let f=n.at(r),h=c.value,_=B_(r,f,r,h,e);if(_!==0)_<0&&n.updateValue(r,h),r++,c=l.next();else{i??=new lp,o??=zM(n,r,s,e);let g=e(r,h);if(Uv(n,i,r,g))n.updateValue(r,h),r++,s++,c=l.next();else if(!o.has(g))n.attach(r,n.create(r,h)),r++,s++,c=l.next();else{let v=e(r,f);i.set(v,n.detach(r)),s--}}}for(;!c.done;)UM(n,i,e,n.length,c.value),c=l.next()}for(;r<=s;)n.destroy(n.detach(s--));i?.forEach(l=>{n.destroy(l)})}function Uv(n,t,e,i){return t!==void 0&&t.has(i)?(n.attach(e,t.get(i)),t.delete(i),!0):!1}function UM(n,t,e,i,o){if(Uv(n,t,i,e(i,o)))n.updateValue(i,o);else{let r=n.create(i,o);n.attach(i,r)}}function zM(n,t,e,i){let o=new Set;for(let r=t;r<=e;r++)o.add(i(r,n.at(r)));return o}var lp=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(i);)i=o.get(i);o.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),this._vMap!==void 0){let o=this._vMap;for(;o.has(i);)i=o.get(i),t(i,e)}}};function ze(n,t){Zn("NgControlFlow");let e=_e(),i=hr(),o=e[i]!==si?e[i]:-1,r=o!==-1?cp(e,kt+o):void 0,s=0;if(Kn(e,i,n)){let a=Ve(null);try{if(r!==void 0&&Kb(r,s),n!==-1){let l=kt+n,c=cp(e,l),f=Wv(e[de],l),h=Pc(c,f.tView.ssrId),_=zc(e,f,t,{dehydratedView:h});$c(c,_,s,Ka(f,h))}}finally{Ve(a)}}else if(r!==void 0){let a=MS(r,s);a!==void 0&&(a[hn]=t)}}var zv=class{lContainer;$implicit;$index;constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-wn}};function Ge(n){return n}var $v=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}};function ue(n,t,e,i,o,r,s,a,l,c,f,h,_){Zn("NgControlFlow");let g=_e(),v=jt(),b=l!==void 0,C=_e(),E=a?s.bind(C[yi][hn]):s,k=new $v(b,E);C[kt+n]=k,sp(g,v,n+1,t,e,i,o,Po(v.consts,r)),b&&sp(g,v,n+2,l,c,f,h,Po(v.consts,_))}var Gv=class extends Hv{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i}get length(){return this.lContainer.length-wn}at(t){return this.getLView(t)[hn].$implicit}attach(t,e){let i=e[Ki];this.needsIndexUpdate||=t!==this.length,$c(this.lContainer,e,t,Ka(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,DB(this.lContainer,t)}create(t,e){let i=Pc(this.lContainer,this.templateTNode.tView.ssrId),o=zc(this.hostLView,this.templateTNode,new zv(this.lContainer,e,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),o}destroy(t){kp(t[de],t),this.operationsCounter?.recordDestroy()}updateValue(t,e){this.getLView(t)[hn].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[hn].$index=t}getLView(t){return SB(this.lContainer,t)}};function fe(n){let t=Ve(null),e=mr();try{let i=_e(),o=i[de],r=i[e],s=e+1,a=cp(i,s);if(r.liveCollection===void 0){let c=Wv(o,s);r.liveCollection=new Gv(a,i,c)}else r.liveCollection.reset();let l=r.liveCollection;if(EB(l,n,r.trackByFn),l.updateIndexes(),r.hasEmptyBlock){let c=hr(),f=l.length===0;if(Kn(i,c,f)){let h=e+2,_=cp(i,h);if(f){let g=Wv(o,h),v=Pc(_,g.tView.ssrId),b=zc(i,g,void 0,{dehydratedView:v});$c(_,b,0,Ka(g,v))}else Kb(_,0)}}}finally{Ve(t)}}function cp(n,t){return n[t]}function DB(n,t){return Dc(n,t)}function SB(n,t){return MS(n,t)}function Wv(n,t){return Ac(n,t)}function u(n,t,e,i){let o=_e(),r=jt(),s=kt+n,a=o[yt],l=r.firstCreatePass?AS(s,r,o,t,Ub,mb(),e,i):r.data[s],c=uP(r,o,l,a,t,n);o[s]=c;let f=vp(l);return Hs(l,!0),aS(a,c,l),!al(l)&&Cp()&&Tp(r,o,c,l),(jF()===0||f)&&il(c,o),HF(),f&&(Ip(r,o,l),kb(r,l,o)),i!==null&&Hb(o,l),u}function d(){let n=Ln();gb()?RE():(n=n.parent,Hs(n,!1));let t=n;zF(t)&&GF(),UF();let e=jt();return e.firstCreatePass&&RS(e,t),t.classesWithoutHost!=null&&o3(t)&&jv(e,t,_e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&r3(t)&&jv(e,t,_e(),t.stylesWithoutHost,!1),d}function M(n,t,e,i){return u(n,t,e,i),d(),M}var uP=(n,t,e,i,o,r)=>(Gr(!0),Fb(i,o,zE()));function PB(n,t,e,i,o,r){let s=t[Ki],a=!s||Nc()||al(e)||Bc(s,r);if(Gr(a),a)return Fb(i,o,zE());let l=Lp(s,n,t,e);return jD(s,r)&&Dp(s,r,l.nextSibling),s&&(dD(e)||uD(l))&&Bs(e)&&($F(e),sS(l)),l}function OB(){uP=PB}function IB(n,t,e,i,o){let r=t.consts,s=Po(r,i),a=Fp(t,n,8,"ng-container",s);s!==null&&Sv(a,s,!0);let l=Po(r,o);return mb()&&Zb(t,e,a,l,Ub),a.mergedAttrs=Ya(a.mergedAttrs,a.attrs),t.queries!==null&&t.queries.elementStart(t,a),a}function br(n,t,e){let i=_e(),o=jt(),r=n+kt,s=o.firstCreatePass?IB(r,o,i,t,e):o.data[r];Hs(s,!0);let a=fP(o,i,s,n);return i[r]=a,Cp()&&Tp(o,i,a,s),il(a,i),vp(s)&&(Ip(o,i,s),kb(o,s,i)),e!=null&&Hb(i,s),br}function yr(){let n=Ln(),t=jt();return gb()?RE():(n=n.parent,Hs(n,!1)),t.firstCreatePass&&(Cb(t,n),db(n)&&t.queries.elementEnd(n)),yr}function Wc(n,t,e){return br(n,t,e),yr(),Wc}var fP=(n,t,e,i)=>(Gr(!0),oS(t[yt],""));function kB(n,t,e,i){let o,r=t[Ki],s=!r||Nc()||Bc(r,i)||al(e);if(Gr(s),s)return oS(t[yt],"");let a=Lp(r,n,t,e),l=PL(r,i);return Dp(r,i,a),o=Vp(l,a),o}function TB(){fP=kB}function U(){return _e()}function sy(n,t,e){let i=_e(),o=hr();if(Kn(i,o,t)){let r=jt(),s=Us();Uc(r,s,i,n,t,i[yt],e,!0)}return sy}function ay(n,t,e){let i=_e(),o=hr();if(Kn(i,o,t)){let r=jt(),s=Us(),a=FE(r.data),l=T5(a,s,i);Uc(r,s,i,n,t,l,e,!0)}return ay}var Ds=void 0;function AB(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var RB=["en",[["a","p"],["AM","PM"],Ds],[["AM","PM"],Ds,Ds],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ds,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ds,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ds,"{1} 'at' {0}",Ds],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",AB],j_={};function ai(n){let t=NB(n),e=$M(t);if(e)return e;let i=t.split("-")[0];if(e=$M(i),e)return e;if(i==="en")return RB;throw new H(701,!1)}function $M(n){return n in j_||(j_[n]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[n]),j_[n]}var Yt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Yt||{});function NB(n){return n.toLowerCase().replace(/_/g,"-")}var dp="en-US",FB="USD";var LB=dp;function VB(n){typeof n=="string"&&(LB=n.toLowerCase().replace(/_/g,"-"))}function GM(n,t,e){return function i(o){if(o===Function)return e;let r=Bs(n)?So(n.index,t):t;Rp(r,5);let s=t[hn],a=WM(t,s,e,o),l=i.__ngNextListenerFn__;for(;l;)a=WM(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function WM(n,t,e,i){let o=Ve(null);try{return mt(6,t,e),e(i)!==!1}catch(r){return BB(n,r),!1}finally{mt(7,t,e),Ve(o)}}function BB(n,t){let e=n[bi],i=e?e.get(Oo,null):null;i&&i.handleError(t)}function qM(n,t,e,i,o,r){let s=t[e],a=t[de],c=a.data[e].outputs[i],f=s[c],h=a.firstCreatePass?hb(a):null,_=pb(t),g=f.subscribe(r),v=_.length;_.push(r,g),h&&h.push(o,n.index,v,-(v+1))}function I(n,t,e,i){let o=_e(),r=jt(),s=Ln();return pP(r,o,o[yt],s,n,t,i),I}function jB(n,t,e,i){let o=n.cleanup;if(o!=null)for(let r=0;r<o.length-1;r+=2){let s=o[r];if(s===e&&o[r+1]===i){let a=t[Uf],l=o[r+2];return a.length>l?a[l]:null}typeof s=="string"&&(r+=2)}return null}function pP(n,t,e,i,o,r,s){let a=vp(i),c=n.firstCreatePass?hb(n):null,f=pb(t),h=!0;if(i.type&3||s){let _=to(i,t),g=s?s(_):_,v=f.length,b=s?E=>s(Xi(E[i.index])):i.index,C=null;if(!s&&a&&(C=jB(n,t,o,i.index)),C!==null){let E=C.__ngLastListenerFn__||C;E.__ngNextListenerFn__=r,C.__ngLastListenerFn__=r,h=!1}else{r=GM(i,t,r),_L(t,g,o,r);let E=e.listen(g,o,r);f.push(r,E),c&&c.push(o,b,v,v+1)}}else r=GM(i,t,r);if(h){let _=i.outputs?.[o],g=i.hostDirectiveOutputs?.[o];if(g&&g.length)for(let v=0;v<g.length;v+=2){let b=g[v],C=g[v+1];qM(i,t,b,C,o,r)}if(_&&_.length)for(let v of _)qM(i,t,v,o,o,r)}}function w(n=1){return e3(n)}function Gs(n,t,e){return Ws(n,"",t,"",e),Gs}function Ws(n,t,e,i,o){let r=_e(),s=$p(r,t,e,i);if(s!==si){let a=jt(),l=Us();Uc(a,l,r,n,s,r[yt],o,!1)}return Ws}function hP(n,t,e,i){cV(n,t,e,i)}function Tt(n,t,e){lV(n,t,e)}function Ct(n){let t=_e(),e=jt(),i=LE();vb(i+1);let o=Xb(e,i);if(n.dirty&&FF(t)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let r=fV(t,i);n.reset(r,O3),n.notifyOnChanges()}return!0}return!1}function xt(){return aV(_e(),LE())}function li(n){let t=qF();return bp(t,kt+n)}function rn(n,t,e){let i=_e(),o=$p(i,n,t,e);mB(o)}function p(n,t=""){let e=_e(),i=jt(),o=n+kt,r=i.firstCreatePass?Fp(i,o,1,t,null):i.data[o],s=mP(i,e,r,t,n);e[o]=s,Cp()&&Tp(i,e,s,r),Hs(r,!1)}var mP=(n,t,e,i,o)=>(Gr(!0),iS(t[yt],i));function HB(n,t,e,i,o){let r=t[Ki],s=!r||Nc()||al(e)||Bc(r,o);return Gr(s),s?iS(t[yt],i):Lp(r,n,t,e)}function UB(){mP=HB}function A(n){return T("",n,""),A}function T(n,t,e){let i=_e(),o=$p(i,n,t,e);return o!==si&&gP(i,mr(),o),T}function Ao(n,t,e,i,o){let r=_e(),s=nB(r,n,t,e,i,o);return s!==si&&gP(r,mr(),s),Ao}function gP(n,t,e){let i=OE(t,n);h5(n[yt],i,e)}function q(n,t,e){cD(t)&&(t=t());let i=_e(),o=hr();if(Kn(i,o,t)){let r=jt(),s=Us();Uc(r,s,i,n,t,i[yt],e,!1)}return q}function K(n,t){let e=cD(n);return e&&n.set(t),e}function Y(n,t){let e=_e(),i=jt(),o=Ln();return pP(i,e,e[yt],o,n,t),Y}function zB(n,t,e){let i=jt();if(i.firstCreatePass){let o=Qi(n);qv(e,i.data,i.blueprint,o,!0),qv(t,i.data,i.blueprint,o,!1)}}function qv(n,t,e,i,o){if(n=Yn(n),Array.isArray(n))for(let r=0;r<n.length;r++)qv(n[r],t,e,i,o);else{let r=jt(),s=_e(),a=Ln(),l=Wa(n)?n:Yn(n.provide),c=xE(n),f=a.providerIndexes&1048575,h=a.directiveStart,_=a.providerIndexes>>20;if(Wa(n)||!n.multi){let g=new Ns(c,o,D),v=U_(l,t,o?f:f+_,h);v===-1?(tv(Yf(a,s),r,l),H_(r,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[v]=g,s[v]=g)}else{let g=U_(l,t,f+_,h),v=U_(l,t,f,f+_),b=g>=0&&e[g],C=v>=0&&e[v];if(o&&!C||!o&&!b){tv(Yf(a,s),r,l);let E=WB(o?GB:$B,e.length,o,i,c);!o&&C&&(e[v].providerFactory=E),H_(r,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(E),s.push(E)}else{let E=_P(e[o?v:g],c,!o&&i);H_(r,n,g>-1?g:v,E)}!o&&i&&C&&e[v].componentProviders++}}}function H_(n,t,e,i){let o=Wa(t),r=wF(t);if(o||r){let l=(r?Yn(t.useClass):t).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!o&&t.multi){let f=c.indexOf(e);f===-1?c.push(e,[i,l]):c[f+1].push(i,l)}else c.push(e,l)}}}function _P(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function U_(n,t,e,i){for(let o=e;o<i;o++)if(t[o]===n)return o;return-1}function $B(n,t,e,i,o){return Yv(this.multi,[])}function GB(n,t,e,i,o){let r=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ec(i,i[de],this.providerFactory.index,o);s=l.slice(0,a),Yv(r,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],Yv(r,s);return s}function Yv(n,t){for(let e=0;e<n.length;e++){let i=n[e];t.push(i())}return t}function WB(n,t,e,i,o){let r=new Ns(n,e,D);return r.multi=[],r.index=t,r.componentProviders=0,_P(r,o,i&&!e),r}function En(n,t=[]){return e=>{e.providersResolver=(i,o)=>zB(i,o?o(n):n,t)}}function cn(n,t,e){let i=el()+n,o=_e();return o[i]===si?Hp(o,i,e?t.call(e):t()):SV(o,i)}function Qe(n,t,e,i){return vP(_e(),el(),n,t,e,i)}function Yr(n,t,e,i,o){return bP(_e(),el(),n,t,e,i,o)}function ly(n,t){let e=n[t];return e===si?void 0:e}function vP(n,t,e,i,o,r){let s=t+e;return Kn(n,s,o)?Hp(n,s+1,r?i.call(r,o):i(o)):ly(n,s+1)}function bP(n,t,e,i,o,r,s){let a=t+e;return ey(n,a,o,r)?Hp(n,a+2,s?i.call(s,o,r):i(o,r)):ly(n,a+2)}function qB(n,t,e,i,o,r,s,a){let l=t+e;return PV(n,l,o,r,s)?Hp(n,l+3,a?i.call(a,o,r,s):i(o,r,s)):ly(n,l+3)}function _t(n,t){let e=jt(),i,o=n+kt;e.firstCreatePass?(i=YB(t,e.pipeRegistry),e.data[o]=i,i.onDestroy&&(e.destroyHooks??=[]).push(o,i.onDestroy)):i=e.data[o];let r=i.factory||(i.factory=Is(i.type,!0)),s,a=ei(D);try{let l=qf(!1),c=r();return qf(l),NF(e,_e(),o,c),c}finally{ei(a)}}function YB(n,t){if(t)for(let e=t.length-1;e>=0;e--){let i=t[e];if(n===i.name)return i}}function yP(n,t,e){let i=n+kt,o=_e(),r=bp(o,i);return cy(o,i)?vP(o,el(),t,r.transform,e,r):r.transform(e)}function zt(n,t,e,i){let o=n+kt,r=_e(),s=bp(r,o);return cy(r,o)?bP(r,el(),t,s.transform,e,i,s):s.transform(e,i)}function Gp(n,t,e,i,o){let r=n+kt,s=_e(),a=bp(s,r);return cy(s,r)?qB(s,el(),t,a.transform,e,i,o,a):a.transform(e,i,o)}function cy(n,t){return n[de].data[t].pure}function Wp(n,t){return Np(n,t)}var Xa=class{full;major;minor;patch;constructor(t){this.full=t;let e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}},dy=new Xa("19.2.14"),Kv=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},CP=(()=>{class n{compileModuleSync(e){return new Nv(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),o=_E(e),r=tS(o.declarations).reduce((s,a)=>{let l=ar(a);return l&&s.push(new Ls(l)),s},[]);return new Kv(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var KB=(()=>{class n{zone=y(me);changeDetectionScheduler=y(Fs);applicationRef=y(Wt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZB=new z("",{factory:()=>!1});function xP({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new me(pe(B({},MP()),{scheduleInRootZone:e})),[{provide:me,useFactory:n},{provide:$r,multi:!0,useFactory:()=>{let i=y(KB,{optional:!0});return()=>i.initialize()}},{provide:$r,multi:!0,useFactory:()=>{let i=y(QB);return()=>{i.initialize()}}},t===!0?{provide:oD,useValue:!0}:[],{provide:rD,useValue:e??iD}]}function wP(n){let t=n?.ignoreChangesOutsideZone,e=n?.scheduleInRootZone,i=xP({ngZoneFactory:()=>{let o=MP(n);return o.scheduleInRootZone=e,o.shouldCoalesceEventChangeDetection&&Zn("NgZone_CoalesceEvent"),new me(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:e});return Ji([{provide:ZB,useValue:!0},{provide:xp,useValue:!1},i])}function MP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var QB=(()=>{class n{subscription=new Rt;initialized=!1;zone=y(me);pendingTasks=y(To);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var XB=(()=>{class n{appRef=y(Wt);taskService=y(To);ngZone=y(me);zonelessEnabled=y(xp);tracing=y(rl,{optional:!0});disableScheduling=y(oD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Rt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(rD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof sv||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let i=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let o=this.useMicrotaskScheduler?aM:sD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(e),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,aM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JB(){return typeof $localize<"u"&&$localize.locale||dp}var qc=new z("",{providedIn:"root",factory:()=>y(qc,je.Optional|je.SkipSelf)||JB()}),EP=new z("",{providedIn:"root",factory:()=>FB});var Zv=new z(""),ej=new z("");function _c(n){return!n.moduleRef}function tj(n){let t=_c(n)?n.r3Injector:n.moduleRef.injector,e=t.get(me);return e.run(()=>{_c(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=t.get(Oo,null),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:r=>{i.handleError(r)}})}),_c(n)){let r=()=>t.destroy(),s=n.platformInjector.get(Zv);s.add(r),t.onDestroy(()=>{o.unsubscribe(),s.delete(r)})}else{let r=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Zv);s.add(r),n.moduleRef.onDestroy(()=>{Rf(n.allPlatformModules,n.moduleRef),o.unsubscribe(),s.delete(r)})}return ij(i,e,()=>{let r=t.get(QS);return r.runInitializers(),r.donePromise.then(()=>{let s=t.get(qc,dp);if(VB(s||dp),!t.get(ej,!0))return _c(n)?t.get(Wt):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(_c(n)){let l=t.get(Wt);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return nj(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function nj(n,t){let e=n.injector.get(Wt);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(e);else throw new H(-403,!1);t.push(n)}function ij(n,t,e){try{let i=e();return $s(i)?i.catch(o=>{throw t.runOutsideAngular(()=>n.handleError(o)),o}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}var Nf=null;function oj(n=[],t){return it.create({name:t,providers:[{provide:mp,useValue:"platform"},{provide:Zv,useValue:new Set([()=>Nf=null])},...n]})}function rj(n=[]){if(Nf)return Nf;let t=oj(n);return Nf=t,UV(),sj(t),t}function sj(n){let t=n.get(Db,null);ri(n,()=>{t?.forEach(e=>e())})}var oo=(()=>{class n{static __NG_ELEMENT_ID__=aj}return n})();function aj(n){return lj(Ln(),_e(),(n&16)===16)}function lj(n,t,e){if(Bs(n)&&!e){let i=So(n.index,t);return new Sc(i,i)}else if(n.type&175){let i=t[yi];return new Sc(i,t)}return null}var Qv=class{constructor(){}supports(t){return GS(t)}create(t){return new Xv(t)}},cj=(n,t)=>t,Xv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||cj}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,o=0,r=null;for(;e||i;){let s=!i||e&&e.currentIndex<YM(i,o,r)?e:i,a=YM(s,o,r),l=s.currentIndex;if(s===i)o--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)o++;else{r||(r=[]);let c=a-o,f=l-o;if(c!=f){for(let _=0;_<c;_++){let g=_<r.length?r[_]:r[_]=0,v=g+_;f<=v&&v<c&&(r[_]=g+1)}let h=s.previousIndex;r[h]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!GS(t))throw new H(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,i=!1,o,r,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],s=this._trackByFn(a,r),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,r,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,r,s,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)),e=e._next}else o=0,EV(t,a=>{s=this._trackByFn(o,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,o),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,o){let r;return t===null?r=this._itTail:(r=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,o),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,o)):t=this._addAfter(new Jv(e,i),r,o)),t}_verifyReinsertion(t,e,i,o){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return r!==null?t=this._reinsertAfter(r,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,r=t._nextRemoved;return o===null?this._removalsHead=r:o._nextRemoved=r,r===null?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){let o=e===null?this._itHead:e._next;return t._next=o,t._prev=e,o===null?this._itTail=t:o._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new up),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,i=t._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new up),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Jv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},eb=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let e=t._prevDup,i=t._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},up=class{map=new Map;put(t){let e=t.trackById,i=this.map.get(e);i||(i=new eb,this.map.set(e,i)),i.add(t)}get(t,e){let i=t,o=this.map.get(i);return o?o.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function YM(n,t,e){let i=n.previousIndex;if(i===null)return i;let o=0;return e&&i<e.length&&(o=e[i]),i+t+o}function KM(){return new qp([new Qv])}var qp=(()=>{class n{factories;static \u0275prov=N({token:n,providedIn:"root",factory:KM});constructor(e){this.factories=e}static create(e,i){if(i!=null){let o=i.factories.slice();e=e.concat(o)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||KM()),deps:[[n,new gF,new nb]]}}find(e){let i=this.factories.find(o=>o.supports(e));if(i!=null)return i;throw new H(901,!1)}}return n})();var DP=(()=>{class n{constructor(e){}static \u0275fac=function(i){return new(i||n)(W(Wt))};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})();function SP(n){mt(8);try{let{rootComponent:t,appProviders:e,platformProviders:i}=n,o=rj(i),r=[xP({}),{provide:Fs,useExisting:XB},...e||[]],s=new rp({providers:r,parent:o,debugName:"",runEnvironmentInitializers:!1});return tj({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(t){return Promise.reject(t)}finally{mt(9)}}var Pf=new WeakSet,ZM="",Ff=[];function QM(n){return n.get(DD,K3)}function PP(){let n=[{provide:DD,useFactory:()=>{let t=!0;{let e=y(Yi);t=!!window._ejsas?.[e]}return t&&Zn("NgEventReplay"),t}}];return n.push({provide:$r,useValue:()=>{let t=y(Wt),{injector:e}=t;if(!Pf.has(t)){let i=y(fM);if(QM(e)){vL();let o=e.get(Yi),r=gL(o,(s,a,l)=>{s.nodeType===Node.ELEMENT_NODE&&(fL(s,a,l),pL(s,i))});t.onDestroy(r)}}},multi:!0},{provide:qr,useFactory:()=>{let t=y(Wt),{injector:e}=t;return()=>{!QM(e)||Pf.has(t)||(Pf.add(t),t.onDestroy(()=>{Pf.delete(t);{let i=e.get(Yi);w_(i)}}),t.whenStable().then(()=>{if(t.destroyed)return;let i=e.get(mL);dj(i,e);let o=e.get(fM);o.get(ZM)?.forEach(hL),o.delete(ZM);let r=i.instance;BD(e)?t.onDestroy(()=>r.cleanUp()):r.cleanUp()}))}},multi:!0}),n}var dj=(n,t)=>{let e=t.get(Yi),i=window._ejsas[e],o=n.instance=new $w(new bf(i.c));for(let a of i.et)o.addEvent(a);for(let a of i.etc)o.addEvent(a);let r=Gw(e);o.replayEarlyEventInfos(r),w_(e);let s=new yf(a=>{uj(t,a,a.currentTarget)});zw(o,s)};function uj(n,t,e){let i=(e&&e.getAttribute(Mp))??"";/d\d+/.test(i)?fj(i,n,t,e):t.eventPhase===x_.REPLAY&&RD(t,e)}function fj(n,t,e,i){Ff.push({event:e,currentTarget:i}),YV(t,n,pj)}function pj(n){let t=[...Ff],e=new Set(n);Ff=[];for(let{event:i,currentTarget:o}of t){let r=o.getAttribute(Mp);e.has(r)?RD(i,o):Ff.push({event:i,currentTarget:o})}}var XM=!1;function hj(){XM||(XM=!0,ML(),OB(),UB(),TB(),kV(),nV(),I4(),w5())}function mj(n){return n.whenStable()}function OP(){let n=[{provide:xf,useFactory:()=>{let t=!0;return t=!!y(ol,{optional:!0})?.get(FD,null),t&&Zn("NgHydration"),t}},{provide:$r,useValue:()=>{w4(!1),y(xf)&&(kL(Fc()),hj())},multi:!0}];return n.push({provide:ED,useFactory:()=>y(xf)},{provide:qr,useFactory:()=>{if(y(xf)){let t=y(Wt);return()=>{mj(t).then(()=>{t.destroyed||PS(t)})}}return()=>{}},multi:!0}),Ji(n)}function ro(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Yc(n,t=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):t}function Ri(n){return X0(n)}function qs(n,t){return Y0(n,t?.equal)}var JM=class{[Ii];constructor(t){this[Ii]=t}destroy(){this[Ii].destroy()}};function Yp(n,t){let e=ar(n),i=t.elementInjector||gp();return new Ls(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function IP(n){let t=ar(n);if(!t)return null;let e=new Ls(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var be=new z("");var AP=null;function Ei(){return AP}function uy(n){AP??=n}var Kc=class{},Zc=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>y(RP),providedIn:"platform"})}return n})(),fy=new z(""),RP=(()=>{class n extends Zc{_location;_history;_doc=y(be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ei().getBaseHref(this._doc)}onPopState(e){let i=Ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=Ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Kp(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function kP(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function so(n){return n&&n[0]!=="?"?`?${n}`:n}var ao=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>y(Qp),providedIn:"root"})}return n})(),Zp=new z(""),Qp=(()=>{class n extends ao{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??y(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Kp(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+so(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,r){let s=this.prepareExternalUrl(o+so(r));this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){let s=this.prepareExternalUrl(o+so(r));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(W(Zc),W(Zp,8))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ro=(()=>{class n{_subject=new le;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=vj(kP(TP(i))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+so(i))}normalize(e){return n.stripTrailingSlash(_j(this._basePath,TP(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+so(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+so(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i??void 0,complete:o??void 0})}static normalizeQueryParams=so;static joinWithSlash=Kp;static stripTrailingSlash=kP;static \u0275fac=function(i){return new(i||n)(W(ao))};static \u0275prov=N({token:n,factory:()=>gj(),providedIn:"root"})}return n})();function gj(){return new Ro(W(ao))}function _j(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function TP(n){return n.replace(/\/index.html$/,"")}function vj(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var by=(()=>{class n extends ao{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){let i=Kp(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,r){let s=this.prepareExternalUrl(o+so(r))||this._platformLocation.pathname;this._platformLocation.pushState(e,i,s)}replaceState(e,i,o,r){let s=this.prepareExternalUrl(o+so(r))||this._platformLocation.pathname;this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||n)(W(Zc),W(Zp,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),HP={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},yy=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(yy||{});var Hn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Hn||{}),Mt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Mt||{}),ci=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ci||{}),di={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function UP(n){return ai(n)[Yt.LocaleId]}function zP(n,t,e){let i=ai(n),o=[i[Yt.DayPeriodsFormat],i[Yt.DayPeriodsStandalone]],r=Ni(o,t);return Ni(r,e)}function $P(n,t,e){let i=ai(n),o=[i[Yt.DaysFormat],i[Yt.DaysStandalone]],r=Ni(o,t);return Ni(r,e)}function GP(n,t,e){let i=ai(n),o=[i[Yt.MonthsFormat],i[Yt.MonthsStandalone]],r=Ni(o,t);return Ni(r,e)}function WP(n,t){let i=ai(n)[Yt.Eras];return Ni(i,t)}function Qc(n,t){let e=ai(n);return Ni(e[Yt.DateFormat],t)}function Xc(n,t){let e=ai(n);return Ni(e[Yt.TimeFormat],t)}function Jc(n,t){let i=ai(n)[Yt.DateTimeFormat];return Ni(i,t)}function No(n,t){let e=ai(n),i=e[Yt.NumberSymbols][t];if(typeof i>"u"){if(t===di.CurrencyDecimal)return e[Yt.NumberSymbols][di.Decimal];if(t===di.CurrencyGroup)return e[Yt.NumberSymbols][di.Group]}return i}function qP(n,t){return ai(n)[Yt.NumberFormats][t]}function bj(n){return ai(n)[Yt.Currencies]}function YP(n){if(!n[Yt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Yt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function KP(n){let t=ai(n);return YP(t),(t[Yt.ExtraData][2]||[]).map(i=>typeof i=="string"?py(i):[py(i[0]),py(i[1])])}function ZP(n,t,e){let i=ai(n);YP(i);let o=[i[Yt.ExtraData][0],i[Yt.ExtraData][1]],r=Ni(o,t)||[];return Ni(r,e)||[]}function Ni(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function py(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}function QP(n,t,e="en"){let i=bj(e)[n]||HP[n]||[],o=i[1];return t==="narrow"&&typeof o=="string"?o:i[0]||n}var yj=2;function XP(n){let t,e=HP[n];return e&&(t=e[2]),typeof t=="number"?t:yj}var Cj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xp={},xj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function JP(n,t,e,i){let o=kj(n);t=Cr(e,t)||t;let s=[],a;for(;t;)if(a=xj.exec(t),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;t=f}else{s.push(t);break}let l=o.getTimezoneOffset();i&&(l=tO(i,l),o=Ij(o,i));let c="";return s.forEach(f=>{let h=Pj(f);c+=h?h(o,e,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function ih(n,t,e){let i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Cr(n,t){let e=UP(n);if(Xp[e]??={},Xp[e][t])return Xp[e][t];let i="";switch(t){case"shortDate":i=Qc(n,ci.Short);break;case"mediumDate":i=Qc(n,ci.Medium);break;case"longDate":i=Qc(n,ci.Long);break;case"fullDate":i=Qc(n,ci.Full);break;case"shortTime":i=Xc(n,ci.Short);break;case"mediumTime":i=Xc(n,ci.Medium);break;case"longTime":i=Xc(n,ci.Long);break;case"fullTime":i=Xc(n,ci.Full);break;case"short":let o=Cr(n,"shortTime"),r=Cr(n,"shortDate");i=Jp(Jc(n,ci.Short),[o,r]);break;case"medium":let s=Cr(n,"mediumTime"),a=Cr(n,"mediumDate");i=Jp(Jc(n,ci.Medium),[s,a]);break;case"long":let l=Cr(n,"longTime"),c=Cr(n,"longDate");i=Jp(Jc(n,ci.Long),[l,c]);break;case"full":let f=Cr(n,"fullTime"),h=Cr(n,"fullDate");i=Jp(Jc(n,ci.Full),[f,h]);break}return i&&(Xp[e][t]=i),i}function Jp(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return t!=null&&i in t?t[i]:e})),n}function lo(n,t,e="-",i,o){let r="";(n<0||o&&n<=0)&&(o?n=-n+1:(n=-n,r=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),r+s}function wj(n,t){return lo(n,3).substring(0,t)}function dn(n,t,e=0,i=!1,o=!1){return function(r,s){let a=Mj(n,r);if((e>0||a>-e)&&(a+=e),n===3)a===0&&e===-12&&(a=12);else if(n===6)return wj(a,t);let l=No(s,di.MinusSign);return lo(a,t,l,i,o)}}function Mj(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ft(n,t,e=Hn.Format,i=!1){return function(o,r){return Ej(o,r,n,t,e,i)}}function Ej(n,t,e,i,o,r){switch(e){case 2:return GP(t,o,i)[n.getMonth()];case 1:return $P(t,o,i)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(r){let c=KP(t),f=ZP(t,o,i),h=c.findIndex(_=>{if(Array.isArray(_)){let[g,v]=_,b=s>=g.hours&&a>=g.minutes,C=s<v.hours||s===v.hours&&a<v.minutes;if(g.hours<v.hours){if(b&&C)return!0}else if(b||C)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(h!==-1)return f[h]}return zP(t,o,i)[s<12?0:1];case 3:return WP(t,i)[n.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function eh(n){return function(t,e,i){let o=-1*i,r=No(e,di.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case 0:return(o>=0?"+":"")+lo(s,2,r)+lo(Math.abs(o%60),2,r);case 1:return"GMT"+(o>=0?"+":"")+lo(s,1,r);case 2:return"GMT"+(o>=0?"+":"")+lo(s,2,r)+":"+lo(Math.abs(o%60),2,r);case 3:return i===0?"Z":(o>=0?"+":"")+lo(s,2,r)+":"+lo(Math.abs(o%60),2,r);default:throw new Error(`Unknown zone width "${n}"`)}}}var Dj=0,nh=4;function Sj(n){let t=ih(n,Dj,1).getDay();return ih(n,0,1+(t<=nh?nh:nh+7)-t)}function eO(n){let t=n.getDay(),e=t===0?-3:nh-t;return ih(n.getFullYear(),n.getMonth(),n.getDate()+e)}function hy(n,t=!1){return function(e,i){let o;if(t){let r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();o=1+Math.floor((s+r)/7)}else{let r=eO(e),s=Sj(r.getFullYear()),a=r.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return lo(o,n,No(i,di.MinusSign))}}function th(n,t=!1){return function(e,i){let r=eO(e).getFullYear();return lo(r,n,No(i,di.MinusSign),t)}}var my={};function Pj(n){if(my[n])return my[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ft(3,Mt.Abbreviated);break;case"GGGG":t=Ft(3,Mt.Wide);break;case"GGGGG":t=Ft(3,Mt.Narrow);break;case"y":t=dn(0,1,0,!1,!0);break;case"yy":t=dn(0,2,0,!0,!0);break;case"yyy":t=dn(0,3,0,!1,!0);break;case"yyyy":t=dn(0,4,0,!1,!0);break;case"Y":t=th(1);break;case"YY":t=th(2,!0);break;case"YYY":t=th(3);break;case"YYYY":t=th(4);break;case"M":case"L":t=dn(1,1,1);break;case"MM":case"LL":t=dn(1,2,1);break;case"MMM":t=Ft(2,Mt.Abbreviated);break;case"MMMM":t=Ft(2,Mt.Wide);break;case"MMMMM":t=Ft(2,Mt.Narrow);break;case"LLL":t=Ft(2,Mt.Abbreviated,Hn.Standalone);break;case"LLLL":t=Ft(2,Mt.Wide,Hn.Standalone);break;case"LLLLL":t=Ft(2,Mt.Narrow,Hn.Standalone);break;case"w":t=hy(1);break;case"ww":t=hy(2);break;case"W":t=hy(1,!0);break;case"d":t=dn(2,1);break;case"dd":t=dn(2,2);break;case"c":case"cc":t=dn(7,1);break;case"ccc":t=Ft(1,Mt.Abbreviated,Hn.Standalone);break;case"cccc":t=Ft(1,Mt.Wide,Hn.Standalone);break;case"ccccc":t=Ft(1,Mt.Narrow,Hn.Standalone);break;case"cccccc":t=Ft(1,Mt.Short,Hn.Standalone);break;case"E":case"EE":case"EEE":t=Ft(1,Mt.Abbreviated);break;case"EEEE":t=Ft(1,Mt.Wide);break;case"EEEEE":t=Ft(1,Mt.Narrow);break;case"EEEEEE":t=Ft(1,Mt.Short);break;case"a":case"aa":case"aaa":t=Ft(0,Mt.Abbreviated);break;case"aaaa":t=Ft(0,Mt.Wide);break;case"aaaaa":t=Ft(0,Mt.Narrow);break;case"b":case"bb":case"bbb":t=Ft(0,Mt.Abbreviated,Hn.Standalone,!0);break;case"bbbb":t=Ft(0,Mt.Wide,Hn.Standalone,!0);break;case"bbbbb":t=Ft(0,Mt.Narrow,Hn.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ft(0,Mt.Abbreviated,Hn.Format,!0);break;case"BBBB":t=Ft(0,Mt.Wide,Hn.Format,!0);break;case"BBBBB":t=Ft(0,Mt.Narrow,Hn.Format,!0);break;case"h":t=dn(3,1,-12);break;case"hh":t=dn(3,2,-12);break;case"H":t=dn(3,1);break;case"HH":t=dn(3,2);break;case"m":t=dn(4,1);break;case"mm":t=dn(4,2);break;case"s":t=dn(5,1);break;case"ss":t=dn(5,2);break;case"S":t=dn(6,1);break;case"SS":t=dn(6,2);break;case"SSS":t=dn(6,3);break;case"Z":case"ZZ":case"ZZZ":t=eh(0);break;case"ZZZZZ":t=eh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=eh(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=eh(2);break;default:return null}return my[n]=t,t}function tO(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Oj(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function Ij(n,t,e){let o=n.getTimezoneOffset(),r=tO(t,o);return Oj(n,-1*(r-o))}function kj(n){if(NP(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[o,r=1,s=1]=n.split("-").map(a=>+a);return ih(o,r-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Cj))return Tj(i)}let t=new Date(n);if(!NP(t))throw new Error(`Unable to convert "${n}" into a date`);return t}function Tj(n){let t=new Date(0),e=0,i=0,o=n[8]?t.setUTCFullYear:t.setFullYear,r=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return r.call(t,s,a,l,c),t}function NP(n){return n instanceof Date&&!isNaN(n.valueOf())}var Aj=/^(\d+)?\.((\d+)(-(\d+))?)?$/,FP=22,oh=".",ed="0",Rj=";",Nj=",",gy="#",LP="\xA4";function Fj(n,t,e,i,o,r,s=!1){let a="",l=!1;if(!isFinite(n))a=No(e,di.Infinity);else{let c=Bj(n);s&&(c=Vj(c));let f=t.minInt,h=t.minFrac,_=t.maxFrac;if(r){let k=r.match(Aj);if(k===null)throw new Error(`${r} is not a valid digit info`);let R=k[1],V=k[3],L=k[5];R!=null&&(f=_y(R)),V!=null&&(h=_y(V)),L!=null?_=_y(L):V!=null&&h>_&&(_=h)}jj(c,h,_);let g=c.digits,v=c.integerLen,b=c.exponent,C=[];for(l=g.every(k=>!k);v<f;v++)g.unshift(0);for(;v<0;v++)g.unshift(0);v>0?C=g.splice(v,g.length):(C=g,g=[0]);let E=[];for(g.length>=t.lgSize&&E.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)E.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&E.unshift(g.join("")),a=E.join(No(e,i)),C.length&&(a+=No(e,o)+C.join("")),b&&(a+=No(e,di.Exponential)+"+"+b)}return n<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function nO(n,t,e,i,o){let r=qP(t,yy.Currency),s=Lj(r,No(t,di.MinusSign));return s.minFrac=XP(i),s.maxFrac=s.minFrac,Fj(n,s,t,di.CurrencyGroup,di.CurrencyDecimal,o).replace(LP,e).replace(LP,"").trim()}function Lj(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(Rj),o=i[0],r=i[1],s=o.indexOf(oh)!==-1?o.split(oh):[o.substring(0,o.lastIndexOf(ed)+1),o.substring(o.lastIndexOf(ed)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(gy));for(let f=0;f<l.length;f++){let h=l.charAt(f);h===ed?e.minFrac=e.maxFrac=f+1:h===gy?e.maxFrac=f+1:e.posSuf+=h}let c=a.split(Nj);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,r){let f=o.length-e.posPre.length-e.posSuf.length,h=r.indexOf(gy);e.negPre=r.substring(0,h).replace(/'/g,""),e.negSuf=r.slice(h+f).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Vj(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function Bj(n){let t=Math.abs(n)+"",e=0,i,o,r,s,a;for((o=t.indexOf(oh))>-1&&(t=t.replace(oh,"")),(r=t.search(/e/i))>0?(o<0&&(o=r),o+=+t.slice(r+1),t=t.substring(0,r)):o<0&&(o=t.length),r=0;t.charAt(r)===ed;r++);if(r===(a=t.length))i=[0],o=1;else{for(a--;t.charAt(a)===ed;)a--;for(o-=r,i=[],s=0;r<=a;r++,s++)i[s]=Number(t.charAt(r))}return o>FP&&(i=i.splice(0,FP-1),e=o-1,o=1),{digits:i,exponent:e,integerLen:o}}function jj(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,o=i.length-n.integerLen,r=Math.min(Math.max(t,o),e),s=r+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let h=s;h<i.length;h++)i[h]=0}else{o=Math.max(0,o),n.integerLen=1,i.length=Math.max(1,s=r+1),i[0]=0;for(let h=1;h<s;h++)i[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;o<Math.max(0,r);o++)i.push(0);let l=r!==0,c=t+n.integerLen,f=i.reduceRight(function(h,_,g,v){return _=_+h,v[g]=_<10?_:_-10,l&&(v[g]===0&&g>=c?v.pop():l=!1),_>=10?1:0},0);f&&(i.unshift(f),n.integerLen++)}function _y(n){let t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}var vy=/\s+/,VP=[],Et=(()=>{class n{_ngEl;_renderer;initialClasses=VP;rawClass;stateMap=new Map;constructor(e,i){this._ngEl=e,this._renderer=i}set klass(e){this.initialClasses=e!=null?e.trim().split(vy):VP}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(vy):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let o=this.stateMap.get(e);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(vy).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(i){return new(i||n)(D(ot),D(jn))};static \u0275dir=$e({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var rh=class{$implicit;ngForOf;index;count;constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},rt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((o,r,s)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new rh(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(r===null?void 0:r);else if(r!==null){let a=i.get(r);i.move(a,s),BP(a,o)}});for(let o=0,r=i.length;o<r;o++){let a=i.get(o).context;a.index=o,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let r=i.get(o.currentIndex);BP(r,o)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(D(Mi),D(Ti),D(qp))};static \u0275dir=$e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function BP(n,t){n.context.$implicit=t.item}var ye=(()=>{class n{_viewContainer;_context=new sh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){jP(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){jP(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||n)(D(Mi),D(Ti))};static \u0275dir=$e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),sh=class{$implicit=null;ngIf=null};function jP(n,t){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}var Cy=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(e,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}static \u0275fac=function(i){return new(i||n)(D(Mi))};static \u0275dir=$e({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Fn]})}return n})();function xy(n,t){return new H(2100,!1)}var Hj="mediumDate",iO=new z(""),oO=new z(""),_n=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,i,o){this.locale=e,this.defaultTimezone=i,this.defaultOptions=o}transform(e,i,o,r){if(e==null||e===""||e!==e)return null;try{let s=i??this.defaultOptions?.dateFormat??Hj,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return JP(e,s,r||this.locale,a)}catch(s){throw xy(n,s.message)}}static \u0275fac=function(i){return new(i||n)(D(qc,16),D(iO,24),D(oO,24))};static \u0275pipe=jp({name:"date",type:n,pure:!0})}return n})();var wy=(()=>{class n{_locale;_defaultCurrencyCode;constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,o="symbol",r,s){if(!Uj(e))return null;s||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let a=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?a=QP(a,o==="symbol"?"wide":"narrow",s):a=o);try{let l=zj(e);return nO(l,s,a,i,r)}catch(l){throw xy(n,l.message)}}static \u0275fac=function(i){return new(i||n)(D(qc,16),D(EP,16))};static \u0275pipe=jp({name:"currency",type:n,pure:!0})}return n})();function Uj(n){return!(n==null||n===""||n!==n)}function zj(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var td=(()=>{class n{transform(e,i,o){if(e==null)return null;if(!(typeof e=="string"||Array.isArray(e)))throw xy(n,e);return e.slice(i,o)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=jp({name:"slice",type:n,pure:!1})}return n})();var J=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})();function nd(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let i=e.indexOf("="),[o,r]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(r)}return null}var ah="browser",rO="server";function Fi(n){return n===ah}function lh(n){return n===rO}var Ys=class{};var sO=(()=>{class n{static \u0275prov=N({token:n,providedIn:"root",factory:()=>new My(y(be),window)})}return n})(),My=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=$j(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],o-r[1])}};function $j(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=i.currentNode;for(;o;){let r=o.shadowRoot;if(r){let s=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(s)return s}o=i.nextNode()}}return null}var uh=new z(""),Py=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o,r){return this._findPluginFor(i).addEventListener(e,i,o,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new H(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(W(uh),W(me))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),id=class{_doc;constructor(t){this._doc=t}manager},ch="ng-app-id";function aO(n){for(let t of n)t.remove()}function lO(n,t){let e=t.createElement("style");return e.textContent=n,e}function Gj(n,t,e,i){let o=n.head?.querySelectorAll(`style[${ch}="${t}"],link[${ch}="${t}"]`);if(o)for(let r of o)r.removeAttribute(ch),r instanceof HTMLLinkElement?i.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function Dy(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Oy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,o,r={}){this.doc=e,this.appId=i,this.nonce=o,this.isServer=lh(r),Gj(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let o of e)this.addUsage(o,this.inline,lO);i?.forEach(o=>this.addUsage(o,this.external,Dy))}removeStyles(e,i){for(let o of e)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,i,o){let r=i.get(e);r?r.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,i){let o=i.get(e);o&&(o.usage--,o.usage<=0&&(aO(o.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])aO(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(e,lO(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(e,Dy(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(ch,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(W(be),W(Yi),W(Lc,8),W(Bn))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Ey={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Iy=/%COMP%/g;var dO="%COMP%",Wj=`_nghost-${dO}`,qj=`_ngcontent-${dO}`,Yj=!0,Kj=new z("",{providedIn:"root",factory:()=>Yj});function Zj(n){return qj.replace(Iy,n)}function Qj(n){return Wj.replace(Iy,n)}function uO(n,t){return t.map(e=>e.replace(Iy,n))}var sd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,o,r,s,a,l,c=null,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=f,this.platformIsServer=lh(a),this.defaultRenderer=new od(e,s,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Io.ShadowDom&&(i=pe(B({},i),{encapsulation:Io.Emulated}));let o=this.getOrCreateRenderer(e,i);return o instanceof dh?o.applyToHost(e):o instanceof rd&&o.applyStyles(),o}getOrCreateRenderer(e,i){let o=this.rendererByCompId,r=o.get(i.id);if(!r){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer,_=this.tracingService;switch(i.encapsulation){case Io.Emulated:r=new dh(l,c,i,this.appId,f,s,a,h,_);break;case Io.ShadowDom:return new Sy(l,c,e,i,s,a,this.nonce,h,_);default:r=new rd(l,c,i,f,s,a,h,_);break}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(W(Py),W(Oy),W(Yi),W(Kj),W(be),W(Bn),W(me),W(Lc),W(rl,8))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),od=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,o,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Ey[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(cO(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(cO(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new H(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;let r=Ey[o];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let o=Ey[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(fr.DashCase|fr.Important)?t.style.setProperty(e,i,o&fr.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&fr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,o){if(typeof t=="string"&&(t=Ei().getGlobalEventTarget(this.doc,t),!t))throw new H(5102,!1);let r=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,e,r)),this.eventManager.addEventListener(t,e,r,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function cO(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Sy=class extends od{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,o,r,s,a,l,c){super(t,r,s,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=o.styles;f=uO(o.id,f);for(let _ of f){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=_,this.shadowRoot.appendChild(g)}let h=o.getExternalStyles?.();if(h)for(let _ of h){let g=Dy(_,r);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},rd=class extends od{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,o,r,s,a,l,c){super(t,r,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let f=i.styles;this.styles=c?uO(c,f):f,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},dh=class extends rd{contentAttr;hostAttr;constructor(t,e,i,o,r,s,a,l,c){let f=o+"-"+i.id;super(t,e,i,r,s,a,l,c,f),this.contentAttr=Zj(f),this.hostAttr=Qj(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var fh=class n extends Kc{supportsDOMEvents=!0;static makeCurrent(){uy(new n)}onAndCancel(t,e,i,o){return t.addEventListener(e,i,o),()=>{t.removeEventListener(e,i,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Xj();return e==null?null:Jj(e)}resetBaseElement(){ad=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return nd(document.cookie,t)}},ad=null;function Xj(){return ad=ad||document.head.querySelector("base"),ad?ad.getAttribute("href"):null}function Jj(n){return new URL(n,document.baseURI).pathname}var ph=class{addToWindow(t){xn.getAngularTestability=(i,o=!0)=>{let r=t.findTestabilityInTree(i,o);if(r==null)throw new H(5103,!1);return r},xn.getAllAngularTestabilities=()=>t.getAllTestabilities(),xn.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let o=xn.getAllAngularTestabilities(),r=o.length,s=function(){r--,r==0&&i()};o.forEach(a=>{a.whenStable(s)})};xn.frameworkStabilizers||(xn.frameworkStabilizers=[]),xn.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let o=t.getTestability(e);return o??(i?Ei().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},e6=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),pO=(()=>{class n extends id{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o,r){return e.addEventListener(i,o,r),()=>this.removeEventListener(e,i,o,r)}removeEventListener(e,i,o,r){return e.removeEventListener(i,o,r)}static \u0275fac=function(i){return new(i||n)(W(be))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),fO=["alt","control","meta","shift"],t6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},n6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},hO=(()=>{class n extends id{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,o,r){let s=n.parseEventName(i),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ei().onAndCancel(e,s.domEventName,a,r))}static parseEventName(e){let i=e.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let r=n._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),fO.forEach(c=>{let f=i.indexOf(c);f>-1&&(i.splice(f,1),s+=c+".")}),s+=r,i.length!=0||r.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let o=t6[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),fO.forEach(s=>{if(s!==o){let a=n6[s];a(e)&&(r+=s+".")}}),r+=o,r===i)}static eventCallback(e,i,o){return r=>{n.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(W(be))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function ky(n,t){return SP(B({rootComponent:n},i6(t)))}function i6(n){return{appProviders:[...mO,...n?.providers??[]],platformProviders:a6}}function o6(){fh.makeCurrent()}function r6(){return new Oo}function s6(){return _D(document),document}var a6=[{provide:Bn,useValue:ah},{provide:Db,useValue:o6,multi:!0},{provide:be,useFactory:s6}];var l6=[{provide:Gc,useClass:ph},{provide:ny,useClass:Up,deps:[me,zp,Gc]},{provide:Up,useClass:Up,deps:[me,zp,Gc]}],mO=[{provide:mp,useValue:"root"},{provide:Oo,useFactory:r6},{provide:uh,useClass:pO,multi:!0,deps:[be]},{provide:uh,useClass:hO,multi:!0,deps:[be]},sd,Oy,Py,{provide:Mn,useExisting:sd},{provide:Ys,useClass:e6},[]],Ty=(()=>{class n{constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({providers:[...mO,...l6],imports:[J,DP]})}return n})();var ul=class{},fl=class{},co=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let o=e.slice(0,i),r=e.slice(i+1).trim();this.addHeaderEntry(o,r)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let o=(t.op==="a"?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var gh=class{encodeKey(t){return gO(t)}encodeValue(t){return gO(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function c6(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,r)),t.decodeValue(o.slice(r+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var d6=/%(\d[a-f0-9])/gi,u6={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gO(n){return encodeURIComponent(n).replace(d6,(t,e)=>u6[e]??t)}function hh(n){return`${n}`}var wr=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new gh,t.fromString){if(t.fromObject)throw new H(2805,!1);this.map=c6(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],o=Array.isArray(i)?i.map(hh):[hh(i)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let o=t[i];Array.isArray(o)?o.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(hh(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],o=i.indexOf(hh(t.value));o!==-1&&i.splice(o,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var _h=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function f6(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function _O(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function vO(n){return typeof Blob<"u"&&n instanceof Blob}function bO(n){return typeof FormData<"u"&&n instanceof FormData}function p6(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ld="Content-Type",vh="Accept",Ly="X-Request-URL",CO="text/plain",xO="application/json",wO=`${xO}, ${CO}, */*`,dl=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,o){this.url=e,this.method=t.toUpperCase();let r;if(f6(this.method)||o?(this.body=i!==void 0?i:null,r=o):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new co,this.context??=new _h,!this.params)this.params=new wr,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||_O(this.body)||vO(this.body)||bO(this.body)||p6(this.body)?this.body:this.body instanceof wr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bO(this.body)?null:vO(this.body)?this.body.type||null:_O(this.body)?null:typeof this.body=="string"?CO:this.body instanceof wr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?xO:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,r=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,f=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((_,g)=>_.set(g,t.setHeaders[g]),c)),t.setParams&&(f=Object.keys(t.setParams).reduce((_,g)=>_.set(g,t.setParams[g]),f)),new n(e,i,s,{params:f,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:a,transferCache:r})}},Mr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Mr||{}),pl=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new co,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},cd=class n extends pl{constructor(t={}){super(t)}type=Mr.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Kr=class n extends pl{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Mr.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},xr=class extends pl{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},MO=200,h6=204;function Ay(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var at=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,o={}){let r;if(e instanceof dl)r=e;else{let l;o.headers instanceof co?l=o.headers:l=new co(o.headers);let c;o.params&&(o.params instanceof wr?c=o.params:c=new wr({fromObject:o.params})),r=new dl(e,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=re(r).pipe(wo(l=>this.handler.handle(l)));if(e instanceof dl||o.observe==="events")return s;let a=s.pipe(Nt(l=>l instanceof Kr));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(ve(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new H(2806,!1);return l.body}));case"blob":return a.pipe(ve(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new H(2807,!1);return l.body}));case"text":return a.pipe(ve(l=>{if(l.body!==null&&typeof l.body!="string")throw new H(2808,!1);return l.body}));case"json":default:return a.pipe(ve(l=>l.body))}case"response":return a;default:throw new H(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new wr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,Ay(o,i))}post(e,i,o={}){return this.request("POST",e,Ay(o,i))}put(e,i,o={}){return this.request("PUT",e,Ay(o,i))}static \u0275fac=function(i){return new(i||n)(W(ul))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),m6=/^\)\]\}',?\n/;function yO(n){if(n.url)return n.url;let t=Ly.toLocaleLowerCase();return n.headers.get(t)}var EO=new z(""),mh=(()=>{class n{fetchImpl=y(Ry,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=y(me);destroyRef=y(Wr);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(e){return new He(i=>{let o=new AbortController;return this.doRequest(e,o.signal,i).then(Ny,r=>i.error(new xr({error:r}))),()=>o.abort()})}doRequest(e,i,o){return nt(this,null,function*(){let r=this.createRequestInit(e),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,B({signal:i},r)));g6(g),o.next({type:Mr.Sent}),s=yield g}catch(g){o.error(new xr({error:g,status:g.status??0,statusText:g.statusText,url:e.urlWithParams,headers:g.headers}));return}let a=new co(s.headers),l=s.statusText,c=yO(s)??e.urlWithParams,f=s.status,h=null;if(e.reportProgress&&o.next(new cd({headers:a,status:f,statusText:l,url:c})),s.body){let g=s.headers.get("content-length"),v=[],b=s.body.getReader(),C=0,E,k,R=typeof Zone<"u"&&Zone.current,V=!1;if(yield this.ngZone.runOutsideAngular(()=>nt(this,null,function*(){for(;;){if(this.destroyed){yield b.cancel(),V=!0;break}let{done:j,value:Z}=yield b.read();if(j)break;if(v.push(Z),C+=Z.length,e.reportProgress){k=e.responseType==="text"?(k??"")+(E??=new TextDecoder).decode(Z,{stream:!0}):void 0;let G=()=>o.next({type:Mr.DownloadProgress,total:g?+g:void 0,loaded:C,partialText:k});R?R.run(G):G()}}})),V){o.complete();return}let L=this.concatChunks(v,C);try{let j=s.headers.get(ld)??"";h=this.parseBody(e,L,j)}catch(j){o.error(new xr({error:j,headers:new co(s.headers),status:s.status,statusText:s.statusText,url:yO(s)??e.urlWithParams}));return}}f===0&&(f=h?MO:0),f>=200&&f<300?(o.next(new Kr({body:h,headers:a,status:f,statusText:l,url:c})),o.complete()):o.error(new xr({error:h,headers:a,status:f,statusText:l,url:c}))})}parseBody(e,i,o){switch(e.responseType){case"json":let r=new TextDecoder().decode(i).replace(m6,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},o=e.withCredentials?"include":void 0;if(e.headers.forEach((r,s)=>i[r]=s.join(",")),e.headers.has(vh)||(i[vh]=wO),!e.headers.has(ld)){let r=e.detectContentTypeHeader();r!==null&&(i[ld]=r)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:o}}concatChunks(e,i){let o=new Uint8Array(i),r=0;for(let s of e)o.set(s,r),r+=s.length;return o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Ry=class{};function Ny(){}function g6(n){n.then(Ny,Ny)}function _6(n,t){return t(n)}function v6(n,t,e){return(i,o)=>ri(e,()=>t(i,r=>n(r,o)))}var DO=new z(""),Vy=new z(""),SO=new z("",{providedIn:"root",factory:()=>!0});var bh=(()=>{class n extends ul{backend;injector;chain=null;pendingTasks=y(To);contributeToStability=y(SO);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(DO),...this.injector.get(Vy,[])]));this.chain=i.reduceRight((o,r)=>v6(o,r,this.injector),_6)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Ms(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(W(fl),W(Gt))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();var b6=/^\)\]\}',?\n/,y6=RegExp(`^${Ly}:`,"m");function C6(n){return"responseURL"in n&&n.responseURL?n.responseURL:y6.test(n.getAllResponseHeaders())?n.getResponseHeader(Ly):null}var Fy=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new H(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?bt(i.\u0275loadImpl()):re(null)).pipe(qn(()=>new He(r=>{let s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((b,C)=>s.setRequestHeader(b,C.join(","))),e.headers.has(vh)||s.setRequestHeader(vh,wO),!e.headers.has(ld)){let b=e.detectContentTypeHeader();b!==null&&s.setRequestHeader(ld,b)}if(e.responseType){let b=e.responseType.toLowerCase();s.responseType=b!=="json"?b:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let b=s.statusText||"OK",C=new co(s.getAllResponseHeaders()),E=C6(s)||e.url;return l=new cd({headers:C,status:s.status,statusText:b,url:E}),l},f=()=>{let{headers:b,status:C,statusText:E,url:k}=c(),R=null;C!==h6&&(R=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=R?MO:0);let V=C>=200&&C<300;if(e.responseType==="json"&&typeof R=="string"){let L=R;R=R.replace(b6,"");try{R=R!==""?JSON.parse(R):null}catch(j){R=L,V&&(V=!1,R={error:j,text:R})}}V?(r.next(new Kr({body:R,headers:b,status:C,statusText:E,url:k||void 0})),r.complete()):r.error(new xr({error:R,headers:b,status:C,statusText:E,url:k||void 0}))},h=b=>{let{url:C}=c(),E=new xr({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});r.error(E)},_=!1,g=b=>{_||(r.next(c()),_=!0);let C={type:Mr.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),e.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),r.next(C)},v=b=>{let C={type:Mr.UploadProgress,loaded:b.loaded};b.lengthComputable&&(C.total=b.total),r.next(C)};return s.addEventListener("load",f),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),r.next({type:Mr.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",f),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(W(Ys))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),PO=new z(""),x6="XSRF-TOKEN",w6=new z("",{providedIn:"root",factory:()=>x6}),M6="X-XSRF-TOKEN",E6=new z("",{providedIn:"root",factory:()=>M6}),dd=class{},D6=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i){this.doc=e,this.cookieName=i}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=nd(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(W(be),W(w6))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function S6(n,t){let e=n.url.toLowerCase();if(!y(PO)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=y(dd).getToken(),o=y(E6);return i!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,i)})),t(n)}var By=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(By||{});function P6(n,t){return{\u0275kind:n,\u0275providers:t}}function jy(...n){let t=[at,Fy,bh,{provide:ul,useExisting:bh},{provide:fl,useFactory:()=>y(EO,{optional:!0})??y(Fy)},{provide:DO,useValue:S6,multi:!0},{provide:PO,useValue:!0},{provide:dd,useClass:D6}];for(let e of n)t.push(...e.\u0275providers);return Ji(t)}function Hy(){return P6(By.Fetch,[mh,{provide:EO,useExisting:mh},{provide:fl,useExisting:mh}])}var O6=new z(""),I6="b",k6="h",T6="s",A6="st",R6="u",N6="rt",Uy=new z(""),F6=["GET","HEAD"];function L6(n,t){let _=y(Uy),{isCacheActive:e}=_,i=Iu(_,["isCacheActive"]),{transferCache:o,method:r}=n;if(!e||o===!1||r==="POST"&&!i.includePostRequests&&!o||r!=="POST"&&!F6.includes(r)||!i.includeRequestsWithAuthHeaders&&V6(n)||i.filter?.(n)===!1)return t(n);let s=y(ol);if(y(O6,{optional:!0}))throw new H(2803,!1);let l=n.url,c=B6(n,l),f=s.get(c,null),h=i.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(h=o.includeHeaders),f){let{[I6]:g,[N6]:v,[k6]:b,[T6]:C,[A6]:E,[R6]:k}=f,R=g;switch(v){case"arraybuffer":R=new TextEncoder().encode(g).buffer;break;case"blob":R=new Blob([g]);break}let V=new co(b);return re(new Kr({body:R,headers:V,status:C,statusText:E,url:k}))}return t(n).pipe(we(g=>{g instanceof Kr}))}function V6(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function OO(n){return[...n.keys()].sort().map(t=>`${t}=${n.getAll(t)}`).join("&")}function B6(n,t){let{params:e,method:i,responseType:o}=n,r=OO(e),s=n.serializeBody();s instanceof URLSearchParams?s=OO(s):typeof s!="string"&&(s="");let a=[i,o,t,s,r].join("|"),l=j6(a);return l}function j6(n){let t=0;for(let e of n)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function IO(n){return[{provide:Uy,useFactory:()=>(Zn("NgHttpTransferCache"),B({isCacheActive:!0},n))},{provide:Vy,useValue:L6,multi:!0},{provide:qr,multi:!0,useFactory:()=>{let t=y(Wt),e=y(Uy);return()=>{t.whenStable().then(()=>{e.isCacheActive=!1})}}}]}var kO=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(W(be))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:function(i){let o=null;return i?o=new(i||n):o=W(H6),o},providedIn:"root"})}return n})(),H6=(()=>{class n extends zy{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case wi.NONE:return i;case wi.HTML:return _r(i,"HTML")?xi(i):Tb(this._doc,String(i)).toString();case wi.STYLE:return _r(i,"Style")?xi(i):i;case wi.SCRIPT:if(_r(i,"Script"))return xi(i);throw new H(5200,!1);case wi.URL:return _r(i,"URL")?xi(i):Pp(String(i));case wi.RESOURCE_URL:if(_r(i,"ResourceURL"))return xi(i);throw new H(5201,!1);default:throw new H(5202,!1)}}bypassSecurityTrustHtml(e){return $D(e)}bypassSecurityTrustStyle(e){return GD(e)}bypassSecurityTrustScript(e){return WD(e)}bypassSecurityTrustUrl(e){return qD(e)}bypassSecurityTrustResourceUrl(e){return YD(e)}static \u0275fac=function(i){return new(i||n)(W(be))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yh=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(yh||{});function U6(n,t=[],e={}){return{\u0275kind:n,\u0275providers:t}}function TO(){return U6(yh.EventReplay,PP())}function AO(...n){let t=[],e=new Set;for(let{\u0275providers:o,\u0275kind:r}of n)e.add(r),o.length&&t.push(o);let i=e.has(yh.HttpTransferCacheOptions);return Ji([[],OP(),e.has(yh.NoHttpTransferCache)||i?[]:IO({}),t])}var Be="primary",wd=Symbol("RouteTitle"),Yy=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Qs(n){return new Yy(n)}function UO(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let o={};for(let r=0;r<i.length;r++){let s=i[r],a=n[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function z6(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Fo(n[e],t[e]))return!1;return!0}function Fo(n,t){let e=n?Ky(n):void 0,i=t?Ky(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!zO(n[o],t[o]))return!1;return!0}function Ky(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zO(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((o,r)=>i[r]===o)}else return n===t}function $O(n){return n.length>0?n[n.length-1]:null}function es(n){return cf(n)?n:$s(n)?bt(Promise.resolve(n)):re(n)}var $6={exact:WO,subset:qO},GO={exact:G6,subset:W6,ignored:()=>!0};function NO(n,t,e){return $6[e.paths](n.root,t.root,e.matrixParams)&&GO[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function G6(n,t){return Fo(n,t)}function WO(n,t,e){if(!Ks(n.segments,t.segments)||!wh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!WO(n.children[i],t.children[i],e))return!1;return!0}function W6(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>zO(n[e],t[e]))}function qO(n,t,e){return YO(n,t,t.segments,e)}function YO(n,t,e,i){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!Ks(o,e)||t.hasChildren()||!wh(o,e,i))}else if(n.segments.length===e.length){if(!Ks(n.segments,e)||!wh(n.segments,e,i))return!1;for(let o in t.children)if(!n.children[o]||!qO(n.children[o],t.children[o],i))return!1;return!0}else{let o=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!Ks(n.segments,o)||!wh(n.segments,o,i)||!n.children[Be]?!1:YO(n.children[Be],t,r,i)}}function wh(n,t,e){return t.every((i,o)=>GO[e](n[o].parameters,i.parameters))}var Vo=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ft([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Qs(this.queryParams),this._queryParamMap}toString(){return K6.serialize(this)}},ft=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mh(this)}},Zr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Qs(this.parameters),this._parameterMap}toString(){return ZO(this)}};function q6(n,t){return Ks(n,t)&&n.every((e,i)=>Fo(e.parameters,t[i].parameters))}function Ks(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function Y6(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===Be&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==Be&&(e=e.concat(t(o,i)))}),e}var Xs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>new Qr,providedIn:"root"})}return n})(),Qr=class{parse(t){let e=new Qy(t);return new Vo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${ud(t.root,!0)}`,i=X6(t.queryParams),o=typeof t.fragment=="string"?`#${Z6(t.fragment)}`:"";return`${e}${i}${o}`}},K6=new Qr;function Mh(n){return n.segments.map(t=>ZO(t)).join("/")}function ud(n,t){if(!n.hasChildren())return Mh(n);if(t){let e=n.children[Be]?ud(n.children[Be],!1):"",i=[];return Object.entries(n.children).forEach(([o,r])=>{o!==Be&&i.push(`${o}:${ud(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=Y6(n,(i,o)=>o===Be?[ud(n.children[Be],!1)]:[`${o}:${ud(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Be]!=null?`${Mh(n)}/${e[0]}`:`${Mh(n)}/(${e.join("//")})`}}function KO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ch(n){return KO(n).replace(/%3B/gi,";")}function Z6(n){return encodeURI(n)}function Zy(n){return KO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Eh(n){return decodeURIComponent(n)}function FO(n){return Eh(n.replace(/\+/g,"%20"))}function ZO(n){return`${Zy(n.path)}${Q6(n.parameters)}`}function Q6(n){return Object.entries(n).map(([t,e])=>`;${Zy(t)}=${Zy(e)}`).join("")}function X6(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(o=>`${Ch(e)}=${Ch(o)}`).join("&"):`${Ch(e)}=${Ch(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var J6=/^[^\/()?;#]+/;function $y(n){let t=n.match(J6);return t?t[0]:""}var e8=/^[^\/()?;=#]+/;function t8(n){let t=n.match(e8);return t?t[0]:""}var n8=/^[^=?&#]+/;function i8(n){let t=n.match(n8);return t?t[0]:""}var o8=/^[^&#]+/;function r8(n){let t=n.match(o8);return t?t[0]:""}var Qy=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Be]=new ft(t,e)),i}parseSegment(){let t=$y(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(t),new Zr(Eh(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=t8(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=$y(this.remaining);o&&(i=o,this.capture(i))}t[Eh(e)]=Eh(i)}parseQueryParam(t){let e=i8(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=r8(this.remaining);s&&(i=s,this.capture(i))}let o=FO(e),r=FO(i);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(r)}else t[o]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=$y(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new H(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Be);let s=this.parseChildren();e[r]=Object.keys(s).length===1?s[Be]:new ft([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new H(4011,!1)}};function QO(n){return n.segments.length>0?new ft([],{[Be]:n}):n}function XO(n){let t={};for(let[i,o]of Object.entries(n.children)){let r=XO(o);if(i===Be&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))t[s]=a;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new ft(n.segments,t);return s8(e)}function s8(n){if(n.numberOfChildren===1&&n.children[Be]){let t=n.children[Be];return new ft(n.segments.concat(t.segments),t.children)}return n}function Xr(n){return n instanceof Vo}function JO(n,t,e=null,i=null){let o=eI(n);return tI(o,t,e,i)}function eI(n){let t;function e(r){let s={};for(let l of r.children){let c=e(l);s[l.outlet]=c}let a=new ft(r.url,s);return r===n&&(t=a),a}let i=e(n.root),o=QO(i);return t??o}function tI(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return Gy(o,o,o,e,i);let r=a8(t);if(r.toRoot())return Gy(o,o,new ft([],{}),e,i);let s=l8(r,o,n),a=s.processChildren?pd(s.segmentGroup,s.index,r.commands):iI(s.segmentGroup,s.index,r.commands);return Gy(o,s.segmentGroup,a,e,i)}function Sh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function md(n){return typeof n=="object"&&n!=null&&n.outlets}function Gy(n,t,e,i,o){let r={};i&&Object.entries(i).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`});let s;n===t?s=e:s=nI(n,t,e);let a=QO(XO(s));return new Vo(a,r,o)}function nI(n,t,e){let i={};return Object.entries(n.children).forEach(([o,r])=>{r===t?i[o]=e:i[o]=nI(r,t,e)}),new ft(n.segments,i)}var Ph=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Sh(i[0]))throw new H(4003,!1);let o=i.find(md);if(o&&o!==$O(i))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function a8(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ph(!0,0,n);let t=0,e=!1,i=n.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?t++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new Ph(e,t,i)}var gl=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function l8(n,t,e){if(n.isAbsolute)return new gl(t,!0,0);if(!e)return new gl(t,!1,NaN);if(e.parent===null)return new gl(e,!0,0);let i=Sh(n.commands[0])?0:1,o=e.segments.length-1+i;return c8(e,o,n.numberOfDoubleDots)}function c8(n,t,e){let i=n,o=t,r=e;for(;r>o;){if(r-=o,i=i.parent,!i)throw new H(4005,!1);o=i.segments.length}return new gl(i,!1,o-r)}function d8(n){return md(n[0])?n[0].outlets:{[Be]:n}}function iI(n,t,e){if(n??=new ft([],{}),n.segments.length===0&&n.hasChildren())return pd(n,t,e);let i=u8(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let r=new ft(n.segments.slice(0,i.pathIndex),{});return r.children[Be]=new ft(n.segments.slice(i.pathIndex),n.children),pd(r,0,o)}else return i.match&&o.length===0?new ft(n.segments,{}):i.match&&!n.hasChildren()?Xy(n,t,e):i.match?pd(n,0,o):Xy(n,t,e)}function pd(n,t,e){if(e.length===0)return new ft(n.segments,{});{let i=d8(e),o={};if(Object.keys(i).some(r=>r!==Be)&&n.children[Be]&&n.numberOfChildren===1&&n.children[Be].segments.length===0){let r=pd(n.children[Be],t,e);return new ft(n.segments,r.children)}return Object.entries(i).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=iI(n.children[r],t,s))}),Object.entries(n.children).forEach(([r,s])=>{i[r]===void 0&&(o[r]=s)}),new ft(n.segments,o)}}function u8(n,t,e){let i=0,o=t,r={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return r;let s=n.segments[o],a=e[i];if(md(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!VO(l,c,s))return r;i+=2}else{if(!VO(l,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function Xy(n,t,e){let i=n.segments.slice(0,t),o=0;for(;o<e.length;){let r=e[o];if(md(r)){let l=f8(r.outlets);return new ft(i,l)}if(o===0&&Sh(e[0])){let l=n.segments[t];i.push(new Zr(l.path,LO(e[0]))),o++;continue}let s=md(r)?r.outlets[Be]:`${r}`,a=o<e.length-1?e[o+1]:null;s&&a&&Sh(a)?(i.push(new Zr(s,LO(a))),o+=2):(i.push(new Zr(s,{})),o++)}return new ft(i,{})}function f8(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Xy(new ft([],{}),0,i))}),t}function LO(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function VO(n,t,e){return n==e.path&&Fo(t,e.parameters)}var Dh="imperative",vn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vn||{}),Si=class{id;url;constructor(t,e){this.id=t,this.url=e}},Jr=class extends Si{type=vn.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pi=class extends Si{urlAfterRedirects;type=vn.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ui=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ui||{}),vl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(vl||{}),Lo=class extends Si{reason;code;type=vn.NavigationCancel;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bo=class extends Si{reason;code;type=vn.NavigationSkipped;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}},bl=class extends Si{error;target;type=vn.NavigationError;constructor(t,e,i,o){super(t,e),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gd=class extends Si{urlAfterRedirects;state;type=vn.RoutesRecognized;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oh=class extends Si{urlAfterRedirects;state;type=vn.GuardsCheckStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ih=class extends Si{urlAfterRedirects;state;shouldActivate;type=vn.GuardsCheckEnd;constructor(t,e,i,o,r){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kh=class extends Si{urlAfterRedirects;state;type=vn.ResolveStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class extends Si{urlAfterRedirects;state;type=vn.ResolveEnd;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class{route;type=vn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rh=class{route;type=vn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Nh=class{snapshot;type=vn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{snapshot;type=vn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lh=class{snapshot;type=vn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vh=class{snapshot;type=vn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yl=class{routerEvent;position;anchor;type=vn.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},_d=class{},Cl=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function p8(n,t){return n.providers&&!n._injector&&(n._injector=cl(n.providers,t,`Route: ${n.path}`)),n._injector??t}function uo(n){return n.outlet||Be}function h8(n,t){let e=n.filter(i=>uo(i)===t);return e.push(...n.filter(i=>uo(i)!==t)),e}function Md(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Bh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Md(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Js(this.rootInjector)}},Js=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Bh(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(W(Gt))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jh=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Jy(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Jy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=eC(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return eC(t,this._root).map(e=>e.value)}};function Jy(n,t){if(n===t.value)return t;for(let e of t.children){let i=Jy(n,e);if(i)return i}return null}function eC(n,t){if(n===t.value)return[t];for(let e of t.children){let i=eC(n,e);if(i.length)return i.unshift(t),i}return[]}var Di=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ml(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var vd=class extends jh{snapshot;constructor(t,e){super(t),this.snapshot=e,lC(this,t)}toString(){return this.snapshot.toString()}};function oI(n){let t=m8(n),e=new Ot([new Zr("",{})]),i=new Ot({}),o=new Ot({}),r=new Ot({}),s=new Ot(""),a=new Se(e,i,r,s,o,Be,n,t.root);return a.snapshot=t.root,new vd(new Di(a,[]),t)}function m8(n){let t={},e={},i={},o="",r=new Zs([],t,i,o,e,Be,n,null,{});return new bd("",new Di(r,[]))}var Se=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,o,r,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ve(c=>c[wd]))??re(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(t=>Qs(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(t=>Qs(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hh(n,t,e="emptyOnly"){let i,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:B(B({},t.params),n.params),data:B(B({},t.data),n.data),resolve:B(B(B(B({},n.data),t.data),o?.data),n._resolvedData)}:i={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},o&&sI(o)&&(i.resolve[wd]=o.title),i}var Zs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[wd]}constructor(t,e,i,o,r,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qs(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},bd=class extends jh{url;constructor(t,e){super(e),this.url=t,lC(this,e)}toString(){return rI(this._root)}};function lC(n,t){t.value._routerState=n,t.children.forEach(e=>lC(n,e))}function rI(n){let t=n.children.length>0?` { ${n.children.map(rI).join(", ")} } `:"";return`${n.value}${t}`}function Wy(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Fo(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Fo(t.params,e.params)||n.paramsSubject.next(e.params),z6(t.url,e.url)||n.urlSubject.next(e.url),Fo(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function tC(n,t){let e=Fo(n.params,t.params)&&q6(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||tC(n.parent,t.parent))}function sI(n){return typeof n.title=="string"||n.title===null}var aI=new z(""),fo=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Be;activateEvents=new gt;deactivateEvents=new gt;attachEvents=new gt;detachEvents=new gt;routerOutletData=lD(void 0);parentContexts=y(Js);location=y(Mi);changeDetector=y(oo);inputBinder=y(Ed,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new nC(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=$e({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Fn]})}return n})(),nC=class{route;childContexts;parent;outletData;constructor(t,e,i,o){this.route=t,this.childContexts=e,this.parent=i,this.outletData=o}get(t,e){return t===Se?this.route:t===Js?this.childContexts:t===aI?this.outletData:this.parent.get(t,e)}},Ed=new z(""),cC=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,o=ws([i.queryParams,i.params,i.data]).pipe(qn(([r,s,a],l)=>(a=B(B(B({},r),s),a),l===0?re(a):Promise.resolve(a)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let s=IP(i.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,r[a])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),dC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=F({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&M(0,"router-outlet")},dependencies:[fo],encapsulation:2})}return n})();function uC(n){let t=n.children&&n.children.map(uC),e=t?pe(B({},n),{children:t}):B({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Be&&(e.component=dC),e}function g8(n,t,e){let i=yd(n,t._root,e?e._root:void 0);return new vd(i,t)}function yd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let o=_8(n,t,e);return new Di(i,o)}else{if(n.shouldAttach(t.value)){let r=n.retrieve(t.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>yd(n,a)),s}}let i=v8(t.value),o=t.children.map(r=>yd(n,r));return new Di(i,o)}}function _8(n,t,e){return t.children.map(i=>{for(let o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return yd(n,i,o);return yd(n,i)})}function v8(n){return new Se(new Ot(n.url),new Ot(n.params),new Ot(n.queryParams),new Ot(n.fragment),new Ot(n.data),n.outlet,n.component,n)}var xl=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},lI="ngNavigationCancelingError";function Uh(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=Xr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=cI(!1,ui.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function cI(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[lI]=!0,e.cancellationCode=t,e}function b8(n){return dI(n)&&Xr(n.url)}function dI(n){return!!n&&n[lI]}var y8=(n,t,e,i)=>ve(o=>(new iC(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)),iC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,o,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Wy(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let o=ml(e);t.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(o===r)if(o.component){let s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=ml(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=ml(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let o=ml(e);t.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new Vh(r.value.snapshot))}),t.children.length&&this.forwardEvent(new Fh(t.value.snapshot))}activateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(Wy(o),o===r)if(o.component){let s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(o.component){let s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Wy(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},zh=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},_l=class{component;route;constructor(t,e){this.component=t,this.route=e}};function C8(n,t,e){let i=n._root,o=t?t._root:null;return fd(i,o,e,[i.value])}function x8(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Ml(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!rE(n)?n:t.get(n):i}function fd(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=ml(t);return n.children.forEach(s=>{w8(s,r[s.value.outlet],e,i.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>hd(a,e.getContext(s),o)),o}function w8(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let l=M8(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new zh(i)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?fd(n,t,a?a.children:null,i,o):fd(n,t,e,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new _l(a.outlet.component,s))}else s&&hd(t,a,o),o.canActivateChecks.push(new zh(i)),r.component?fd(n,null,a?a.children:null,i,o):fd(n,null,e,i,o);return o}function M8(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Ks(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ks(n.url,t.url)||!Fo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tC(n,t)||!Fo(n.queryParams,t.queryParams);case"paramsChange":default:return!tC(n,t)}}function hd(n,t,e){let i=ml(n),o=n.value;Object.entries(i).forEach(([r,s])=>{o.component?t?hd(s,t.children.getContext(r),e):hd(s,null,e):hd(s,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new _l(t.outlet.component,o)):e.canDeactivateChecks.push(new _l(null,o)):e.canDeactivateChecks.push(new _l(null,o))}function Dd(n){return typeof n=="function"}function E8(n){return typeof n=="boolean"}function D8(n){return n&&Dd(n.canLoad)}function S8(n){return n&&Dd(n.canActivate)}function P8(n){return n&&Dd(n.canActivateChild)}function O8(n){return n&&Dd(n.canDeactivate)}function I8(n){return n&&Dd(n.canMatch)}function uI(n){return n instanceof rr||n?.name==="EmptyError"}var xh=Symbol("INITIAL_VALUE");function wl(){return qn(n=>ws(n.map(t=>t.pipe(ln(1),Mo(xh)))).pipe(ve(t=>{for(let e of t)if(e!==!0){if(e===xh)return xh;if(e===!1||k8(e))return e}return!0}),Nt(t=>t!==xh),ln(1)))}function k8(n){return Xr(n)||n instanceof xl}function T8(n,t){return on(e=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?re(pe(B({},e),{guardsResult:!0})):A8(s,i,o,n).pipe(on(a=>a&&E8(a)?R8(i,r,n,t):re(a)),ve(a=>pe(B({},e),{guardsResult:a})))})}function A8(n,t,e,i){return bt(n).pipe(on(o=>B8(o.component,o.route,e,t,i)),sr(o=>o!==!0,!0))}function R8(n,t,e,i){return bt(t).pipe(wo(o=>Vr(F8(o.route.parent,i),N8(o.route,i),V8(n,o.path,e),L8(n,o.route,e))),sr(o=>o!==!0,!0))}function N8(n,t){return n!==null&&t&&t(new Lh(n)),re(!0)}function F8(n,t){return n!==null&&t&&t(new Nh(n)),re(!0)}function L8(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return re(!0);let o=i.map(r=>Br(()=>{let s=Md(t)??e,a=Ml(r,s),l=S8(a)?a.canActivate(t,n):ri(s,()=>a(t,n));return es(l).pipe(sr())}));return re(o).pipe(wl())}function V8(n,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(s=>x8(s)).filter(s=>s!==null).map(s=>Br(()=>{let a=s.guards.map(l=>{let c=Md(s.node)??e,f=Ml(l,c),h=P8(f)?f.canActivateChild(i,n):ri(c,()=>f(i,n));return es(h).pipe(sr())});return re(a).pipe(wl())}));return re(r).pipe(wl())}function B8(n,t,e,i,o){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return re(!0);let s=r.map(a=>{let l=Md(t)??o,c=Ml(a,l),f=O8(c)?c.canDeactivate(n,t,e,i):ri(l,()=>c(n,t,e,i));return es(f).pipe(sr())});return re(s).pipe(wl())}function j8(n,t,e,i){let o=t.canLoad;if(o===void 0||o.length===0)return re(!0);let r=o.map(s=>{let a=Ml(s,n),l=D8(a)?a.canLoad(t,e):ri(n,()=>a(t,e));return es(l)});return re(r).pipe(wl(),fI(i))}function fI(n){return r_(we(t=>{if(typeof t!="boolean")throw Uh(n,t)}),ve(t=>t===!0))}function H8(n,t,e,i){let o=t.canMatch;if(!o||o.length===0)return re(!0);let r=o.map(s=>{let a=Ml(s,n),l=I8(a)?a.canMatch(t,e):ri(n,()=>a(t,e));return es(l)});return re(r).pipe(wl(),fI(i))}var Cd=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},xd=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function hl(n){return Nn(new Cd(n))}function U8(n){return Nn(new H(4e3,!1))}function z8(n){return Nn(cI(!1,ui.GuardRejected))}var oC=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return re(i);if(o.numberOfChildren>1||!o.children[Be])return U8(`${t.redirectTo}`);o=o.children[Be]}}applyRedirectCommands(t,e,i,o,r){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:f,url:h,outlet:_,params:g,data:v,title:b}=o,C=ri(r,()=>a({params:g,data:v,queryParams:l,fragment:c,routeConfig:f,url:h,outlet:_,title:b}));if(C instanceof Vo)throw new xd(C);e=C}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new xd(s);return s}applyRedirectCreateUrlTree(t,e,i,o){let r=this.createSegmentGroup(t,e.root,i,o);return new Vo(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,o){let r=this.createSegments(t,e.segments,i,o),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,o)}),new ft(r,s)}createSegments(t,e,i,o){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,o):this.findOrReturn(r,i))}findPosParam(t,e,i){let o=i[e.path.substring(1)];if(!o)throw new H(4001,!1);return o}findOrReturn(t,e){let i=0;for(let o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}},rC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $8(n,t,e,i,o){let r=pI(n,t,e);return r.matched?(i=p8(t,i),H8(i,t,e,o).pipe(ve(s=>s===!0?r:B({},rC)))):re(r)}function pI(n,t,e){if(t.path==="**")return G8(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?B({},rC):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||UO)(e,n,t);if(!o)return B({},rC);let r={};Object.entries(o.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let s=o.consumed.length>0?B(B({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function G8(n){return{matched:!0,parameters:n.length>0?$O(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function BO(n,t,e,i){return e.length>0&&Y8(n,e,i)?{segmentGroup:new ft(t,q8(i,new ft(e,n.children))),slicedSegments:[]}:e.length===0&&K8(n,e,i)?{segmentGroup:new ft(n.segments,W8(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new ft(n.segments,n.children),slicedSegments:e}}function W8(n,t,e,i){let o={};for(let r of e)if(Gh(n,t,r)&&!i[uo(r)]){let s=new ft([],{});o[uo(r)]=s}return B(B({},i),o)}function q8(n,t){let e={};e[Be]=t;for(let i of n)if(i.path===""&&uo(i)!==Be){let o=new ft([],{});e[uo(i)]=o}return e}function Y8(n,t,e){return e.some(i=>Gh(n,t,i)&&uo(i)!==Be)}function K8(n,t,e){return e.some(i=>Gh(n,t,i))}function Gh(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Z8(n,t,e){return t.length===0&&!n.children[e]}var sC=class{};function Q8(n,t,e,i,o,r,s="emptyOnly"){return new aC(n,t,e,i,o,s,r).recognize()}var X8=31,aC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,o,r,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new oC(this.urlSerializer,this.urlTree)}noMatchError(t){return new H(4002,`'${t.segmentGroup}'`)}recognize(){let t=BO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ve(({children:e,rootSnapshot:i})=>{let o=new Di(i,e),r=new bd("",o),s=JO(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(t){let e=new Zs([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Be,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Be,e).pipe(ve(i=>({children:i,rootSnapshot:e})),ht(i=>{if(i instanceof xd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Cd?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,o,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,r):this.processSegment(t,e,i,i.segments,o,!0,r).pipe(ve(s=>s instanceof Di?[s]:[]))}processChildren(t,e,i,o){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return bt(r).pipe(wo(s=>{let a=i.children[s],l=h8(e,s);return this.processSegmentGroup(t,l,a,s,o)}),p_((s,a)=>(s.push(...a),s)),jr(null),f_(),on(s=>{if(s===null)return hl(i);let a=hI(s);return J8(a),re(a)}))}processSegment(t,e,i,o,r,s,a){return bt(e).pipe(wo(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,o,r,s,a).pipe(ht(c=>{if(c instanceof Cd)return re(null);throw c}))),sr(l=>!!l),ht(l=>{if(uI(l))return Z8(i,o,r)?re(new sC):hl(i);throw l}))}processSegmentAgainstRoute(t,e,i,o,r,s,a,l){return uo(i)!==s&&(s===Be||!Gh(o,r,i))?hl(o):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,i,r,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,r,s,l):hl(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,r,s,a){let{matched:l,parameters:c,consumedSegments:f,positionalParamSegments:h,remainingSegments:_}=pI(e,o,r);if(!l)return hl(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>X8&&(this.allowRedirects=!1));let g=new Zs(r,c,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,jO(o),uo(o),o.component??o._loadedComponent??null,o,HO(o)),v=Hh(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let b=this.applyRedirects.applyRedirectCommands(f,o.redirectTo,h,g,t);return this.applyRedirects.lineralizeSegments(o,b).pipe(on(C=>this.processSegment(t,i,e,C.concat(_),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,o,r,s){let a=$8(e,i,o,t,this.urlSerializer);return i.path==="**"&&(e.children={}),a.pipe(qn(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,o).pipe(qn(({routes:c})=>{let f=i._loadedInjector??t,{parameters:h,consumedSegments:_,remainingSegments:g}=l,v=new Zs(_,h,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,jO(i),uo(i),i.component??i._loadedComponent??null,i,HO(i)),b=Hh(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let{segmentGroup:C,slicedSegments:E}=BO(e,_,g,c);if(E.length===0&&C.hasChildren())return this.processChildren(f,c,C,v).pipe(ve(R=>new Di(v,R)));if(c.length===0&&E.length===0)return re(new Di(v,[]));let k=uo(i)===r;return this.processSegment(f,c,C,E,k?Be:r,!0,v).pipe(ve(R=>new Di(v,R instanceof Di?[R]:[])))}))):hl(e)))}getChildConfig(t,e,i){return e.children?re({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?re({routes:e._loadedRoutes,injector:e._loadedInjector}):j8(t,e,i,this.urlSerializer).pipe(on(o=>o?this.configLoader.loadChildren(t,e).pipe(we(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):z8(e))):re({routes:[],injector:t})}};function J8(n){n.sort((t,e)=>t.value.outlet===Be?-1:e.value.outlet===Be?1:t.value.outlet.localeCompare(e.value.outlet))}function eH(n){let t=n.value.routeConfig;return t&&t.path===""}function hI(n){let t=[],e=new Set;for(let i of n){if(!eH(i)){t.push(i);continue}let o=t.find(r=>i.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...i.children),e.add(o)):t.push(i)}for(let i of e){let o=hI(i.children);t.push(new Di(i.value,o))}return t.filter(i=>!e.has(i))}function jO(n){return n.data||{}}function HO(n){return n.resolve||{}}function tH(n,t,e,i,o,r){return on(s=>Q8(n,t,e,i,s.extractedUrl,o,r).pipe(ve(({state:a,tree:l})=>pe(B({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function nH(n,t){return on(e=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return re(e);let r=new Set(o.map(l=>l.route)),s=new Set;for(let l of r)if(!s.has(l))for(let c of mI(l))s.add(c);let a=0;return bt(s).pipe(wo(l=>r.has(l)?iH(l,i,n,t):(l.data=Hh(l,l.parent,n).resolve,re(void 0))),we(()=>a++),Fa(1),on(l=>a===s.size?re(e):Rn))})}function mI(n){let t=n.children.map(e=>mI(e)).flat();return[n,...t]}function iH(n,t,e,i){let o=n.routeConfig,r=n._resolve;return o?.title!==void 0&&!sI(o)&&(r[wd]=o.title),oH(r,n,t,i).pipe(ve(s=>(n._resolvedData=s,n.data=Hh(n,n.parent,e).resolve,null)))}function oH(n,t,e,i){let o=Ky(n);if(o.length===0)return re({});let r={};return bt(o).pipe(on(s=>rH(n[s],t,e,i).pipe(sr(),we(a=>{if(a instanceof xl)throw Uh(new Qr,a);r[s]=a}))),Fa(1),ve(()=>r),ht(s=>uI(s)?Rn:Nn(s)))}function rH(n,t,e,i){let o=Md(t)??i,r=Ml(n,o),s=r.resolve?r.resolve(t,e):ri(o,()=>r(t,e));return es(s)}function qy(n){return qn(t=>{let e=n(t);return e?bt(e).pipe(ve(()=>t)):re(t)})}var fC=(()=>{class n{buildTitle(e){let i,o=e.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===Be);return i}getResolvedTitleForRoute(e){return e.data[wd]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>y(gI),providedIn:"root"})}return n})(),gI=(()=>{class n extends fC{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(W(kO))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ea=new z("",{providedIn:"root",factory:()=>({})}),ta=new z(""),Wh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(CP);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return re(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=es(e.loadComponent()).pipe(ve(vI),we(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),Ms(()=>{this.componentLoaders.delete(e)})),o=new Ra(i,()=>new le).pipe(Aa());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=_I(i,this.compiler,e,this.onLoadEndListener).pipe(Ms(()=>{this.childrenLoaders.delete(i)})),s=new Ra(r,()=>new le).pipe(Aa());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _I(n,t,e,i){return es(n.loadChildren()).pipe(ve(vI),on(o=>o instanceof Jb||Array.isArray(o)?re(o):bt(t.compileModuleAsync(o))),ve(o=>{i&&i(n);let r,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(r=o.create(e).injector,s=r.get(ta,[],{optional:!0,self:!0}).flat()),{routes:s.map(uC),injector:r}}))}function sH(n){return n&&typeof n=="object"&&"default"in n}function vI(n){return sH(n)?n.default:n}var qh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>y(aH),providedIn:"root"})}return n})(),aH=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pC=new z(""),hC=new z("");function bI(n,t,e){let i=n.get(hC),o=n.get(be);return n.get(me).runOutsideAngular(()=>{if(!o.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let r,s=new Promise(c=>{r=c}),a=o.startViewTransition(()=>(r(),lH(n))),{onViewTransitionCreated:l}=i;return l&&ri(n,()=>l({transition:a,from:t,to:e})),s})}function lH(n){return new Promise(t=>{no({read:()=>setTimeout(t)},{injector:n})})}var mC=new z(""),Yh=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new le;transitionAbortSubject=new le;configLoader=y(Wh);environmentInjector=y(Gt);destroyRef=y(Wr);urlSerializer=y(Xs);rootContexts=y(Js);location=y(Ro);inputBindingEnabled=y(Ed,{optional:!0})!==null;titleStrategy=y(fC);options=y(ea,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(qh);createViewTransition=y(pC,{optional:!0});navigationErrorHandler=y(mC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>re(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new Ah(o)),i=o=>this.events.next(new Rh(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(pe(B({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(e){return this.transitions=new Ot(null),this.transitions.pipe(Nt(i=>i!==null),qn(i=>{let o=!1,r=!1;return re(i).pipe(qn(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",ui.SupersededByNewNavigation),Rn;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?pe(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new Bo(s.id,this.urlSerializer.serialize(s.rawUrl),c,vl.IgnoredSameUrlNavigation)),s.resolve(!1),Rn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return re(s).pipe(qn(c=>(this.events.next(new Jr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Rn:Promise.resolve(c))),tH(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),we(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=pe(B({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let f=new gd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:f,source:h,restoredState:_,extras:g}=s,v=new Jr(c,this.urlSerializer.serialize(f),h,_);this.events.next(v);let b=oI(this.rootComponentType).snapshot;return this.currentTransition=i=pe(B({},s),{targetSnapshot:b,urlAfterRedirects:f,extras:pe(B({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,re(i)}else{let c="";return this.events.next(new Bo(s.id,this.urlSerializer.serialize(s.extractedUrl),c,vl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Rn}}),we(s=>{let a=new Oh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ve(s=>(this.currentTransition=i=pe(B({},s),{guards:C8(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),T8(this.environmentInjector,s=>this.events.next(s)),we(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Uh(this.urlSerializer,s.guardsResult);let a=new Ih(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",ui.GuardRejected),!1)),qy(s=>{if(s.guards.canActivateChecks.length!==0)return re(s).pipe(we(a=>{let l=new kh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),qn(a=>{let l=!1;return re(a).pipe(nH(this.paramsInheritanceStrategy,this.environmentInjector),we({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",ui.NoDataFromResolver)}}))}),we(a=>{let l=new Th(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),qy(s=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(we(f=>{l.component=f}),ve(()=>{})));for(let f of l.children)c.push(...a(f));return c};return ws(a(s.targetSnapshot.root)).pipe(jr(null),ln(1))}),qy(()=>this.afterPreactivation()),qn(()=>{let{currentSnapshot:s,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?bt(l).pipe(ve(()=>i)):re(i)}),ve(s=>{let a=g8(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=pe(B({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),we(()=>{this.events.next(new _d)}),y8(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ln(1),we({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Eo(this.transitionAbortSubject.pipe(we(s=>{throw s}))),Ms(()=>{!o&&!r&&this.cancelNavigationTransition(i,"",ui.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),ht(s=>{if(this.destroyed)return i.resolve(!1),Rn;if(r=!0,dI(s))this.events.next(new Lo(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),b8(s)?this.events.next(new Cl(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let a=new bl(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let l=ri(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof xl){let{message:c,cancellationCode:f}=Uh(this.urlSerializer,l);this.events.next(new Lo(i.id,this.urlSerializer.serialize(i.extractedUrl),c,f)),this.events.next(new Cl(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return Rn}))}))}cancelNavigationTransition(e,i,o){let r=new Lo(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cH(n){return n!==Dh}var yI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>y(dH),providedIn:"root"})}return n})(),$h=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},dH=(()=>{class n extends $h{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CI=(()=>{class n{urlSerializer=y(Xs);options=y(ea,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Ro);urlHandlingStrategy=y(qh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vo;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:o}){let r=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=o??r;return s instanceof Vo?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:o}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=e):this.rawUrlTree=o}routerState=oI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:()=>y(uH),providedIn:"root"})}return n})(),uH=(()=>{class n extends CI{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Jr?this.updateStateMemento():e instanceof Bo?this.commitTransition(i):e instanceof gd?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof _d?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Lo&&(e.code===ui.GuardRejected||e.code===ui.NoDataFromResolver)?this.restoreHistory(i):e instanceof bl?this.restoreHistory(i,!0):e instanceof Pi&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:o}){let{replaceUrl:r,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||r){let a=this.browserPageId,l=B(B({},s),this.generateNgRouterState(o,a));this.location.replaceState(e,"",l)}else{let a=B(B({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.getCurrentUrlTree()===e.finalUrl&&r===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kh(n,t){n.events.pipe(Nt(e=>e instanceof Pi||e instanceof Lo||e instanceof bl||e instanceof Bo),ve(e=>e instanceof Pi||e instanceof Bo?0:(e instanceof Lo?e.code===ui.Redirect||e.code===ui.SupersededByNewNavigation:!1)?2:1),Nt(e=>e!==2),ln(1)).subscribe(()=>{t()})}var fH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ee=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(ty);stateManager=y(CI);options=y(ea,{optional:!0})||{};pendingTasks=y(To);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Yh);urlSerializer=y(Xs);location=y(Ro);urlHandlingStrategy=y(qh);_events=new le;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(yI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(ta,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Ed,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Rt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof Lo&&i.code!==ui.Redirect&&i.code!==ui.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Pi)this.navigated=!0;else if(i instanceof Cl){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=B({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cH(o.source)},s);this.scheduleNavigation(a,Dh,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}mH(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,o)=>{this.navigateToSyncWithBrowser(e,o,i)})}navigateToSyncWithBrowser(e,i,o){let r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=B({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(uC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=B(B({},this.currentUrlTree.queryParams),r);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=r||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let _=o?o.snapshot:this.routerState.snapshot.root;h=eI(_)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return tI(h,e,f,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let o=Xr(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,Dh,null,i)}navigate(e,i={skipLocationChange:!1}){return hH(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let o;if(i===!0?o=B({},fH):i===!1?o=B({},pH):o=i,Xr(e))return NO(this.currentUrlTree,e,o);let r=this.parseUrl(e);return NO(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,r])=>(r!=null&&(i[o]=r),i),{})}scheduleNavigation(e,i,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,_)=>{a=h,l=_});let f=this.pendingTasks.add();return Kh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hH(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new H(4008,!1)}function mH(n){return!(n instanceof _d)&&!(n instanceof Cl)}var ie=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new le;constructor(e,i,o,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=r,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Pi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Xr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,o,r,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||i||o||r||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:eS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let o=this.renderer,r=this.el.nativeElement;i!==null?o.setAttribute(r,e,i):o.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:Xr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(D(ee),D(Se),wb("tabindex"),D(jn),D(ot),D(ao))};static \u0275dir=$e({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&I("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&qt("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ro],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ro],replaceUrl:[2,"replaceUrl","replaceUrl",ro],routerLink:"routerLink"},features:[Fn]})}return n})(),_C=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new gt;constructor(e,i,o,r,s){this.router=e,this.element=i,this.renderer=o,this.cdr=r,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Pi&&this.update()})}ngAfterContentInit(){re(this.links.changes,re(null)).pipe(xo()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=bt(e).pipe(xo()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=gH(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let r=o.urlTree;return r?e.isActive(r,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||n)(D(ee),D(ot),D(jn),D(oo),D(ie,8))};static \u0275dir=$e({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,r){if(i&1&&hP(r,ie,5),i&2){let s;Ct(s=xt())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Fn]})}return n})();function gH(n){return!!n.paths}var Sd=class{};var xI=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,o,r){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(Nt(e=>e instanceof Pi),wo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let o=[];for(let r of i){r.providers&&!r._injector&&(r._injector=cl(r.providers,e,`Route: ${r.path}`));let s=r._injector??e,a=r._loadedInjector??s;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(s,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(a,r.children??r._loadedRoutes))}return bt(o).pipe(xo())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(e,i):o=re(null);let r=o.pipe(on(s=>s===null?re(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return bt([r,s]).pipe(xo())}else return r})}static \u0275fac=function(i){return new(i||n)(W(ee),W(Gt),W(Sd),W(Wh))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wI=new z(""),_H=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,o,r,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=r,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pi?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Bo&&e.code===vl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof yl&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yl(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){kS()};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function vC(n,...t){return Ji([{provide:ta,multi:!0,useValue:n},[],{provide:Se,useFactory:MI,deps:[ee]},{provide:qr,multi:!0,useFactory:EI},t.map(e=>e.\u0275providers)])}function MI(n){return n.routerState.root}function Pd(n,t){return{\u0275kind:n,\u0275providers:t}}function EI(){let n=y(it);return t=>{let e=n.get(Wt);if(t!==e.components[0])return;let i=n.get(ee),o=n.get(DI);n.get(bC)===1&&i.initialNavigation(),n.get(OI,null,je.Optional)?.setUpPreloading(),n.get(wI,null,je.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var DI=new z("",{factory:()=>new le}),bC=new z("",{providedIn:"root",factory:()=>1});function SI(){let n=[{provide:bC,useValue:0},oy(()=>{let t=y(it);return t.get(fy,Promise.resolve()).then(()=>new Promise(i=>{let o=t.get(ee),r=t.get(DI);Kh(o,()=>{i(!0)}),t.get(Yh).afterPreactivation=()=>(i(!0),r.closed?re(void 0):r),o.initialNavigation()}))})];return Pd(2,n)}function PI(){let n=[oy(()=>{y(ee).setUpLocationChangeListener()}),{provide:bC,useValue:2}];return Pd(3,n)}var OI=new z("");function II(n){return Pd(0,[{provide:OI,useExisting:xI},{provide:Sd,useExisting:n}])}function kI(){return Pd(8,[cC,{provide:Ed,useExisting:cC}])}function TI(n){Zn("NgRouterViewTransitions");let t=[{provide:pC,useValue:bI},{provide:hC,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return Pd(9,t)}var AI=[Ro,{provide:Xs,useClass:Qr},ee,Js,{provide:Se,useFactory:MI,deps:[ee]},Wh,[]],Le=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[AI,[],{provide:ta,multi:!0,useValue:e},[],i?.errorHandler?{provide:mC,useValue:i.errorHandler}:[],{provide:ea,useValue:i||{}},i?.useHash?bH():yH(),vH(),i?.preloadingStrategy?II(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?CH(i):[],i?.bindToComponentInputs?kI().\u0275providers:[],i?.enableViewTransitions?TI().\u0275providers:[],xH()]}}static forChild(e){return{ngModule:n,providers:[{provide:ta,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})();function vH(){return{provide:wI,useFactory:()=>{let n=y(sO),t=y(me),e=y(ea),i=y(Yh),o=y(Xs);return e.scrollOffset&&n.setOffset(e.scrollOffset),new _H(o,i,n,t,e)}}}function bH(){return{provide:ao,useClass:by}}function yH(){return{provide:ao,useClass:Qp}}function CH(n){return[n.initialNavigation==="disabled"?PI().\u0275providers:[],n.initialNavigation==="enabledBlocking"?SI().\u0275providers:[]]}var gC=new z("");function xH(){return[{provide:gC,useFactory:EI},{provide:qr,multi:!0,useExisting:gC}]}var na=class extends Error{};na.prototype.name="InvalidTokenError";function wH(n){return decodeURIComponent(atob(n).replace(/(.)/g,(t,e)=>{let i=e.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function MH(n){let t=n.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return wH(t)}catch{return atob(t)}}function ts(n,t){if(typeof n!="string")throw new na("Invalid token specified: must be a string");t||(t={});let e=t.header===!0?0:1,i=n.split(".")[e];if(typeof i!="string")throw new na(`Invalid token specified: missing part #${e+1}`);let o;try{o=MH(i)}catch(r){throw new na(`Invalid token specified: invalid base64 for part #${e+1} (${r.message})`)}try{return JSON.parse(o)}catch(r){throw new na(`Invalid token specified: invalid json for part #${e+1} (${r.message})`)}}var Ae=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ae||{}),Vi="*";function yC(n,t){return{type:Ae.Trigger,name:n,definitions:t,options:{}}}function Zh(n,t=null){return{type:Ae.Animate,styles:t,timings:n}}function RI(n,t=null){return{type:Ae.Sequence,steps:n,options:t}}function ns(n){return{type:Ae.Style,styles:n,offset:null}}function Od(n,t,e){return{type:Ae.State,name:n,styles:t,options:e}}function Qh(n,t,e=null){return{type:Ae.Transition,expr:n,animation:t,options:e}}var jo=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},ia=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,o=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==r&&this._onFinish()}),s.onDestroy(()=>{++i==r&&this._onDestroy()}),s.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let o=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(o)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},El="!";var NI=["toast-component",""];function EH(n,t){if(n&1){let e=U();u(0,"button",5),I("click",function(){P(e);let o=w();return O(o.remove())}),u(1,"span",6),p(2,"\xD7"),d()()}}function DH(n,t){if(n&1&&(br(0),p(1),yr()),n&2){let e=w(2);m(),T("[",e.duplicatesCount+1,"]")}}function SH(n,t){if(n&1&&(u(0,"div"),p(1),S(2,DH,2,1,"ng-container",4),d()),n&2){let e=w();Qn(e.options.titleClass),qt("aria-label",e.title),m(),T(" ",e.title," "),m(),x("ngIf",e.duplicatesCount)}}function PH(n,t){if(n&1&&M(0,"div",7),n&2){let e=w();Qn(e.options.messageClass),x("innerHTML",e.message,Ab)}}function OH(n,t){if(n&1&&(u(0,"div",8),p(1),d()),n&2){let e=w();Qn(e.options.messageClass),qt("aria-label",e.message),m(),T(" ",e.message," ")}}function IH(n,t){if(n&1&&(u(0,"div"),M(1,"div",9),d()),n&2){let e=w();m(),io("width",e.width()+"%")}}function kH(n,t){if(n&1){let e=U();u(0,"button",5),I("click",function(){P(e);let o=w();return O(o.remove())}),u(1,"span",6),p(2,"\xD7"),d()()}}function TH(n,t){if(n&1&&(br(0),p(1),yr()),n&2){let e=w(2);m(),T("[",e.duplicatesCount+1,"]")}}function AH(n,t){if(n&1&&(u(0,"div"),p(1),S(2,TH,2,1,"ng-container",4),d()),n&2){let e=w();Qn(e.options.titleClass),qt("aria-label",e.title),m(),T(" ",e.title," "),m(),x("ngIf",e.duplicatesCount)}}function RH(n,t){if(n&1&&M(0,"div",7),n&2){let e=w();Qn(e.options.messageClass),x("innerHTML",e.message,Ab)}}function NH(n,t){if(n&1&&(u(0,"div",8),p(1),d()),n&2){let e=w();Qn(e.options.messageClass),qt("aria-label",e.message),m(),T(" ",e.message," ")}}function FH(n,t){if(n&1&&(u(0,"div"),M(1,"div",9),d()),n&2){let e=w();m(),io("width",e.width()+"%")}}var CC=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},xC=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},wC=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new le;_activate=new le;_manualClose=new le;_resetTimeout=new le;_countDuplicate=new le;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},Dl=class{toastId;config;message;title;toastType;toastRef;_onTap=new le;_onAction=new le;constructor(t,e,i,o,r,s){this.toastId=t,this.config=e,this.message=i,this.title=o,this.toastType=r,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},FI={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},LI=new z("ToastConfig"),MC=class extends xC{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),o;return o=i.create(t.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},LH=(()=>{class n{_document=y(be);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EC=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},VH=(()=>{class n{_overlayContainer=y(LH);_componentFactoryResolver=y(ll);_appRef=y(Wt);_document=y(be);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let o=this._document.createElement("div");return o.id="toast-container",o.classList.add(e),o.classList.add("toast-container"),i?i.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(e){return new MC(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new EC(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ae=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,o,r,s){this.overlay=i,this._injector=o,this.sanitizer=r,this.ngZone=s,this.toastrConfig=B(B({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=B(B({},e.default.iconClasses),e.config.iconClasses))}show(e,i,o={},r=""){return this._preBuildNotification(r,e,i,this.applyConfig(o))}success(e,i,o={}){let r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,e,i,this.applyConfig(o))}error(e,i,o={}){let r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,e,i,this.applyConfig(o))}info(e,i,o={}){let r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,e,i,this.applyConfig(o))}warning(e,i,o={}){let r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,e,i,this.applyConfig(o))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(e="",i="",o,r){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let l=s&&a.title===e;if((!s||l)&&a.message===i)return a.toastRef.onDuplicate(o,r),a}return null}applyConfig(e={}){return B(B({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,o,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,o,r)):this._buildNotification(e,i,o,r)}_buildNotification(e,i,o,r){if(!r.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(o,i,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||i)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&r.enableHtml&&(c=this.sanitizer.sanitize(wi.HTML,i));let f=new wC(l),h=new Dl(this.index,r,c,o,e,f),_=[{provide:Dl,useValue:h}],g=it.create({providers:_,parent:this._injector}),v=new CC(r.toastComponent,g),b=l.attach(v,r.newestOnTop);f.componentInstance=b.instance;let C={toastId:this.index,title:o||"",message:i||"",toastRef:f,onShown:f.afterActivate(),onHidden:f.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:b};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{C.toastRef.activate()})),this.toasts.push(C),C}static \u0275fac=function(i){return new(i||n)(W(LI),W(VH),W(it),W(zy),W(me))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BH=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Ai(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,o){this.toastrService=e,this.toastPackage=i,this.ngZone=o,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r}),this.state=Ai({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>pe(B({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(o=>100-o),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>pe(B({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>pe(B({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(D(ae),D(Dl),D(me))};static \u0275cmp=F({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,o){i&1&&I("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),i&2&&(ay("@flyInOut",o._state),Qn(o.toastClasses),io("display",o.displayStyle))},attrs:NI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,o){i&1&&S(0,EH,3,0,"button",0)(1,SH,3,5,"div",1)(2,PH,1,3,"div",2)(3,OH,2,4,"div",3)(4,IH,2,2,"div",4),i&2&&(x("ngIf",o.options.closeButton),m(),x("ngIf",o.title),m(),x("ngIf",o.message&&o.options.enableHtml),m(),x("ngIf",o.message&&!o.options.enableHtml),m(),x("ngIf",o.options.progressBar))},dependencies:[ye],encapsulation:2,data:{animation:[yC("flyInOut",[Od("inactive",ns({opacity:0})),Od("active",ns({opacity:1})),Od("removed",ns({opacity:0})),Qh("inactive => active",Zh("{{ easeTime }}ms {{ easing }}")),Qh("active => removed",Zh("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),jH=pe(B({},FI),{toastComponent:BH}),DC=(n={})=>Ji([{provide:LI,useValue:{default:jH,config:n}}]),VI=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[DC(e)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})();var HH=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Ai(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Ai("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,o){this.toastrService=e,this.toastPackage=i,this.appRef=o,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(o=>100-o),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(D(ae),D(Dl),D(Wt))};static \u0275cmp=F({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,o){i&1&&I("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),i&2&&(Qn(o.toastClasses),io("display",o.displayStyle))},attrs:NI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,o){i&1&&S(0,kH,3,0,"button",0)(1,AH,3,5,"div",1)(2,RH,1,3,"div",2)(3,NH,2,4,"div",3)(4,FH,2,2,"div",4),i&2&&(x("ngIf",o.options.closeButton),m(),x("ngIf",o.title),m(),x("ngIf",o.message&&o.options.enableHtml),m(),x("ngIf",o.message&&!o.options.enableHtml),m(),x("ngIf",o.options.progressBar))},dependencies:[ye],encapsulation:2,changeDetection:0})}return n})(),Pue=pe(B({},FI),{toastComponent:HH});var Sl=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},oa=class extends Sl{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,i,o,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=r}},ra=class extends Sl{templateRef;viewContainerRef;context;injector;constructor(t,e,i,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Xh=class extends Sl{element;constructor(t){super(),this.element=t instanceof ot?t.nativeElement:t}},sa=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof oa)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ra)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Xh)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Id=class extends sa{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,i,o,r){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=o,this._document=r}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,o=i.get(pr,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:o,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let i=this._appRef,o=t.injector||this._defaultInjector||it.NULL,r=o.get(Gt,i.injector);e=Yp(t.component,{elementInjector:o,environmentInjector:r,projectableNodes:t.projectableNodes||void 0}),i.attachView(e.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(o=>this.outletElement.appendChild(o)),i.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(i);o!==-1&&e.remove(o)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Pl=(()=>{class n extends sa{_moduleRef=y(pr,{optional:!0});_document=y(be);_viewContainerRef=y(Mi);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new gt;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let o=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(o,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(i,o)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=$e({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Qt]})}return n})();function jI(n){return n.buttons===0||n.detail===0}function HI(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var SC;function UH(){if(SC==null){let n=typeof document<"u"?document.head:null;SC=!!(n&&(n.createShadowRoot||n.attachShadow))}return SC}function UI(n){if(UH()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Jh(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Er(n){return n.composedPath?n.composedPath()[0]:n.target}function Dr(n,t,e,i,o){let r=parseInt(dy.major),s=parseInt(dy.minor);return r>19||r===19&&s>0||r===0&&s===0?n.listen(t,e,i,o):(t.addEventListener(e,i,o),()=>{t.removeEventListener(e,i,o)})}var PC;try{PC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{PC=!1}var Dn=(()=>{class n{_platformId=y(Bn);isBrowser=this._platformId?Fi(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||PC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kd;function zH(){if(kd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>kd=!0}))}finally{kd=kd||!1}return kd}function zI(n){return zH()?n:!!n.capture}function Td(n,t=0){return $I(n)?Number(n):arguments.length===2?t:0}function $I(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function aa(n){return n instanceof ot?n.nativeElement:n}var $H=new z("cdk-input-modality-detector-options"),GH={ignoreKeys:[18,17,224,91,16]},GI=650,OC={passive:!0,capture:!0},WH=(()=>{class n{_platform=y(Dn);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Ot(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Er(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<GI||(this._modality.next(jI(e)?"keyboard":"mouse"),this._mostRecentTarget=Er(e))};_onTouchstart=e=>{if(HI(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Er(e)};constructor(){let e=y(me),i=y(be),o=y($H,{optional:!0});if(this._options=B(B({},GH),o),this.modalityDetected=this._modality.pipe(gc(1)),this.modalityChanged=this.modalityDetected.pipe(hf()),this._platform.isBrowser){let r=y(Mn).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[Dr(r,i,"keydown",this._onKeydown,OC),Dr(r,i,"mousedown",this._onMousedown,OC),Dr(r,i,"touchstart",this._onTouchstart,OC)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tm=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(tm||{}),qH=new z("cdk-focus-monitor-default-options"),em=zI({passive:!0,capture:!0}),WI=(()=>{class n{_ngZone=y(me);_platform=y(Dn);_inputModalityDetector=y(WH);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=y(be,{optional:!0});_stopInputModalityDetector=new le;constructor(){let e=y(qH,{optional:!0});this._detectionMode=e?.detectionMode||tm.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=Er(e);for(let o=i;o;o=o.parentElement)e.type==="focus"?this._onFocus(e,o):this._onBlur(e,o)};monitor(e,i=!1){let o=aa(e);if(!this._platform.isBrowser||o.nodeType!==1)return re();let r=UI(o)||this._getDocument(),s=this._elementInfo.get(o);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new le,rootNode:r};return this._elementInfo.set(o,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let i=aa(e),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(e,i,o){let r=aa(e),s=this._getDocument().activeElement;r===s?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof r.focus=="function"&&r.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===tm.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===tm.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?GI:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(e,i){let o=this._elementInfo.get(i),r=Er(e);!o||!o.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),o)}_onBlur(e,i){let o=this._elementInfo.get(i);!o||o.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(o,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,em),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,em)}),this._rootNodeFocusListenerCount.set(i,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Eo(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,em),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,em),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,o){this._setClasses(e,i),this._emitOrigin(o,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((o,r)=>{(r===e||o.checkChildren&&r.contains(e))&&i.push([r,o])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let r=e.labels;if(r){for(let s=0;s<r.length;s++)if(r[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var nm=new WeakMap,Ad=(()=>{class n{_appRef;_injector=y(it);_environmentInjector=y(Gt);load(e){let i=this._appRef=this._appRef||this._injector.get(Wt),o=nm.get(i);o||(o={loaders:new Set,refs:[]},nm.set(i,o),i.onDestroy(()=>{nm.get(i)?.refs.forEach(r=>r.destroy()),nm.delete(i)})),o.loaders.has(e)||(o.loaders.add(e),o.refs.push(Yp(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qI=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=F({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,o){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function Ol(n){return Array.isArray(n)?n:[n]}var YI=new Set,la,YH=(()=>{class n{_platform=y(Dn);_nonce=y(Lc,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ZH}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&KH(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KH(n,t){if(!YI.has(n))try{la||(la=document.createElement("style"),t&&la.setAttribute("nonce",t),la.setAttribute("type","text/css"),document.head.appendChild(la)),la.sheet&&(la.sheet.insertRule(`@media ${n} {body{ }}`,0),YI.add(n))}catch(e){console.error(e)}}function ZH(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var ZI=(()=>{class n{_mediaMatcher=y(YH);_zone=y(me);_queries=new Map;_destroySubject=new le;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return KI(Ol(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let o=KI(Ol(e)).map(s=>this._registerQuery(s).observable),r=ws(o);return r=Vr(r.pipe(ln(1)),r.pipe(gc(1),u_(0))),r.pipe(ve(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),r={observable:new He(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Mo(i),ve(({matches:s})=>({query:e,matches:s})),Eo(this._destroySubject)),mql:i};return this._queries.set(e,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KI(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var TC=(()=>{class n{_platform=y(Dn);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return XH(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=QH(sU(e));if(i&&(QI(i)===-1||!this.isVisible(i)))return!1;let o=e.nodeName.toLowerCase(),r=QI(e);return e.hasAttribute("contenteditable")?r!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!oU(e)?!1:o==="audio"?e.hasAttribute("controls")?r!==-1:!1:o==="video"?r===-1?!1:r!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return rU(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QH(n){try{return n.frameElement}catch{return null}}function XH(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function JH(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function eU(n){return nU(n)&&n.type=="hidden"}function tU(n){return iU(n)&&n.hasAttribute("href")}function nU(n){return n.nodeName.toLowerCase()=="input"}function iU(n){return n.nodeName.toLowerCase()=="a"}function ek(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function QI(n){if(!ek(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function oU(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function rU(n){return eU(n)?!1:JH(n)||tU(n)||n.hasAttribute("contenteditable")||ek(n)}function sU(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var kC=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,o,r=!1,s){this._element=t,this._checker=e,this._ngZone=i,this._document=o,this._injector=s,r||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let o=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let o=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(o)return o}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?no(t,{injector:this._injector}):setTimeout(t)}},AC=(()=>{class n{_checker=y(TC);_ngZone=y(me);_document=y(be);_injector=y(it);constructor(){y(Ad).load(qI)}create(e,i=!1){return new kC(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var is=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(is||{}),XI="cdk-high-contrast-black-on-white",JI="cdk-high-contrast-white-on-black",IC="cdk-high-contrast-active",RC=(()=>{class n{_platform=y(Dn);_hasCheckedHighContrastMode;_document=y(be);_breakpointSubscription;constructor(){this._breakpointSubscription=y(ZI).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return is.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return is.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return is.BLACK_ON_WHITE}return is.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(IC,XI,JI),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===is.BLACK_ON_WHITE?e.add(IC,XI):i===is.WHITE_ON_BLACK&&e.add(IC,JI)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function sn(n){return n==null?"":typeof n=="string"?n:`${n}px`}var aU=new z("cdk-dir-doc",{providedIn:"root",factory:lU});function lU(){return y(be)}var cU=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function dU(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?cU.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Rd=(()=>{class n{value="ltr";change=new gt;constructor(){let e=y(aU,{optional:!0});if(e){let i=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.value=dU(i||o||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ca;function tk(){if(ca==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ca=!1,ca;if("scrollBehavior"in document.documentElement.style)ca=!0;else{let n=Element.prototype.scrollTo;n?ca=!/\{\s*\[native code\]\s*\}/.test(n.toString()):ca=!1}}return ca}var FC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})();var uU=20,nk=(()=>{class n{_ngZone=y(me);_platform=y(Dn);_renderer=y(Mn).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new le;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=uU){return this._platform.isBrowser?new He(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=e>0?this._scrolled.pipe(pf(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):re()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let o=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Nt(r=>!r||o.indexOf(r)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((o,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_scrollableContainsElement(e,i){let o=aa(i),r=e.getElementRef().nativeElement;do if(o==r)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fU=20,LC=(()=>{class n{_platform=y(Dn);_listeners;_viewportSize;_change=new le;_document=y(be,{optional:!0});constructor(){let e=y(me),i=y(Mn).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=r=>this._change.next(r);this._listeners=[i.listen("window","resize",o),i.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),o=e.documentElement,r=o.getBoundingClientRect(),s=-r.top||e.body.scrollTop||i.scrollY||o.scrollTop||0,a=-r.left||e.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:s,left:a}}change(e=fU){return e>0?this._change.pipe(pf(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var VC={},da=(()=>{class n{_appId=y(Yi);getId(e){return this._appId!=="ng"&&(e+=this._appId),VC.hasOwnProperty(e)||(VC[e]=0),`${e}${VC[e]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function im(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ik=tk(),om=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=sn(-this._previousScrollPosition.left),t.style.top=sn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,o=e.style,r=i.scrollBehavior||"",s=o.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ik&&(i.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ik&&(i.scrollBehavior=r,o.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var rm=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=o}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Nt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Nd=class{enable(){}disable(){}attach(){}};function BC(n,t){return t.some(e=>{let i=n.bottom<e.top,o=n.top>e.bottom,r=n.right<e.left,s=n.left>e.right;return i||o||r||s})}function ok(n,t){return t.some(e=>{let i=n.top<e.top,o=n.bottom>e.bottom,r=n.left<e.left,s=n.right>e.right;return i||o||r||s})}var sm=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=o}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:o}=this._viewportRuler.getViewportSize();BC(e,[{width:i,height:o,bottom:o,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},dk=(()=>{class n{_scrollDispatcher=y(nk);_viewportRuler=y(LC);_ngZone=y(me);_document=y(be);constructor(){}noop=()=>new Nd;close=e=>new rm(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new om(this._viewportRuler,this._document);reposition=e=>new sm(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Il=class{positionStrategy;scrollStrategy=new Nd;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var am=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var uk=(()=>{class n{_attachedOverlays=[];_document=y(be);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fk=(()=>{class n extends uk{_ngZone=y(me);_renderer=y(Mn).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let o=i.length-1;o>-1;o--)if(i[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[o]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pk=(()=>{class n extends uk{_platform=y(Dn);_ngZone=y(me);_renderer=y(Mn).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,o={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Dr(this._renderer,i,"pointerdown",this._pointerDownListener,o),Dr(this._renderer,i,"click",this._clickListener,o),Dr(this._renderer,i,"auxclick",this._clickListener,o),Dr(this._renderer,i,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Er(e)};_clickListener=e=>{let i=Er(e),o=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let r=this._attachedOverlays.slice();for(let s=r.length-1;s>-1;s--){let a=r[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(rk(a.overlayElement,i)||rk(a.overlayElement,o))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rk(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var hk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=F({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,o){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),dm=(()=>{class n{_platform=y(Dn);_containerElement;_document=y(be);_styleLoader=y(Ad);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||NC()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<o.length;r++)o[r].remove()}let i=this._document.createElement("div");i.classList.add(e),NC()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(hk)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jC=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,o){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},fa=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new le;_attachments=new le;_detachments=new le;_positionStrategy;_scrollStrategy;_locationChanges=Rt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new le;_outsidePointerEvents=new le;_renders=new le;_afterRenderRef;_afterNextRenderRef;constructor(t,e,i,o,r,s,a,l,c,f=!1,h,_){this._portalOutlet=t,this._host=e,this._pane=i,this._config=o,this._ngZone=r,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=f,this._injector=h,this._renderer=_,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=Ri(()=>Ob(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=no(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=B(B({},this._config),t),this._updateElementSize()}setDirection(t){this._config=pe(B({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=sn(this._config.width),t.height=sn(this._config.height),t.minWidth=sn(this._config.minWidth),t.minHeight=sn(this._config.minHeight),t.maxWidth=sn(this._config.maxWidth),t.maxHeight=sn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new jC(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let o=Ol(e||[]).filter(r=>!!r);o.length&&(i?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Eo(mc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},sk="cdk-overlay-connected-position-bounding-box",pU=/([A-Za-z%]+)$/,lm=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new le;_resizeSubscription=Rt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,o,r){this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=r,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(sk),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,o=this._containerRect,r=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,o,a),c=this._getOverlayPoint(l,e,a),f=this._getOverlayFit(c,e,i,a);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(f,c,i)){r.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(r.length){let a=null,l=-1;for(let c of r){let f=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);f>l&&(l=f,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ua(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let o;if(i.originX=="center")o=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;o=i.originX=="start"?s:a}e.left<0&&(o-=e.left);let r;return i.originY=="center"?r=t.top+t.height/2:r=i.originY=="top"?t.top:t.bottom,e.top<0&&(r-=e.top),{x:o,y:r}}_getOverlayPoint(t,e,i){let o;i.overlayX=="center"?o=-e.width/2:i.overlayX==="start"?o=this._isRtl()?-e.width:0:o=this._isRtl()?0:-e.width;let r;return i.overlayY=="center"?r=-e.height/2:r=i.overlayY=="top"?0:-e.height,{x:t.x+o,y:t.y+r}}_getOverlayFit(t,e,i,o){let r=lk(e),{x:s,y:a}=t,l=this._getOffset(o,"x"),c=this._getOffset(o,"y");l&&(s+=l),c&&(a+=c);let f=0-s,h=s+r.width-i.width,_=0-a,g=a+r.height-i.height,v=this._subtractOverflows(r.width,f,h),b=this._subtractOverflows(r.height,_,g),C=v*b;return{visibleArea:C,isCompletelyWithinViewport:r.width*r.height===C,fitsInViewportVertically:b===r.height,fitsInViewportHorizontally:v==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let o=i.bottom-e.y,r=i.right-e.x,s=ak(this._overlayRef.getConfig().minHeight),a=ak(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=o,c=t.fitsInViewportHorizontally||a!=null&&a<=r;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let o=lk(e),r=this._viewportRect,s=Math.max(t.x+o.width-r.width,0),a=Math.max(t.y+o.height-r.height,0),l=Math.max(r.top-i.top-t.y,0),c=Math.max(r.left-i.left-t.x,0),f=0,h=0;return o.width<=r.width?f=c||-s:f=t.x<this._viewportMargin?r.left-i.left-t.x:0,o.height<=r.height?h=l||-a:h=t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:f,y:h},{x:t.x+f,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!hU(this._lastScrollVisibility,i)){let o=new am(t,i);this._positionChanges.next(o)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,o=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${o}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,o=this._isRtl(),r,s,a;if(e.overlayY==="top")s=t.y,r=i.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,r=i.height-a+this._viewportMargin;else{let g=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;r=g*2,s=t.y-g,r>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-v/2)}let l=e.overlayX==="start"&&!o||e.overlayX==="end"&&o,c=e.overlayX==="end"&&!o||e.overlayX==="start"&&o,f,h,_;if(c)_=i.width-t.x+this._viewportMargin*2,f=t.x-this._viewportMargin;else if(l)h=t.x,f=i.right-t.x;else{let g=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;f=g*2,h=t.x-g,f>v&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-v/2)}return{top:s,left:h,bottom:a,right:_,width:f,height:r}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;o.height=sn(i.height),o.top=sn(i.top),o.bottom=sn(i.bottom),o.width=sn(i.width),o.left=sn(i.left),o.right=sn(i.right),e.overlayX==="center"?o.alignItems="center":o.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?o.justifyContent="center":o.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",r&&(o.maxHeight=sn(r)),s&&(o.maxWidth=sn(s))}this._lastBoundingBoxSize=i,ua(this._boundingBox.style,o)}_resetBoundingBoxStyles(){ua(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ua(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(o){let f=this._viewportRuler.getViewportScrollPosition();ua(i,this._getExactOverlayY(e,t,f)),ua(i,this._getExactOverlayX(e,t,f))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(o?i.maxHeight=sn(s.maxHeight):r&&(i.maxHeight="")),s.maxWidth&&(o?i.maxWidth=sn(s.maxWidth):r&&(i.maxWidth="")),ua(this._pane.style,i)}_getExactOverlayY(t,e,i){let o={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;o.bottom=`${s-(r.y+this._overlayRect.height)}px`}else o.top=sn(r.y);return o}_getExactOverlayX(t,e,i){let o={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;o.right=`${a-(r.x+this._overlayRect.width)}px`}else o.left=sn(r.x);return o}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ok(t,i),isOriginOutsideView:BC(t,i),isOverlayClipped:ok(e,i),isOverlayOutsideView:BC(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,o)=>i-Math.max(o,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ol(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof ot)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function ua(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ak(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(pU);return!e||e==="px"?parseFloat(t):null}return n||null}function lk(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function hU(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var ck="cdk-global-overlay-wrapper",cm=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ck),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:s,maxHeight:a}=i,l=(o==="100%"||o==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(r==="100%"||r==="100vh")&&(!a||a==="100%"||a==="100vh"),f=this._xPosition,h=this._xOffset,_=this._overlayRef.getConfig().direction==="rtl",g="",v="",b="";l?b="flex-start":f==="center"?(b="center",_?v=h:g=h):_?f==="left"||f==="end"?(b="flex-end",g=h):(f==="right"||f==="start")&&(b="flex-start",v=h):f==="left"||f==="start"?(b="flex-start",g=h):(f==="right"||f==="end")&&(b="flex-end",v=h),t.position=this._cssPosition,t.marginLeft=l?"0":g,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":v,e.justifyContent=b,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(ck),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},mk=(()=>{class n{_viewportRuler=y(LC);_document=y(be);_platform=y(Dn);_overlayContainer=y(dm);constructor(){}global(){return new cm}flexibleConnectedTo(e){return new lm(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pa=(()=>{class n{scrollStrategies=y(dk);_overlayContainer=y(dm);_positionBuilder=y(mk);_keyboardDispatcher=y(fk);_injector=y(it);_ngZone=y(me);_document=y(be);_directionality=y(Rd);_location=y(Ro);_outsideClickDispatcher=y(pk);_animationsModuleType=y(gr,{optional:!0});_idGenerator=y(da);_renderer=y(Mn).createRenderer(null,null);_appRef;_styleLoader=y(Ad);constructor(){}create(e){this._styleLoader.load(hk);let i=this._createHostElement(),o=this._createPaneElement(i),r=this._createPortalOutlet(o),s=new Il(e);return s.direction=s.direction||this._directionality.value,new fa(r,i,o,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Gt),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Wt)),new Id(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gU(n,t){}var os=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var zC=(()=>{class n extends sa{_elementRef=y(ot);_focusTrapFactory=y(AC);_config;_interactivityChecker=y(TC);_ngZone=y(me);_overlayRef=y(fa);_focusMonitor=y(WI);_renderer=y(jn);_changeDetectorRef=y(oo);_injector=y(it);_platform=y(Dn);_document=y(be,{optional:!0});_portalOutlet;_focusTrapped=new le;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=y(os,{optional:!0})||new os,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}attachDomPortal=e=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r(),s(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",o),s=this._renderer.listen(e,"mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(e){this._isDestroyed||no(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,i=null;if(typeof e=="string"?i=this._document.querySelector(e):typeof e=="boolean"?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&typeof i.focus=="function"){let o=Jh(),r=this._elementRef.nativeElement;(!o||o===this._document.body||o===r||r.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){let e=this._elementRef.nativeElement,i=Jh();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Jh()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=F({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,o){if(i&1&&Tt(Pl,7),i&2){let r;Ct(r=xt())&&(o._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,o){i&2&&qt("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[Qt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){i&1&&S(0,gU,0,0,"ng-template",0)},dependencies:[Pl],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return n})(),Fd=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new le;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!im(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(t,e){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},_U=new z("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=y(pa);return()=>n.scrollStrategies.block()}}),vU=new z("DialogData"),bU=new z("DefaultDialogConfig");var vk=(()=>{class n{_overlay=y(pa);_injector=y(it);_defaultOptions=y(bU,{optional:!0});_parentDialog=y(n,{optional:!0,skipSelf:!0});_overlayContainer=y(dm);_idGenerator=y(da);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new le;_afterOpenedAtThisLevel=new le;_ariaHiddenElements=new Map;_scrollStrategy=y(_U);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Br(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mo(void 0)));constructor(){}open(e,i){let o=this._defaultOptions||new os;i=B(B({},o),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let r=this._getOverlayConfig(i),s=this._overlay.create(r),a=new Fd(s,i),l=this._attachContainer(s,a,i);if(a.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(ln(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(e,a,l,i),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){UC(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){UC(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),UC(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let i=new Il({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,o){let r=o.injector||o.viewContainerRef?.injector,s=[{provide:os,useValue:o},{provide:Fd,useValue:i},{provide:fa,useValue:e}],a;o.container?typeof o.container=="function"?a=o.container:(a=o.container.type,s.push(...o.container.providers(o))):a=zC;let l=new oa(a,o.viewContainerRef,it.create({parent:r||this._injector,providers:s}));return e.attach(l).instance}_attachDialogContent(e,i,o,r){if(e instanceof Ti){let s=this._createInjector(r,i,o,void 0),a={$implicit:r.data,dialogRef:i};r.templateContext&&(a=B(B({},a),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),o.attachTemplatePortal(new ra(e,null,a,s))}else{let s=this._createInjector(r,i,o,this._injector),a=o.attachComponentPortal(new oa(e,r.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,o,r){let s=e.injector||e.viewContainerRef?.injector,a=[{provide:vU,useValue:e.data},{provide:Fd,useValue:i}];return e.providers&&(typeof e.providers=="function"?a.push(...e.providers(i,e,o)):a.push(...e.providers)),e.direction&&(!s||!s.get(Rd,null,{optional:!0}))&&a.push({provide:Rd,useValue:{value:e.direction,change:re()}}),it.create({parent:s||r,providers:a})}_removeOpenDialog(e,i){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){let r=i[o];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UC(n,t){let e=n.length;for(;e--;)t(n[e])}var bk=(()=>{class n{constructor(){y(RC)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({imports:[FC,FC]})}return n})();function yU(n,t){}var Vd=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},$C="mdc-dialog--open",yk="mdc-dialog--opening",Ck="mdc-dialog--closing",CU=150,xU=75,Mk=(()=>{class n extends zC{_animationMode=y(gr,{optional:!0});_animationStateChanged=new gt;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?wk(this._config.enterAnimationDuration)??CU:0;_exitAnimationDuration=this._animationsEnabled?wk(this._config.exitAnimationDuration)??xU:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(xk,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(yk,$C)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add($C),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove($C),this._animationsEnabled?(this._hostElement.style.setProperty(xk,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ck)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(yk,Ck)}_waitForAnimationToComplete(e,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275cmp=F({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,o){i&2&&(sy("id",o._config.id),qt("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),tt("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[Qt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,o){i&1&&(u(0,"div",0)(1,"div",1),S(2,yU,0,0,"ng-template",2),d()())},dependencies:[Pl],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),xk="--mat-dialog-transition-duration";function wk(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?Td(n.substring(0,n.length-2)):n.endsWith("s")?Td(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Ld=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Ld||{}),Sn=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new le;_beforeClosed=new le;_result;_closeFallbackTimeout;_state=Ld.OPEN;_closeInteractionType;constructor(t,e,i){this._ref=t,this._containerInstance=i,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Nt(o=>o.state==="opened"),ln(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Nt(o=>o.state==="closed"),ln(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),mc(this.backdropClick(),this.keydownEvents().pipe(Nt(o=>o.keyCode===27&&!this.disableClose&&!im(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),Ek(this,o.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Nt(e=>e.state==="closing"),ln(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Ld.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Ld.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Ek(n,t,e){return n._closeInteractionType=t,n.close(e)}var fi=new z("MatMdcDialogData"),Dk=new z("mat-mdc-dialog-default-options"),Sk=new z("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=y(pa);return()=>n.scrollStrategies.block()}});var ne=(()=>{class n{_overlay=y(pa);_defaultOptions=y(Dk,{optional:!0});_scrollStrategy=y(Sk);_parentDialog=y(n,{optional:!0,skipSelf:!0});_idGenerator=y(da);_dialog=y(vk);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new le;_afterOpenedAtThisLevel=new le;dialogConfigClass=Vd;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Br(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mo(void 0)));constructor(){this._dialogRefConstructor=Sn,this._dialogContainerType=Mk,this._dialogDataToken=fi}open(e,i){let o;i=B(B({},this._defaultOptions||new Vd),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(e,pe(B({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:os,useValue:i}]},templateContext:()=>({dialogRef:o}),providers:(s,a,l)=>(o=new this._dialogRefConstructor(s,i,l),o.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=r.componentRef,o.componentInstance=r.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(o);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wU=(()=>{class n{_dialogRef=y(Sn,{optional:!0});_elementRef=y(ot);_dialog=y(ne);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=MU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=$e({type:n})}return n})();var GC=(()=>{class n extends wU{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275dir=$e({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,o){i&2&&tt("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},features:[Qt]})}return n})();function MU(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}var Ce=class n{constructor(t,e,i){this.router=t;this.platformId=e;this.matDialog=i}logout(){localStorage.clear(),this.navigateToLogin()}baseUrl="https://fizo.runasp.net/api/Account";client=y(at);id="";toastService=y(ae);currentUser;loginWithGoogle(){window.location.href="https://fizo.runasp.net/api/ExternalAuth/signin?provider=Google"}handleGoogleCallback(t){t?(console.log("token received : "+t),localStorage.setItem("token",t),console.log("Token stored in localStorage:",localStorage.getItem("token")),this.router.navigate(["/"])):(alert("Login failed"),this.router.navigate(["/login"]))}login(t){return console.log(t),this.client.post(this.baseUrl+"/login",{email:t.email,password:t.password}).pipe(we(e=>{console.log(e),this.saveUser(e),this.navigateBasedOnRole()}))}register(t,e){this.client.post(this.baseUrl+`/register/${e}`,t).subscribe({next:i=>{this.saveUser(i),this.toastService.success("This is a success message!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.navigateToLogin()},error:i=>{i.error.errors.map(o=>{this.toastService.error(o,"\u274C Error",{toastClass:"ngx-toastr custom-error"})})}})}navigateToLogin(){Fi(this.platformId)&&this.router.navigate(["/login"])}getRoleFromToken(){let t=this.getDecodedToken();return t?t["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||t.roles:null}getDecodedToken(){let t=this.getToken();if(!t)return console.warn("No token found in localStorage!"),null;try{return ts(t)}catch(e){return console.error("Invalid token",e),null}}saveUser(t){localStorage.removeItem("token"),localStorage.setItem("token",t.token)}navigateToHome(){Fi(this.platformId)&&this.router.navigate(["/"])}getToken(){return localStorage.getItem("token")}isLoggedIn(){return this.getToken()!==null}getHotelId(){return console.log(`token in hotel ${this.getToken()}`),this.client.get("https://fizo.runasp.net/api/Dashboard/hotel",{headers:{Authorization:`Bearer ${this.getToken()}`}}).pipe(ve(t=>{let e=t.hotel?.hotelID;return this.id=e,localStorage.setItem("id",t.hotel?.hotelID),t.hotel?.hotelID}))}getCompanyId(){return console.log(`token in company ${this.getToken()}`),this.client.get("https://fizo.runasp.net/api/Dashboard/tourismcompany",{headers:{Authorization:`Bearer ${this.getToken()}`}}).pipe(ve(t=>{let e=t.companyID;return this.id=e,localStorage.setItem("id",t.companyID),e}))}getTouristId(){return console.log(`token in tourist ${this.getToken()}`),this.client.get("https://fizo.runasp.net/api/Dashboard/tourist",{headers:{Authorization:`Bearer ${this.getToken()}`}}).pipe(ve(t=>{let e=t.userID;return this.id=e,localStorage.setItem("id",t.userID),t.userID}))}getTourGuideId(){return console.log(`token in tour guide ${this.getToken()}`),this.client.get("https://fizo.runasp.net/api/Dashboard/tourguide",{headers:{Authorization:`Bearer ${this.getToken()}`}}).pipe(ve(t=>(this.id=t.guideID,localStorage.setItem("id",t.guideID),t.guideID)))}navigateBasedOnRole(){let t=this.getRoleFromToken(),e={replaceUrl:!0};if(!t){this.router.navigate(["/"]);return}switch(t.toLowerCase()){case"hotel":this.getHotelId().subscribe(i=>{this.id=i,this.router.navigateByUrl("/hotel/dashboard",e)});break;case"tourismcompany":this.getCompanyId().subscribe(i=>{this.id=i,this.router.navigateByUrl("/company/dashboard",e)});break;case"tourist":this.getTouristId().subscribe(i=>{this.id=i,this.router.navigateByUrl("",e)});break;case"tourguide":this.getTourGuideId().subscribe(i=>{this.id=i,this.router.navigateByUrl("/tour-guide/dashboard",e)});break;case"admin":this.router.navigateByUrl("/admin/dashboard",e);break;default:this.router.navigate(["/"]);break}}sendResetEmail(t){return this.client.post("https://fizo.runasp.net/api/Account/forgotpassword",{email:t,ClientUri:"http://localhost:4200"})}sendNewPassword(t){return this.client.post("https://fizo.runasp.net/api/Account/resetpassword",t)}static \u0275fac=function(e){return new(e||n)(W(ee),W(Bn),W(ne))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var EU=()=>({exact:!0});function DU(n,t){if(n&1){let e=U();u(0,"li",8)(1,"a",14),p(2,"New Trip"),d()(),u(3,"li",15),I("click",function(){P(e);let o=w();return O(o.showActions())}),M(4,"i",16),d(),u(5,"div",17)(6,"p",18),M(7,"i",19),p(8," Dashboard"),d(),u(9,"p",20),I("click",function(){P(e);let o=w();return O(o.logout())}),M(10,"i",21),p(11," Sign Out"),d()(),u(12,"li",22)(13,"a",23),p(14,"Dashboard"),d()(),u(15,"p",24),I("click",function(){P(e);let o=w();return O(o.logout())}),p(16,"Sign Out"),d()}if(n&2){let e=w();m(6),Ws("routerLink","/",e.currentRole(),"/dashboard"),m(7),Ws("routerLink","/",e.currentRole(),"/dashboard")}}function SU(n,t){n&1&&(u(0,"button",13),p(1," Login "),d())}var St=class n{authService=y(Ce);isLoggedIn(){return this.authService.getToken()!==null}logout(){this.authService.logout()}showActions(){let t=document.getElementsByClassName("actions-list")[0];t.style.opacity=="0"?t.style.opacity=String(1):t.style.opacity=String(0)}currentRole(){return this.authService.getRoleFromToken().toLowerCase()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-navbar"]],decls:22,vars:3,consts:[[1,"navbar","navbar-expand-lg"],[1,"container"],["routerLink","/tourist",1,"navbar-brand"],["src","images/logo.svg","alt","Logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLinkActive","active","routerLink","",1,"nav-link",3,"routerLinkActiveOptions"],["routerLinkActive","active","routerLink","/tour-packages",1,"nav-link"],["routerLinkActive","active","routerLink","/hotel-reservation",1,"nav-link"],["routerLinkActive","active","routerLink","/tour-guides",1,"nav-link"],["routerLink","/login",1,"btn","btn-primary"],["routerLinkActive","active","routerLink","/tourist/new-trip",1,"nav-link"],[1,"nav-item","profile-icon",3,"click"],[1,"fa-solid","fa-angle-down"],[1,"actions-list"],[3,"routerLink"],[1,"fa-solid","fa-inbox"],[3,"click"],[1,"fa-solid","fa-right-to-bracket"],[1,"nav-item","dashboard"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"mt-2","logout-btn",3,"click"]],template:function(e,i){e&1&&(u(0,"nav",0)(1,"div",1)(2,"a",2),M(3,"img",3),d(),u(4,"button",4),M(5,"span",5),d(),u(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),p(10,"Home"),d()(),u(11,"li",8)(12,"a",10),p(13,"Packages"),d()(),u(14,"li",8)(15,"a",11),p(16,"Hotels"),d()(),u(17,"li",8)(18,"a",12),p(19,"Tour Guides"),d()(),S(20,DU,17,4)(21,SU,2,0,"button",13),d()()()()),e&2&&(m(9),x("routerLinkActiveOptions",cn(2,EU)),m(11),ze(i.isLoggedIn()?20:21))},dependencies:[ie,Le,_C],styles:['.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;border-radius:25px;cursor:pointer;width:fit-content;margin:auto 0}.actions-list[_ngcontent-%COMP%]{opacity:0;position:absolute;top:50px;right:30px;border:1px solid black;width:200px;z-index:33;background-color:#fff;border-radius:10px;border:none;box-shadow:0 0 4px;transition:opacity .5s ease}.actions-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;padding:10px;margin:0;font-weight:500;cursor:pointer;transition:padding 1s ease}.actions-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:5px}.actions-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{padding-left:20px}.fa-solid.fa-angle-down[_ngcontent-%COMP%]{position:relative;padding:12px 20px 0 10px;cursor:pointer}.logout-btn[_ngcontent-%COMP%]{margin:0;text-align:left;cursor:pointer;border-radius:50px;color:#000000a6;width:110px}@media (min-width: 992px){.logout-btn[_ngcontent-%COMP%], .nav-item.dashboard[_ngcontent-%COMP%]{display:none}}@media (max-width: 991px){.nav-item.profile-icon[_ngcontent-%COMP%]{display:none}.btn.btn-primary[_ngcontent-%COMP%]{margin-top:8px}}@media (min-width: 992px){.nav-link[_ngcontent-%COMP%]{position:relative;padding:8px 50px;margin:0 5px}.nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:0;width:0%;height:4px;background-color:#000;transition:width .4s ease}.nav-link.active[_ngcontent-%COMP%]:after, .nav-link[_ngcontent-%COMP%]:hover:after{width:100%}}']})};var PU=["determinateSpinner"];function OU(n,t){if(n&1&&(gn(),u(0,"svg",11),M(1,"circle",12),d()),n&2){let e=w();qt("viewBox",e._viewBox()),m(),io("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),qt("r",e._circleRadius())}}var IU=new z("mat-progress-spinner-default-options",{providedIn:"root",factory:kU});function kU(){return{diameter:Pk}}var Pk=100,TU=10,Pt=(()=>{class n{_elementRef=y(ot);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=y(gr,{optional:!0}),i=y(IU);this._noopAnimations=e==="NoopAnimations"&&!!i&&!i._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Pk;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-TU)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=F({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,o){if(i&1&&Tt(PU,5),i&2){let r;Ct(r=xt())&&(o._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,o){i&2&&(qt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),Qn("mat-"+o.color),io("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),tt("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",Yc],diameter:[2,"diameter","diameter",Yc],strokeWidth:[2,"strokeWidth","strokeWidth",Yc]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,o){if(i&1&&(S(0,OU,2,8,"ng-template",null,0,Wp),u(2,"div",2,1),gn(),u(4,"svg",3),M(5,"circle",4),d()(),tl(),u(6,"div",5)(7,"div",6)(8,"div",7),Wc(9,8),d(),u(10,"div",9),Wc(11,8),d(),u(12,"div",10),Wc(13,8),d()()()),i&2){let r=li(1);m(4),qt("viewBox",o._viewBox()),m(),io("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),qt("r",o._circleRadius()),m(4),x("ngTemplateOutlet",r),m(2),x("ngTemplateOutlet",r),m(2),x("ngTemplateOutlet",r)}},dependencies:[Cy],styles:[`.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})();var yn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({imports:[bk]})}return n})();var We=class n{constructor(t,e){this.data=t;this.ref=e}get title(){return this.data.title}get message(){return this.data.message}get method(){return this.data.method}close(){this.ref.close(),this.method()}static \u0275fac=function(e){return new(e||n)(D(fi),D(Sn))};static \u0275cmp=F({type:n,selectors:[["app-loading-dialog-component"]],decls:4,vars:0,consts:[[2,"display","flex","flex-direction","column","align-items","center","padding","20px"],["diameter","30"],[2,"margin-top","15px"]],template:function(e,i){e&1&&(u(0,"div",0),M(1,"mat-spinner",1),u(2,"p",2),p(3,"Loading..."),d()())},dependencies:[Pt],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]})};var Un=class n{constructor(t){this.client=t;this.matDialog=y(ne)}toastService=y(ae);getTopHotels(){return this.client.get(this.baseUrl+"Hotels",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}getTopReviews(){return this.client.get(this.baseUrl+"Reviews",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}editProfile(t,e){return this.client.put(this.baseUrl+"Hotels/"+e,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}editRoom(t,e){let i=this.matDialog.open(We,{disableClose:!0});return this.client.put(this.baseUrl+"rooms/"+e,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).subscribe({next:o=>{i.close(),this.toastService.success("Room Updated Successfully","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.hotelDashBoard$.subscribe(r=>{r.rooms?.map(s=>{s.roomId==e&&(s.photoUrls=o.photoUrls)})})},error:o=>{i.close();let r="";o.error.errors.map(s=>r+=s+`
`),this.toastService.error(r,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}matDialog;deleteRoom(t){return this.client.delete(this.baseUrl+"rooms/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).pipe(we(e=>{this.roomsSubject.subscribe(i=>{i=i.filter(o=>o.roomId!=t),this.roomsSubject.next(i)})}))}addNewRoom(t){return this.client.post(this.baseUrl+"Hotels/"+localStorage.getItem("id")+"/rooms",t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}hotelDashBoardSubject=new Ot({});hotelDashBoard$=this.hotelDashBoardSubject.asObservable();roomsSubject=new Lr;roomsDashBoard$=this.roomsSubject.asObservable();profileSubject=new Lr;profileDashBoard$=this.profileSubject.asObservable();baseUrl="https://fizo.runasp.net/api/";getHotelDashBoard(){this.client.get(this.baseUrl+"Dashboard/hotel",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).pipe(ln(1)).subscribe({next:t=>{this.hotelDashBoardSubject.next(t),this.roomsSubject.next(t.rooms)},error:t=>{this.hotelDashBoardSubject.error(t)}})}getHotelProfile(){this.client.get(this.baseUrl+`Hotels/${localStorage.getItem("id")}`).subscribe(t=>{this.profileSubject.next(t)})}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ho=class n{constructor(t){this.http=t}getTopPackages(){return this.http.get(this.apiUrl,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}apiUrl="https://fizo.runasp.net/api/TourPackages";reviewsApiUrl="https://fizo.runasp.net/api/Reviews/package";bookingsApiUrl="https://fizo.runasp.net/api/Bookings/package";getAllPackages(){return this.http.get(this.apiUrl).pipe(we(t=>console.log("API Response (GetAllPackages):",t)),ht(this.handleError))}bookPackage(t){return this.http.post(this.bookingsApiUrl,t).pipe(ht(this.handleError))}getPackageById(t){return this.http.get(`${this.apiUrl}/${t}`).pipe(we(e=>console.log("API Response (GetPackageById):",e)),ht(this.handleError))}getReviewsByPackageId(t){return this.http.get(`${this.reviewsApiUrl}/${t}`).pipe(ht(this.handleError))}getPackagesByCompanyId(t){return this.http.get(`${this.apiUrl}/company/${t}`).pipe(we(e=>console.log("API Response (GetPackagesByCompanyId):",e)),ht(this.handleError))}handleError(t){let e="An error occurred while fetching tour package data.";return t.error instanceof ErrorEvent?e=`Client Error: ${t.error.message}`:t.error&&t.error.Errors&&Array.isArray(t.error.Errors)?e=`Server Error: ${t.error.Errors.join(", ")}`:t.error&&typeof t.error=="string"?e=`Server Error: ${t.error}`:e=`Error Code: ${t.status}
Message: ${t.message||"Unknown error"}`,console.error("API Error:",e),Nn(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Uo=class n{constructor(t){this.client=t}getTopTourGuides(){return this.client.get(this.baseUrl+"/TourGuides",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}dashboardSubject=new Ot({});dashboard$=this.dashboardSubject.asObservable();baseUrl="https://fizo.runasp.net/api";getTourGuideDashBoard(){this.client.get(this.baseUrl+"/DashBoard/tourguide",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).subscribe(t=>{this.dashboardSubject.next(t)})}editTourGuide(t){return this.client.put(this.baseUrl+"/TourGuides/"+t.get("guideID"),t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}getDestinations(){return this.client.get(this.baseUrl+"/Destinations")}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var RU=()=>[Et,ie],NU=()=>[td,ie],FU=()=>[Et,td,ie],Ok=()=>[],Ik=(n,t)=>({"text-warning":n,"text-secondary":t}),LU=()=>[0,1,2,3,4],VU=(n,t)=>({filled:n,empty:t}),BU=(n,t)=>t.reviewId,jU=(n,t)=>t.guideID,HU=(n,t)=>t.packageId,UU=(n,t)=>t.hotelID;function zU(n,t){n&1&&(u(0,"h2",18),p(1,"No Tour Guides Are Available"),d())}function $U(n,t){if(n&1&&(u(0,"i",32),p(1,"\u2605"),d()),n&2){let e=t.$index,i=w().$implicit;x("ngClass",Yr(1,Ik,e<i.averageRating,e>=i.averageRating))}}function GU(n,t){if(n&1&&(u(0,"div",23)(1,"div",24),M(2,"img",25),u(3,"div",26)(4,"div",27),p(5),d(),u(6,"div",28),p(7),d(),u(8,"div",28),p(9),d(),u(10,"div",29),p(11),d(),u(12,"div",30)(13,"span",31),ue(14,$U,2,4,"i",32,Ge),d()(),u(16,"div",33),p(17),d()()()()),n&2){let e=t.$implicit,i=t.$index;m(),rn("--card-index: ",i,";"),m(),Gs("alt",e.guideName),x("src",e.photoUrls[0],ce),m(3),A(e.guideName),m(2),T("Speaks: ",e.languages||"N/A",""),m(2),T("Areas: ",e.areasCovered||"N/A",""),m(2),T("$",e.pricePerHour,"/hr"),m(3),fe(cn(10,Ok).constructor(5)),m(3),A(e.contactEmail||"N/A")}}function WU(n,t){if(n&1&&(u(0,"div",19)(1,"h2",20),p(2,"Top Tour Guides "),u(3,"button",21),p(4,"View More"),d()(),u(5,"div",22),ue(6,GU,18,11,"div",23,jU),d()()),n&2){let e=w(2);m(6),fe(e.topTourGuides)}}function qU(n,t){if(n&1&&S(0,zU,2,0,"h2",18)(1,WU,8,0,"div",19),n&2){let e=w();ze(e.topTourGuides.length===0?0:1)}}function YU(n,t){n&1&&(u(0,"div",34),M(1,"mat-progress-spinner",35),d())}function KU(n,t){n&1&&(u(0,"div",34),M(1,"mat-progress-spinner",35),d())}function ZU(n,t){n&1&&(u(0,"h2",18),p(1,"No Tour Packages Are Available"),d())}function QU(n,t){if(n&1&&(u(0,"div",23)(1,"div",38),M(2,"img",25),u(3,"div",26)(4,"div",27),p(5),d(),u(6,"div",28),p(7),_t(8,"slice"),d(),u(9,"div",28),p(10),d(),u(11,"div",29),p(12),d(),u(13,"div",28),p(14),d()()()()),n&2){let e=t.$implicit,i=t.$index;m(),rn("--card-index: ",i,";"),m(),Gs("alt",e.packageName),x("src",e.photoUrls[0],ce),m(3),A(e.packageName),m(2),T("",Gp(8,10,e.description,0,80),"..."),m(3),T("Duration: ",e.durationDays," days"),m(2),T("$",e.price,""),m(2),T("By: ",e.companyName,"")}}function XU(n,t){if(n&1&&(u(0,"div",36)(1,"h2",20),p(2,"Top Packages "),u(3,"button",37),p(4,"View More"),d()(),u(5,"div",22),ue(6,QU,15,14,"div",23,HU),d()()),n&2){let e=w(2);m(6),fe(e.topTourPackages)}}function JU(n,t){if(n&1&&S(0,ZU,2,0,"h2",18)(1,XU,8,0,"div",36),n&2){let e=w();ze(e.topTourPackages.length===0?0:1)}}function ez(n,t){n&1&&(u(0,"div",34),M(1,"mat-progress-spinner",35),d())}function tz(n,t){n&1&&(u(0,"div",34),M(1,"mat-progress-spinner",35),d())}function nz(n,t){n&1&&(u(0,"h2",18),p(1,"No Hotels Are Available"),d())}function iz(n,t){if(n&1&&(u(0,"i",32),p(1,"\u2605"),d()),n&2){let e=t.$index,i=w().$implicit;x("ngClass",Yr(1,Ik,e<i.rating,e>=i.rating))}}function oz(n,t){if(n&1&&(u(0,"div",23)(1,"div",41),M(2,"img",25),u(3,"div",26)(4,"div",42),p(5),d(),u(6,"div",43),p(7),_t(8,"slice"),d(),u(9,"div",43),p(10),d(),u(11,"div",44),p(12),d(),u(13,"div",45)(14,"span",31),ue(15,iz,2,4,"i",32,Ge),d()(),u(17,"div",46),p(18),d()()()()),n&2){let e=t.$implicit,i=t.$index;m(),rn("--card-index: ",i,";"),m(),Gs("alt",e.hotelName),x("src",e.photoUrls[0],ce),m(3),A(e.hotelName),m(2),T("",Gp(8,11,e.description,0,80),"..."),m(3),Ao("Rooms Available: ",e.availableRooms,"/",e.totalRooms,""),m(2),A(e.address),m(3),fe(cn(15,Ok).constructor(5)),m(3),A(e.contactPhone||"N/A")}}function rz(n,t){if(n&1&&(u(0,"div",39)(1,"h2",20),p(2,"Top Hotels "),u(3,"button",40),p(4,"View More"),d()(),u(5,"div",22),ue(6,oz,19,16,"div",23,UU),d()()),n&2){let e=w(2);m(6),fe(e.topHotels)}}function sz(n,t){if(n&1&&S(0,nz,2,0,"h2",18)(1,rz,8,0,"div",39),n&2){let e=w();ze(e.topHotels.length===0?0:1)}}function az(n,t){n&1&&(u(0,"div",34),M(1,"mat-progress-spinner",35),d())}function lz(n,t){n&1&&(u(0,"div",34),M(1,"mat-progress-spinner",35),d())}function cz(n,t){if(n&1&&(gn(),u(0,"svg",49),M(1,"path",52),d()),n&2){let e=t.$index,i=w().$implicit;x("ngClass",Yr(1,VU,e<i.rating,e>=i.rating))}}function dz(n,t){if(n&1&&(u(0,"div",10)(1,"div",47)(2,"div",48)(3,"p"),p(4),_t(5,"slice"),d()(),u(6,"div",31),ue(7,cz,2,4,":svg:svg",49,Ge),u(9,"span",50),p(10),d()(),u(11,"div",51)(12,"p"),p(13),d()()()()),n&2){let e=t.$implicit,i=t.$index;m(),rn("--card-index: ",i,";"),m(3),T("",Gp(5,6,e.comment,0,150),"..."),m(3),fe(cn(10,LU)),m(3),T("(",e.rating,")"),m(3),A(e.reviewDate.split("T")[0])}}var jd=class n{constructor(t,e){this.route=t;this.router=e}isPackagesReqFinished=!1;isHotelsReqFinished=!1;isGuidesReqFinished=!1;selectedImage=0;ngOnInit(){this.slideThroughImage(),this.guideService.getTopTourGuides().subscribe({next:t=>{this.topTourGuides=t,this.isGuidesReqFinished=!0,this.topTourGuides=this.topTourGuides.sort((e,i)=>i.averageRating-e.averageRating),this.guidesNumber=this.topTourGuides.length,this.topTourGuides=this.topTourGuides.slice(0,3),console.log(this.topTourGuides)}}),this.packageService.getTopPackages().subscribe({next:t=>{this.topTourPackages=t,this.isPackagesReqFinished=!0,this.topTourPackages=this.topTourPackages.sort((e,i)=>i.price-e.price),this.packagesNumber=this.topTourPackages.length,this.topTourPackages=this.topTourPackages.slice(0,3),console.log(this.topTourPackages)}}),this.hotelService.getTopHotels().subscribe({next:t=>{this.topHotels=t,this.isHotelsReqFinished=!0,this.topHotels=this.topHotels.sort((e,i)=>i.rating-e.rating),this.hotelsNumber=this.topHotels.length,this.topHotels=this.topHotels.slice(0,3),console.log(this.topHotels)}}),this.hotelService.getTopReviews().subscribe({next:t=>{this.topReviews=t,this.topReviews=this.topReviews.sort((e,i)=>i.rating-e.rating),this.topReviews=this.topReviews.slice(0,3)}}),this.guideService.getTopTourGuides(),this.packageService.getTopPackages(),this.hotelService.getTopHotels(),this.hotelService.getTopReviews()}topTourGuides=[];topTourPackages=[];topHotels=[];topReviews=[];hotelService=y(Un);packageService=y(Ho);guideService=y(Uo);hotelsNumber=0;guidesNumber=0;packagesNumber=0;sliderData=[{title:"Visit great places in Egypt",image:"/images/pyramids.jpeg"},{title:"Where you see incredible views",image:"/images/stanley.jpeg"},{title:"And Take a look through history",image:"/images/temple.jpg"}];slideThroughImage(){setInterval(()=>{this.selectedImage=++this.selectedImage%3},2e3)}moveToNextImage(){this.selectedImage=++this.selectedImage%3}moveToPreImage(){this.selectedImage=--this.selectedImage%3}static \u0275fac=function(e){return new(e||n)(D(Se),D(ee))};static \u0275cmp=F({type:n,selectors:[["app-home"]],decls:52,vars:8,consts:[[3e3,null],[1,"container","my-4"],[1,"slider-photo"],["width","100%","height","400px",1,"slider-image",3,"src"],[1,"fa-solid","fa-chevron-left","slider-arrow",2,"position","absolute","top","50%","transform","translateY(-50%)","left","15px","color","white","cursor","pointer",3,"click"],[1,"slider-title",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)","color","white","text-shadow","2px 2px 4px rgba(0, 0, 0, 0.5)"],[1,"fa-solid","fa-chevron-right","slider-arrow",2,"position","absolute","top","50%","transform","translateY(-50%)","right","15px","color","white","cursor","pointer",3,"click"],[1,"testimonials","mt-5"],[1,"text-center","fade-in","section-heading"],[1,"row","mt-5"],[1,"col-12","my-3"],[1,"stats","mt-5"],[1,"row","g-5"],[1,"col"],[1,"card","px-4","pt-2","bounce-in","rotate-in",2,"--card-index","0"],[1,"card","px-4","pt-2","bounce-in","rotate-in",2,"--card-index","1"],[1,"card","px-4","pt-2","bounce-in","rotate-in",2,"--card-index","2"],[1,"text-center","mt-5","fade-in-out"],[1,"mx-auto","fade-in","text-center"],[1,"top-tour-guides","mt-5","fade-in-up"],[1,"text-center","mb-4","section-heading"],["routerLink","/tour-guides",1,"text-btn","fancy-btn"],[1,"row","g-4"],[1,"col-6","col-md-4"],[1,"tour-guide-card","card-animated","cascade-card"],[1,"tour-guide","img-fluid",3,"src","alt"],[1,"card-content"],[1,"tour-guide-name"],[1,"tour-guide-info"],[1,"tour-guide-price"],[1,"tour-guide-rating"],[1,"rating-stars"],[3,"ngClass"],[1,"tour-guide-contact"],[1,"loading-spinner","mx-auto"],["mode","indeterminate","diameter","40","color","accent"],[1,"top-tour-packages","mt-5","fade-in-up"],["routerLink","/tour-packages",1,"text-btn","fancy-btn"],[1,"tour-package-card","card-animated","cascade-card"],[1,"top-hotels","mt-5","fade-in-up"],["routerLink","/hotel-reservation",1,"text-btn","fancy-btn"],[1,"hotel-card","card-animated","cascade-card"],[1,"hotel-name"],[1,"hotel-info"],[1,"hotel-address"],[1,"hotel-rating"],[1,"hotel-contact"],[1,"testimonial-card","card-animated","cascade-card"],[1,"testimonial-content"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 24 24",3,"ngClass"],[1,"rating-value"],[1,"testimonial-date"],["d","M12 .587l3.668 7.568L24 9.75l-6 5.797L19.335 24 12 19.897 4.665 24 6 15.547 0 9.75l8.332-1.595z"]],template:function(e,i){e&1&&(M(0,"app-navbar"),u(1,"div",1)(2,"div",2),M(3,"img",3),u(4,"i",4),I("click",function(){return i.moveToPreImage()}),d(),u(5,"h2",5),p(6),d(),u(7,"i",6),I("click",function(){return i.moveToNextImage()}),d()(),S(8,qU,2,1)(9,YU,2,0)(10,KU,2,0),Ee(11,8,RU,9,10,null,0,null,Me),S(13,JU,2,1)(14,ez,2,0)(15,tz,2,0),Ee(16,13,NU,14,15,null,0,null,Me),S(18,sz,2,1)(19,az,2,0)(20,lz,2,0),Ee(21,18,FU,19,20,null,0,null,Me),u(23,"div",7)(24,"h2",8),p(25,"Testimonials"),d(),u(26,"div",9),ue(27,dz,14,11,"div",10,BU),d()(),u(29,"div",11)(30,"div",12)(31,"div",13)(32,"div",14)(33,"h2"),p(34,"Hotels"),d(),u(35,"p"),p(36),d()()(),u(37,"div",13)(38,"div",15)(39,"h2"),p(40,"Tour Guides"),d(),u(41,"p"),p(42),d()()(),u(43,"div",13)(44,"div",16)(45,"h2"),p(46,"Packages"),d(),u(47,"p"),p(48),d()()()()(),u(49,"footer",17)(50,"p"),p(51,"\xA9 2025 EgyptTrip. All rights reserved."),d()()()),e&2&&(m(3),x("src",i.sliderData[i.selectedImage].image,ce),m(3),T(" ",i.sliderData[i.selectedImage].title," "),m(5),De(i.isGuidesReqFinished),m(5),De(i.isPackagesReqFinished),m(5),De(i.isHotelsReqFinished),m(6),fe(i.topReviews),m(9),A(i.hotelsNumber),m(6),A(i.guidesNumber),m(6),A(i.packagesNumber))},dependencies:[St,J,Et,td,yn,Pt],styles:['.container[_ngcontent-%COMP%]{padding:0;min-height:calc(100vh - 100px);overflow-y:auto;position:relative}.slider-photo[_ngcontent-%COMP%]{position:relative;margin-bottom:40px;border-radius:15px;overflow:hidden;box-shadow:0 12px 35px #00000026;border:2px solid goldenrod}.slider-photo[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(0deg,rgba(0,0,0,.35) 0%,transparent 70%);z-index:1}.slider-image[_ngcontent-%COMP%]{object-fit:cover;transition:opacity .5s ease,transform .5s ease;height:400px}.slider-image[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.slider-arrow[_ngcontent-%COMP%]{font-size:26px;cursor:pointer;z-index:10;transition:color .3s ease,transform .3s ease;padding:12px;background:#00000040;border-radius:50%;box-shadow:0 2px 10px #0000001a;border:1px solid goldenrod}.slider-arrow[_ngcontent-%COMP%]:hover{color:#daa520;transform:scale(1.2);background:#00000059}.slider-title[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseText 2s ease-in-out infinite;border-bottom:2px solid goldenrod;padding-bottom:5px}.section-heading[_ngcontent-%COMP%]{font-weight:700;color:#000;border-left:6px solid goldenrod;padding-left:18px;position:relative;animation:_ngcontent-%COMP%_fadeInSlide 1.2s ease-out;background:linear-gradient(to right,rgba(212,160,23,.1),transparent)}.section-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-6px;left:0;width:60px;height:4px;background:#daa520;transition:width .4s ease}.section-heading[_ngcontent-%COMP%]:hover:after{width:120px}.fade-in-up[_ngcontent-%COMP%], .card-animated[_ngcontent-%COMP%], .bounce-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1.2s ease-out;animation-fill-mode:both}.cascade-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cascadeIn 1s ease-out;animation-delay:calc(var(--card-index) * .15s)}.card-animated[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f5f5f5f2);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:1.5rem;box-shadow:0 8px 25px #0000001f;transition:transform .5s cubic-bezier(.4,0,.2,1),box-shadow .5s ease;overflow:hidden;padding:20px;animation-delay:calc(var(--card-index) * .25s);border:2px solid goldenrod;display:flex;flex-direction:column;min-height:400px}.card-animated[_ngcontent-%COMP%]:hover{transform:translateY(-12px) scale(1.04);box-shadow:0 12px 40px #d4a01740}.card-animated[_ngcontent-%COMP%]:hover   .tour-guide[_ngcontent-%COMP%], .card-animated[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}.card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px;overflow:hidden}.rotate-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotateIn 1.2s ease-out}.tour-guide[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{border-radius:1rem 1rem 0 0;transition:transform .4s ease-in-out,filter .4s ease;width:100%;height:200px;object-fit:cover}.tour-guide[_ngcontent-%COMP%]:hover, img[_ngcontent-%COMP%]:hover{filter:brightness(1.15)}.tour-guide-name[_ngcontent-%COMP%], .tour-guide-price[_ngcontent-%COMP%], .hotel-name[_ngcontent-%COMP%], .hotel-address[_ngcontent-%COMP%], .tour-guide-info[_ngcontent-%COMP%], .hotel-info[_ngcontent-%COMP%], .hotel-contact[_ngcontent-%COMP%], .tour-guide-contact[_ngcontent-%COMP%]{margin-top:.5rem;font-weight:600;font-size:1rem;color:#333;text-shadow:1px 1px 3px rgba(0,0,0,.1);padding:0 10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tour-guide-info[_ngcontent-%COMP%], .hotel-info[_ngcontent-%COMP%], .hotel-contact[_ngcontent-%COMP%], .tour-guide-contact[_ngcontent-%COMP%]{font-size:.9rem;color:#555;font-weight:500}.tour-guide-price[_ngcontent-%COMP%]{color:#28a745;font-weight:700;font-size:1.1rem}.rating-stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .rating-stars[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:inline;margin-right:5px;transition:transform .3s ease,color .3s ease}.rating-stars[_ngcontent-%COMP%]   i.text-warning[_ngcontent-%COMP%], .rating-stars[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{display:inline;color:#f7c948}.rating-stars[_ngcontent-%COMP%]   i.text-secondary[_ngcontent-%COMP%], .rating-stars[_ngcontent-%COMP%]   svg.empty[_ngcontent-%COMP%]{display:inline;color:#dcdcdc}.rating-stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, .rating-stars[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{transform:scale(1.3);color:#daa520!important}.rating-value[_ngcontent-%COMP%]{margin-left:8px;color:#666;font-weight:500;font-size:.9rem}.text-btn.fancy-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#daa520,#d4a017);color:#fff;padding:10px 25px;border:2px solid goldenrod;border-radius:25px;font-size:14px;font-weight:600;transition:transform .5s ease-in-out,background .5s ease,box-shadow .5s ease;position:absolute;right:20px;top:-10px;box-shadow:0 4px 15px #00000026}.text-btn.fancy-btn[_ngcontent-%COMP%]:hover{transform:translate(-15px) scale(1.06);background:linear-gradient(135deg,#e6b800,#d4a017);box-shadow:0 6px 20px #d4a01759}.text-btn.fancy-btn[_ngcontent-%COMP%]:active{transform:translate(-15px) scale(.98);box-shadow:0 2px 8px #0003}.testimonial-card[_ngcontent-%COMP%]{padding:30px;background:linear-gradient(135deg,#fff,#f9f9f9);border-radius:1.5rem;box-shadow:0 8px 25px #0000001a;transition:transform .5s ease-in-out,box-shadow .5s ease;width:100%;border:2px solid goldenrod;min-height:200px}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 40px #00000026}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;font-size:1rem;color:#444;line-height:1.7;padding:0 15px;overflow:hidden;text-overflow:ellipsis}.testimonial-date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#adb5bd;margin-top:1rem;font-style:italic;padding:0 10px}.stats[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffffff2,#f0f0f0f2);border-radius:1.25rem;padding:25px;text-align:center;transition:transform .5s ease-in-out,box-shadow .5s ease;box-shadow:0 6px 20px #0000001a;width:100%;border:2px solid goldenrod}.stats[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 10px 35px #d4a01733}.stats[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;color:#000;margin-bottom:15px;text-transform:uppercase;font-weight:700}.stats[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;color:#daa520;text-shadow:1px 1px 4px rgba(0,0,0,.1);padding:0 10px}footer[_ngcontent-%COMP%]{padding:25px 0;background:linear-gradient(135deg,#f8f9fa,#e9ecef);color:#666;border-top:2px solid goldenrod;font-size:.9rem}.fade-in-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInOut 3s ease-in-out infinite}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px;animation:_ngcontent-%COMP%_bounceIn 1.4s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulseText{0%,to{transform:translate(-50%,-50%) scale(1);text-shadow:2px 2px 4px rgba(0,0,0,.5)}50%{transform:translate(-50%,-50%) scale(1.05);text-shadow:3px 3px 6px rgba(0,0,0,.7),0 0 10px goldenrod}}@keyframes _ngcontent-%COMP%_cascadeIn{0%{opacity:0;transform:translateY(50px) rotate(5deg)}to{opacity:1;transform:translateY(0) rotate(0)}}@keyframes _ngcontent-%COMP%_rotateIn{0%{opacity:0;transform:rotate(-15deg) scale(.8)}to{opacity:1;transform:rotate(0) scale(1)}}@keyframes _ngcontent-%COMP%_fadeInOut{0%,to{opacity:.8}50%{opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInSlide{0%{opacity:0;transform:translate(-25px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{transform:translateY(40px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_bounceIn{0%,20%,40%,60%,80%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:scale3d(.3,.3,.3)}20%{transform:scale3d(1.1,1.1,1.1)}40%{transform:scale3d(.9,.9,.9)}60%{opacity:1;transform:scale3d(1.05,1.05,1.05)}80%{transform:scale3d(.95,.95,.95)}to{opacity:1;transform:scaleZ(1)}}@media (max-width: 768px){.tour-guide[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{height:150px}.col-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}.text-btn.fancy-btn[_ngcontent-%COMP%]{position:relative;margin-top:15px;display:block;width:fit-content;margin-left:auto;margin-right:auto}.stats[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:25px}.slider-image[_ngcontent-%COMP%]{height:250px}.section-heading[_ngcontent-%COMP%]{font-size:1.4rem}.card-animated[_ngcontent-%COMP%]{min-height:450px}}@media (max-width: 576px){.col-6[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.stats[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.stats[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:90%;margin-bottom:20px}.card-animated[_ngcontent-%COMP%], .testimonial-card[_ngcontent-%COMP%]{padding:15px;min-height:500px}.tour-guide[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{height:120px}}']})};var zo=class n{constructor(t){this.http=t}apiUrl="https://fizo.runasp.net/api/TourGuides";getAllTourGuides(){return this.http.get(this.apiUrl).pipe(we(t=>console.log("API Response (GetAllTourGuides):",t)),ht(this.handleError))}getTourGuideById(t){return this.http.get(`${this.apiUrl}/${t}`).pipe(we(e=>console.log("API Response (GetTourGuideById):",e)),ht(this.handleError))}handleError(t){let e="An error occurred while fetching tour guide data.";return t.error instanceof ErrorEvent?e=`Client Error: ${t.error.message}`:(t.status===400||t.status===404)&&t.error.Errors?e=`Server Error: ${t.error.Errors.join(", ")}`:e=`Error Code: ${t.status}
Message: ${t.message}`,console.error("API Error:",e),Nn(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var jk=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(D(jn),D(ot))};static \u0275dir=$e({type:n})}return n})(),xm=(()=>{class n extends jk{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275dir=$e({type:n,features:[Qt]})}return n})(),Nl=new z("");var fz={provide:Nl,useExisting:Ci(()=>Xe),multi:!0};function pz(){let n=Ei()?Ei().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var hz=new z(""),Xe=(()=>{class n extends jk{_compositionMode;_composing=!1;constructor(e,i,o){super(e,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!pz())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(D(jn),D(ot),D(hz,8))};static \u0275dir=$e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&I("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[En([fz]),Qt]})}return n})();function ZC(n){return n==null||QC(n)===0}function QC(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var qd=new z(""),wm=new z(""),mz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Cn=class{static min(t){return gz(t)}static max(t){return _z(t)}static required(t){return Hk(t)}static requiredTrue(t){return vz(t)}static email(t){return bz(t)}static minLength(t){return yz(t)}static maxLength(t){return Cz(t)}static pattern(t){return xz(t)}static nullValidator(t){return fm()}static compose(t){return qk(t)}static composeAsync(t){return Yk(t)}};function gz(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function _z(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Hk(n){return ZC(n.value)?{required:!0}:null}function vz(n){return n.value===!0?null:{required:!0}}function bz(n){return ZC(n.value)||mz.test(n.value)?null:{email:!0}}function yz(n){return t=>{let e=t.value?.length??QC(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function Cz(n){return t=>{let e=t.value?.length??QC(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function xz(n){if(!n)return fm;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ZC(i.value))return null;let o=i.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function fm(n){return null}function Uk(n){return n!=null}function zk(n){return $s(n)?bt(n):n}function $k(n){let t={};return n.forEach(e=>{t=e!=null?B(B({},t),e):t}),Object.keys(t).length===0?null:t}function Gk(n,t){return t.map(e=>e(n))}function wz(n){return!n.validate}function Wk(n){return n.map(t=>wz(t)?t:e=>t.validate(e))}function qk(n){if(!n)return null;let t=n.filter(Uk);return t.length==0?null:function(e){return $k(Gk(e,t))}}function XC(n){return n!=null?qk(Wk(n)):null}function Yk(n){if(!n)return null;let t=n.filter(Uk);return t.length==0?null:function(e){let i=Gk(e,t).map(zk);return d_(i).pipe(ve($k))}}function JC(n){return n!=null?Yk(Wk(n)):null}function kk(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Kk(n){return n._rawValidators}function Zk(n){return n._rawAsyncValidators}function qC(n){return n?Array.isArray(n)?n:[n]:[]}function pm(n,t){return Array.isArray(n)?n.includes(t):n===t}function Tk(n,t){let e=qC(t);return qC(n).forEach(o=>{pm(e,o)||e.push(o)}),e}function Ak(n,t){return qC(t).filter(e=>!pm(n,e))}var hm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=XC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=JC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Sr=class extends hm{name;get formDirective(){return null}get path(){return null}},ma=class extends hm{_parent=null;name=null;valueAccessor=null},mm=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Mz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Vge=pe(B({},Mz),{"[class.ng-submitted]":"isSubmitted"}),Pe=(()=>{class n extends mm{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(D(ma,2))};static \u0275dir=$e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&tt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Qt]})}return n})(),qe=(()=>{class n extends mm{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(D(Sr,10))};static \u0275dir=$e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&tt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Qt]})}return n})();var Hd="VALID",um="INVALID",kl="PENDING",Ud="DISABLED",rs=class{},gm=class extends rs{value;source;constructor(t,e){super(),this.value=t,this.source=e}},$d=class extends rs{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Gd=class extends rs{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Tl=class extends rs{status;source;constructor(t,e){super(),this.status=t,this.source=e}},_m=class extends rs{source;constructor(t){super(),this.source=t}},vm=class extends rs{source;constructor(t){super(),this.source=t}};function e1(n){return(Mm(n)?n.validators:n)||null}function Ez(n){return Array.isArray(n)?XC(n):n||null}function t1(n,t){return(Mm(t)?t.asyncValidators:n)||null}function Dz(n){return Array.isArray(n)?JC(n):n||null}function Mm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Qk(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new H(1e3,"");if(!i[e])throw new H(1001,"")}function Xk(n,t,e){n._forEachChild((i,o)=>{if(e[o]===void 0)throw new H(1002,"")})}var Al=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ri(this.statusReactive)}set status(t){Ri(()=>this.statusReactive.set(t))}_status=qs(()=>this.statusReactive());statusReactive=Ai(void 0);get valid(){return this.status===Hd}get invalid(){return this.status===um}get pending(){return this.status==kl}get disabled(){return this.status===Ud}get enabled(){return this.status!==Ud}errors;get pristine(){return Ri(this.pristineReactive)}set pristine(t){Ri(()=>this.pristineReactive.set(t))}_pristine=qs(()=>this.pristineReactive());pristineReactive=Ai(!0);get dirty(){return!this.pristine}get touched(){return Ri(this.touchedReactive)}set touched(t){Ri(()=>this.touchedReactive.set(t))}_touched=qs(()=>this.touchedReactive());touchedReactive=Ai(!1);get untouched(){return!this.touched}_events=new le;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Tk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Tk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ak(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ak(t,this._rawAsyncValidators))}hasValidator(t){return pm(this._rawValidators,t)}hasAsyncValidator(t){return pm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(pe(B({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Gd(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new Gd(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(pe(B({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new $d(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new $d(!0,i))}markAsPending(t={}){this.status=kl;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Tl(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(pe(B({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ud,this.errors=null,this._forEachChild(o=>{o.disable(pe(B({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gm(this.value,i)),this._events.next(new Tl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(B({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Hd,this._forEachChild(i=>{i.enable(pe(B({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(pe(B({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hd||this.status===kl)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gm(this.value,e)),this._events.next(new Tl(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(pe(B({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ud:Hd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=kl,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=zk(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Tl(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?Ud:this.errors?um:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kl)?kl:this._anyControlsHaveStatus(um)?um:Hd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new $d(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Gd(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Mm(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Ez(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Dz(this._rawAsyncValidators)}},Rl=class extends Al{constructor(t,e,i){super(e1(e),t1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Xk(this,!0,t),Object.keys(t).forEach(i=>{Qk(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let o=this.controls[i];o&&o.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,o)=>{i.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,o)=>((i.enabled||this.disabled)&&(e[o]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((o,r)=>{i=e(i,o,r)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var YC=class extends Rl{};var Yd=new z("",{providedIn:"root",factory:()=>Em}),Em="always";function Jk(n,t){return[...t.path,n]}function bm(n,t,e=Em){n1(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Pz(n,t),Iz(n,t),Oz(n,t),Sz(n,t)}function Rk(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Cm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ym(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Sz(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function n1(n,t){let e=Kk(n);t.validator!==null?n.setValidators(kk(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=Zk(n);t.asyncValidator!==null?n.setAsyncValidators(kk(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let o=()=>n.updateValueAndValidity();ym(t._rawValidators,o),ym(t._rawAsyncValidators,o)}function Cm(n,t){let e=!1;if(n!==null){if(t.validator!==null){let o=Kk(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.validator);r.length!==o.length&&(e=!0,n.setValidators(r))}}if(t.asyncValidator!==null){let o=Zk(n);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==t.asyncValidator);r.length!==o.length&&(e=!0,n.setAsyncValidators(r))}}}let i=()=>{};return ym(t._rawValidators,i),ym(t._rawAsyncValidators,i),e}function Pz(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&eT(n,t)})}function Oz(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&eT(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function eT(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Iz(n,t){let e=(i,o)=>{t.valueAccessor.writeValue(i),o&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function tT(n,t){n==null,n1(n,t)}function kz(n,t){return Cm(n,t)}function nT(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Tz(n){return Object.getPrototypeOf(n.constructor)===xm}function iT(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function oT(n,t){if(!t)return null;Array.isArray(t);let e,i,o;return t.forEach(r=>{r.constructor===Xe?e=r:Tz(r)?i=r:o=r}),o||i||e||null}function Az(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var Rz={provide:Sr,useExisting:Ci(()=>wt)},zd=Promise.resolve(),wt=(()=>{class n extends Sr{callSetDisabledState;get submitted(){return Ri(this.submittedReactive)}_submitted=qs(()=>this.submittedReactive());submittedReactive=Ai(!1);_directives=new Set;form;ngSubmit=new gt;options;constructor(e,i,o){super(),this.callSetDisabledState=o,this.form=new Rl({},XC(e),JC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zd.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),bm(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zd.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){zd.then(()=>{let i=this._findContainer(e.path),o=new Rl({});tT(o,e),i.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zd.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){zd.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),iT(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new _m(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new vm(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(D(qd,10),D(wm,10),D(Yd,8))};static \u0275dir=$e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&I("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[En([Rz]),Qt]})}return n})();function Nk(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Fk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Wd=class extends Al{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(e1(e),t1(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Fk(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Nk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Nk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Fk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Nz=n=>n instanceof Wd;var Fz={provide:ma,useExisting:Ci(()=>et)},Lk=Promise.resolve(),et=(()=>{class n extends ma{_changeDetectorRef;callSetDisabledState;control=new Wd;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new gt;constructor(e,i,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=oT(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),nT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Lk.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,o=i!==0&&ro(i);Lk.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Jk(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(D(Sr,9),D(qd,10),D(wm,10),D(Nl,10),D(oo,8),D(Yd,8))};static \u0275dir=$e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[En([Fz]),Qt,Fn]})}return n})();var Ye=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=$e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),Lz={provide:Nl,useExisting:Ci(()=>Pn),multi:!0},Pn=(()=>{class n extends xm{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275dir=$e({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&I("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[En([Lz]),Qt]})}return n})();var rT=new z("");var Vz={provide:Sr,useExisting:Ci(()=>po)},po=(()=>{class n extends Sr{callSetDisabledState;get submitted(){return Ri(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=qs(()=>this._submittedReactive());_submittedReactive=Ai(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new gt;constructor(e,i,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return bm(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Rk(e.control||null,e,!1),Az(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),iT(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new _m(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new vm(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,o=this.form.get(e.path);i!==o&&(Rk(i||null,e),Nz(o)&&(bm(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);tT(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&kz(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){n1(this.form,this),this._oldForm&&Cm(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(D(qd,10),D(wm,10),D(Yd,8))};static \u0275dir=$e({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&I("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[En([Vz]),Qt,Fn]})}return n})();var Bz={provide:ma,useExisting:Ci(()=>ho)},ho=(()=>{class n extends ma{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new gt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,o,r,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=oT(this,r)}ngOnChanges(e){this._added||this._setUpControl(),nT(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Jk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(D(Sr,13),D(qd,10),D(wm,10),D(Nl,10),D(rT,8))};static \u0275dir=$e({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[En([Bz]),Qt,Fn]})}return n})();var jz={provide:Nl,useExisting:Ci(()=>pi),multi:!0};function sT(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function Hz(n){return n.split(":")[0]}var pi=(()=>{class n extends xm{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i=this._getOptionId(e),o=sT(i,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=Hz(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275dir=$e({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&I("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[En([jz]),Qt]})}return n})(),Bi=(()=>{class n{_element;_renderer;_select;id;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(sT(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(D(ot),D(jn),D(pi,9))};static \u0275dir=$e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Uz={provide:Nl,useExisting:Ci(()=>aT),multi:!0};function Vk(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function zz(n){return n.split(":")[0]}var aT=(()=>{class n extends xm{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let i;if(Array.isArray(e)){let o=e.map(r=>this._getOptionId(r));i=(r,s)=>{r._setSelected(o.indexOf(s.toString())>-1)}}else i=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let o=[],r=i.selectedOptions;if(r!==void 0){let s=r;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);o.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,e(o)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=zz(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275dir=$e({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&I("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[En([Uz]),Qt]})}return n})(),ji=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,i,o){this._element=e,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Vk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Vk(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(D(ot),D(jn),D(aT,9))};static \u0275dir=$e({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var $z=(()=>{class n{_validator=fm;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):fm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=$e({type:n,features:[Fn]})}return n})();var Gz={provide:qd,useExisting:Ci(()=>Kt),multi:!0};var Kt=(()=>{class n extends $z{required;inputName="required";normalizeInput=ro;createValidator=e=>Hk;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Vn(n)))(o||n)}})();static \u0275dir=$e({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&qt("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[En([Gz]),Qt]})}return n})();var lT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({})}return n})(),KC=class extends Al{constructor(t,e,i){super(e1(e),t1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Xk(this,!1,t),t.forEach((i,o)=>{Qk(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,o)=>{i.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Bk(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var $o=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let o=this._reduceControls(e),r={};return Bk(i)?r=i:i!==null&&(r.validators=i.validator,r.asyncValidators=i.asyncValidator),new Rl(o,r)}record(e,i=null){let o=this._reduceControls(e);return new YC(o,i)}control(e,i,o){let r={};return this.useNonNullable?(Bk(i)?r=i:(r.validators=i,r.asyncValidators=o),new Wd(e,pe(B({},r),{nonNullable:!0}))):new Wd(e,i,o)}array(e,i,o){let r=e.map(s=>this._createControl(s));return new KC(r,i,o)}_reduceControls(e){let i={};return Object.keys(e).forEach(o=>{i[o]=this._createControl(e[o])}),i}_createControl(e){if(e instanceof Wd)return e;if(e instanceof Al)return e;if(Array.isArray(e)){let i=e[0],o=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(i,o,r)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ke=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Yd,useValue:e.callSetDisabledState??Em}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({imports:[lT]})}return n})(),Go=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:rT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Yd,useValue:e.callSetDisabledState??Em}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({imports:[lT]})}return n})();var Wz=n=>["/tour-guide-details",n];function qz(n,t){if(n&1&&(u(0,"div",12),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function Yz(n,t){n&1&&(u(0,"div",13),p(1,"No tour guides available."),d())}function Kz(n,t){if(n&1&&(u(0,"option",14),p(1),d()),n&2){let e=t.$implicit;x("value",e),m(),A(e)}}function Zz(n,t){n&1&&(u(0,"div",28),p(1," No images available "),d())}function Qz(n,t){if(n&1){let e=U();u(0,"div",31)(1,"button",32),I("click",function(){P(e);let o=w(2).index,r=w();return O(r.prevImage(o))}),p(2,"\u276E"),d(),u(3,"button",33),I("click",function(){P(e);let o=w(2).index,r=w();return O(r.nextImage(o))}),p(4,"\u276F"),d()()}}function Xz(n,t){if(n&1&&(u(0,"div"),M(1,"img",29),S(2,Qz,5,0,"div",30),d()),n&2){let e=w(),i=e.$implicit,o=e.index,r=w();m(),x("src",i.photoUrls[r.currentImageIndices[o]||0],ce),m(),x("ngIf",i.photoUrls.length>1)}}function Jz(n,t){n&1&&M(0,"i",34)}function e7(n,t){n&1&&M(0,"i",35)}function t7(n,t){if(n&1&&(u(0,"div",15)(1,"div",16),S(2,Zz,2,0,"div",17)(3,Xz,3,2,"div",18),d(),u(4,"div",19)(5,"h3",20),p(6),d(),u(7,"p",21)(8,"strong"),p(9,"Languages:"),d(),p(10),d(),u(11,"p",21)(12,"strong"),p(13,"Areas Covered:"),d(),p(14),d(),u(15,"p",21)(16,"strong"),p(17,"Price per Hour:"),d(),p(18),d(),u(19,"p",22)(20,"strong"),p(21,"Availability:"),d(),u(22,"span",23),p(23),M(24,"i",23),d()(),u(25,"div",24),S(26,Jz,1,0,"i",25)(27,e7,1,0,"i",26),u(28,"p"),p(29),d()(),u(30,"button",27),p(31,"View"),d()()()),n&2){let e=t.$implicit,i=w();m(2),x("ngIf",!e.photoUrls||e.photoUrls.length===0),m(),x("ngIf",e.photoUrls&&e.photoUrls.length>0),m(3),A(e.guideName),m(4),T(" ",e.languages,""),m(4),T(" ",e.areasCovered,""),m(4),T(" $",e.pricePerHour,""),m(4),x("ngClass",e.isAvailable?"available":"unavailable"),m(),T(" ",e.isAvailable?"Available":"Not Available"," "),m(),tt("available-icon",e.isAvailable)("unavailable-icon",!e.isAvailable),x("ngClass",e.isAvailable?"fa-solid fa-check":"fa-solid fa-times"),m(2),x("ngForOf",i.getStarRatingArray(e.averageRating)),m(),x("ngForOf",i.getEmptyStarRatingArray(e.averageRating)),m(2),T("(",e.averageRating," Stars)"),m(),x("routerLink",Qe(17,Wz,e.guideID))}}function n7(n,t){n&1&&(u(0,"div",36)(1,"button",37),p(2,"Previous"),d(),u(3,"span",38),p(4,"1"),d(),u(5,"span",39),p(6,"2"),d(),u(7,"span",39),p(8,"3"),d(),u(9,"button",37),p(10,"Next"),d()())}var Dm=class n{constructor(t){this.tourGuideService=t}tourGuides=[];filteredTourGuides=[];availableLanguages=[];selectedLanguage="";errorMessage=null;currentImageIndices=[];currentPage=1;ngOnInit(){this.loadTourGuides()}loadTourGuides(){this.tourGuideService.getAllTourGuides().subscribe({next:t=>{console.log("Tour guides received in AllTourGuidesComponent:",t),this.tourGuides=t,this.filteredTourGuides=t,this.currentImageIndices=new Array(t.length).fill(0),this.extractLanguages(),console.log("Available languages:",this.availableLanguages)},error:t=>{console.error("Error in AllTourGuidesComponent:",t.message),this.errorMessage=t.message}})}extractLanguages(){let t=new Set;this.tourGuides.forEach(e=>{e.languages&&e.languages.split(",").forEach(i=>{let o=i.trim();o&&t.add(o)})}),this.availableLanguages=Array.from(t).sort()}filterTourGuides(){this.selectedLanguage?this.filteredTourGuides=this.tourGuides.filter(t=>t.languages?t.languages.split(",").map(i=>i.trim().toLowerCase()).includes(this.selectedLanguage.toLowerCase()):!1):this.filteredTourGuides=this.tourGuides,console.log("Filtered tour guides:",this.filteredTourGuides)}getStarRatingArray(t){return Array(Math.round(t)).fill(0)}getEmptyStarRatingArray(t){return Array(5-Math.round(t)).fill(0)}prevImage(t){this.filteredTourGuides[t].photoUrls&&this.filteredTourGuides[t].photoUrls.length>0&&(this.currentImageIndices[t]=(this.currentImageIndices[t]-1+this.filteredTourGuides[t].photoUrls.length)%this.filteredTourGuides[t].photoUrls.length)}nextImage(t){this.filteredTourGuides[t].photoUrls&&this.filteredTourGuides[t].photoUrls.length>0&&(this.currentImageIndices[t]=(this.currentImageIndices[t]+1)%this.filteredTourGuides[t].photoUrls.length)}static \u0275fac=function(e){return new(e||n)(D(zo))};static \u0275cmp=F({type:n,selectors:[["app-all-tour-gudies"]],decls:15,vars:6,consts:[[1,"container"],[1,"title"],["class","alert alert-error",4,"ngIf"],["class","alert alert-no-data",4,"ngIf"],[1,"filter-container"],["for","languageFilter",1,"filter-label"],["id","languageFilter",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"guides-list"],["class","guide-item",4,"ngFor","ngForOf"],["class","pagination-section fade-in",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-no-data"],[3,"value"],[1,"guide-item"],[1,"image-slider"],["class","no-image",4,"ngIf"],[4,"ngIf"],[1,"guide-details"],[1,"guide-title"],[1,"guide-detail"],[1,"availability"],[3,"ngClass"],[1,"guide-rating"],["class","fa-solid fa-star",4,"ngFor","ngForOf"],["class","fa-solid fa-star empty-star",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"no-image"],["alt","guide-image",1,"guide-image",3,"src"],["class","slider-controls",4,"ngIf"],[1,"slider-controls"],[1,"slider-btn","prev",3,"click"],[1,"slider-btn","next",3,"click"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star","empty-star"],[1,"pagination-section","fade-in"],[1,"btn","btn-secondary","pulse-hover"],[1,"page-item","active"],[1,"page-item"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h2",1),p(2,"All Tour Guides"),d(),S(3,qz,2,1,"div",2)(4,Yz,2,0,"div",3),u(5,"div",4)(6,"label",5),p(7,"Filter by Language:"),d(),u(8,"select",6),Y("ngModelChange",function(r){return K(i.selectedLanguage,r)||(i.selectedLanguage=r),r}),I("ngModelChange",function(){return i.filterTourGuides()}),u(9,"option",7),p(10,"All"),d(),S(11,Kz,2,2,"option",8),d()(),u(12,"div",9),S(13,t7,32,19,"div",10),d(),S(14,n7,11,0,"div",11),d()),e&2&&(m(3),x("ngIf",i.errorMessage),m(),x("ngIf",i.tourGuides.length===0&&!i.errorMessage),m(4),q("ngModel",i.selectedLanguage),m(3),x("ngForOf",i.availableLanguages),m(2),x("ngForOf",i.filteredTourGuides),m(),x("ngIf",i.filteredTourGuides.length>0))},dependencies:[Le,ie,J,Et,rt,ye,Ke,Bi,ji,pi,Pe,et],styles:['.container[_ngcontent-%COMP%]{max-width:1200px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:#d4a017;margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.alert[_ngcontent-%COMP%]{padding:20px;border-radius:12px;margin-bottom:32px;font-size:1.1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .6s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2;box-shadow:0 4px 12px #9b2c2c1a}.alert.alert-no-data[_ngcontent-%COMP%]{background-color:#f7fafc;color:#4a5568;font-style:italic;border:1px solid #e2e8f0;box-shadow:0 4px 12px #0000000d}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.85)}to{opacity:1;transform:scale(1)}}.filter-container[_ngcontent-%COMP%]{max-width:350px;margin-bottom:32px;animation:_ngcontent-%COMP%_fadeInUp .9s ease-out}.filter-container[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:1.1rem;color:#1a202c;font-weight:600;margin-bottom:10px;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.filter-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:14px;border:1px solid #e2e8f0;border-radius:10px;font-size:1rem;background-color:#fff;transition:all .3s ease;box-shadow:0 2px 4px #0000000d;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.filter-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#d4a017;box-shadow:0 0 0 5px #d4a0174d;outline:none;transform:translateY(-2px)}.filter-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover{border-color:#e6b800}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.guides-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:32px;margin-bottom:32px}.guide-item[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 16px #0000001a;display:flex;flex-direction:column;height:100%;justify-content:space-between;transition:transform .4s ease,box-shadow .4s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.guide-item[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #00000026}.guide-item[_ngcontent-%COMP%]   .guide-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#d4a017;margin-bottom:1rem;font-weight:700;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.image-slider[_ngcontent-%COMP%]{position:relative;width:180px;max-height:120px;aspect-ratio:4/3;overflow:hidden;border-radius:12px;background:#e2e8f0}.image-slider[_ngcontent-%COMP%]   .guide-image[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;transition:transform .5s ease;animation:_ngcontent-%COMP%_imageFadeIn 1s ease-out}.image-slider[_ngcontent-%COMP%]   .guide-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.image-slider[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(145deg,#e2e8f0,#d1d9e6);color:#4a5568;font-size:1rem;font-weight:500;text-align:center;border-radius:12px;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@keyframes _ngcontent-%COMP%_imageFadeIn{0%{opacity:0;filter:blur(6px)}to{opacity:1;filter:blur(0)}}.slider-controls[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;display:flex;justify-content:space-between;transform:translateY(-50%)}.slider-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017cc,#e6b800e6);color:#fff;border:none;padding:8px 12px;border-radius:50%;cursor:pointer;font-size:.9rem;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.slider-btn.prev[_ngcontent-%COMP%]{margin-left:12px}.slider-btn.next[_ngcontent-%COMP%]{margin-right:12px}.slider-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#d4a017,#e6b800);transform:scale(1.15);box-shadow:0 4px 12px #d4a01766}.guide-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between}.guide-details[_ngcontent-%COMP%]   .guide-detail[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:12px}.guide-details[_ngcontent-%COMP%]   .guide-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:12px}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]{color:#2f855a;font-weight:600}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .unavailable[_ngcontent-%COMP%]{color:#9b2c2c;font-weight:600}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .available-icon[_ngcontent-%COMP%]{color:#2f855a;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .unavailable-icon[_ngcontent-%COMP%]{color:#9b2c2c;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}@keyframes _ngcontent-%COMP%_iconPulse{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}.guide-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px}.guide-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d4a017;font-size:1rem;margin-right:6px;animation:_ngcontent-%COMP%_starPulse 1.2s ease-out}.guide-rating[_ngcontent-%COMP%]   i.empty-star[_ngcontent-%COMP%]{color:#e2e8f0}.guide-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#4a5568;margin-left:10px}@keyframes _ngcontent-%COMP%_starPulse{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}.btn[_ngcontent-%COMP%]{width:auto;padding:12px 24px;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .4s ease;animation:_ngcontent-%COMP%_buttonPop .8s ease-out}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-3px);box-shadow:0 6px 20px #d4a01780}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.pagination-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;margin-top:32px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.pagination-section[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{padding:10px 15px;border-radius:8px;background:#fff;color:#1a202c;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000001a;animation:_ngcontent-%COMP%_fadeIn .9s ease-out;animation-delay:calc(var(--item-index) * .1s)}.pagination-section[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:hover{background:#d4a017;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #d4a0174d}.pagination-section[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]{background:#d4a017;color:#fff;cursor:default;transform:translateY(-2px);box-shadow:0 4px 12px #d4a0174d}.pagination-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;width:auto;min-width:80px}.pagination-section[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff;border:none;border-radius:8px;transition:all .3s ease}.pagination-section[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-2px);box-shadow:0 4px 16px #d4a01766}.pagination-section[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;opacity:.6}@media (max-width: 1024px){.guides-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.image-slider[_ngcontent-%COMP%]{width:100%;max-height:100px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.guide-title[_ngcontent-%COMP%]{font-size:1.625rem}.guide-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.image-slider[_ngcontent-%COMP%]{width:100%;max-height:120px}.pagination-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.pagination-section[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{padding:8px 12px;font-size:.9rem}.pagination-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.guide-title[_ngcontent-%COMP%]{font-size:1.5rem}.guide-detail[_ngcontent-%COMP%], .availability[_ngcontent-%COMP%], .guide-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}.guides-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.guide-item[_ngcontent-%COMP%]{padding:16px}.slider-btn[_ngcontent-%COMP%]{padding:8px 10px;font-size:.8rem}.filter-container[_ngcontent-%COMP%]{max-width:100%}}']})};var i7=n=>["/tour-guide-details",n];function o7(n,t){if(n&1&&(u(0,"div",5),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function r7(n,t){n&1&&(u(0,"div",6),p(1,"No top tour guides available. "),d())}function s7(n,t){n&1&&(u(0,"div",22),p(1," No images available "),d())}function a7(n,t){if(n&1){let e=U();u(0,"div",25)(1,"button",26),I("click",function(){P(e);let o=w(2).index,r=w(2);return O(r.prevImage(o))}),p(2,"\u276E"),d(),u(3,"button",27),I("click",function(){P(e);let o=w(2).index,r=w(2);return O(r.nextImage(o))}),p(4,"\u276F"),d()()}}function l7(n,t){if(n&1&&(u(0,"div"),M(1,"img",23),S(2,a7,5,0,"div",24),d()),n&2){let e=w(),i=e.$implicit,o=e.index,r=w(2);m(),x("src",i.photoUrls[r.currentImageIndices[o]||0],ce),m(),x("ngIf",i.photoUrls.length>1)}}function c7(n,t){n&1&&M(0,"i",28)}function d7(n,t){n&1&&M(0,"i",29)}function u7(n,t){if(n&1&&(u(0,"div",9)(1,"div",10),S(2,s7,2,0,"div",11)(3,l7,3,2,"div",12),d(),u(4,"div",13)(5,"h3",14),p(6),d(),u(7,"p",15)(8,"strong"),p(9,"Languages:"),d(),p(10),d(),u(11,"p",15)(12,"strong"),p(13,"Areas Covered:"),d(),p(14),d(),u(15,"p",15)(16,"strong"),p(17,"Price per Hour:"),d(),p(18),d(),u(19,"p",16)(20,"strong"),p(21,"Availability:"),d(),u(22,"span",17),p(23),M(24,"i",17),d()(),u(25,"div",18),S(26,c7,1,0,"i",19)(27,d7,1,0,"i",20),u(28,"p"),p(29),d()(),u(30,"button",21),p(31,"View"),d()()()),n&2){let e=t.$implicit,i=w(2);m(2),x("ngIf",!e.photoUrls||e.photoUrls.length===0),m(),x("ngIf",e.photoUrls&&e.photoUrls.length>0),m(3),A(e.guideName),m(4),T(" ",e.languages,""),m(4),T(" ",e.areasCovered,""),m(4),T(" $",e.pricePerHour,""),m(4),x("ngClass",e.isAvailable?"available":"unavailable"),m(),T(" ",e.isAvailable?"Available":"Not Available"," "),m(),tt("available-icon",e.isAvailable)("unavailable-icon",!e.isAvailable),x("ngClass",e.isAvailable?"fa-solid fa-check":"fa-solid fa-times"),m(2),x("ngForOf",i.getStarRatingArray(e.averageRating)),m(),x("ngForOf",i.getEmptyStarRatingArray(e.averageRating)),m(2),T("(",e.averageRating," Stars)"),m(),x("routerLink",Qe(17,i7,e.guideID))}}function f7(n,t){if(n&1&&(u(0,"div",7),S(1,u7,32,19,"div",8),d()),n&2){let e=w();m(),x("ngForOf",e.topTourGuides)}}var Fl=class n{constructor(t){this.tourGuideService=t}topTourGuides=[];errorMessage=null;currentImageIndices=[];ngOnInit(){this.loadTopTourGuides()}loadTopTourGuides(){this.tourGuideService.getAllTourGuides().subscribe({next:t=>{console.log("Tour guides received in TopTourGuidesComponent:",t),this.topTourGuides=t.sort((e,i)=>i.averageRating-e.averageRating).slice(0,3),this.currentImageIndices=new Array(this.topTourGuides.length).fill(0)},error:t=>{console.error("Error in TopTourGuidesComponent:",t.message),this.errorMessage=t.message}})}getStarRatingArray(t){return Array(Math.round(t)).fill(0)}getEmptyStarRatingArray(t){return Array(5-Math.round(t)).fill(0)}prevImage(t){this.topTourGuides[t].photoUrls&&this.topTourGuides[t].photoUrls.length>0&&(this.currentImageIndices[t]=(this.currentImageIndices[t]-1+this.topTourGuides[t].photoUrls.length)%this.topTourGuides[t].photoUrls.length)}nextImage(t){this.topTourGuides[t].photoUrls&&this.topTourGuides[t].photoUrls.length>0&&(this.currentImageIndices[t]=(this.currentImageIndices[t]+1)%this.topTourGuides[t].photoUrls.length)}static \u0275fac=function(e){return new(e||n)(D(zo))};static \u0275cmp=F({type:n,selectors:[["app-top-tour-guides"]],decls:6,vars:3,consts:[[1,"container"],[1,"title"],["class","alert alert-error",4,"ngIf"],["class","alert alert-no-data",4,"ngIf"],["class","guides-list",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-no-data"],[1,"guides-list"],["class","guide-item",4,"ngFor","ngForOf"],[1,"guide-item"],[1,"image-slider"],["class","no-image",4,"ngIf"],[4,"ngIf"],[1,"guide-details"],[1,"guide-title"],[1,"guide-detail"],[1,"availability"],[3,"ngClass"],[1,"guide-rating"],["class","fa-solid fa-star",4,"ngFor","ngForOf"],["class","fa-solid fa-star empty-star",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"no-image"],["alt","guide-image",1,"guide-image",3,"src"],["class","slider-controls",4,"ngIf"],[1,"slider-controls"],[1,"slider-btn","prev",3,"click"],[1,"slider-btn","next",3,"click"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star","empty-star"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h2",1),p(2,"Top Tour Guides"),d(),S(3,o7,2,1,"div",2)(4,r7,2,0,"div",3)(5,f7,2,1,"div",4),d()),e&2&&(m(3),x("ngIf",i.errorMessage),m(),x("ngIf",i.topTourGuides.length===0&&!i.errorMessage),m(),x("ngIf",i.topTourGuides.length>0))},dependencies:[J,Et,rt,ye,Le,ie],styles:['.container[_ngcontent-%COMP%]{max-width:1200px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:#d4a017;margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.alert[_ngcontent-%COMP%]{padding:20px;border-radius:12px;margin-bottom:32px;font-size:1.1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .6s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2;box-shadow:0 4px 12px #9b2c2c1a}.alert.alert-no-data[_ngcontent-%COMP%]{background-color:#f7fafc;color:#4a5568;font-style:italic;border:1px solid #e2e8f0;box-shadow:0 4px 12px #0000000d}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.85)}to{opacity:1;transform:scale(1)}}.guides-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:32px;margin-bottom:32px}.guide-item[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 16px #0000001a;display:flex;flex-direction:column;height:100%;justify-content:space-between;gap:20px;transition:transform .4s ease,box-shadow .4s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.guide-item[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #00000026}.guide-item[_ngcontent-%COMP%]   .guide-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#d4a017;margin-bottom:1rem;font-weight:700;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.image-slider[_ngcontent-%COMP%]{position:relative;width:180px;max-height:120px;aspect-ratio:4/3;overflow:hidden;border-radius:12px;background:#e2e8f0}.image-slider[_ngcontent-%COMP%]   .guide-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease;animation:_ngcontent-%COMP%_imageFadeIn 1s ease-out}.image-slider[_ngcontent-%COMP%]   .guide-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.image-slider[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(145deg,#e2e8f0,#d1d9e6);color:#4a5568;font-size:1rem;font-weight:500;text-align:center;border-radius:12px;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@keyframes _ngcontent-%COMP%_imageFadeIn{0%{opacity:0;filter:blur(6px)}to{opacity:1;filter:blur(0)}}.slider-controls[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;display:flex;justify-content:space-between;transform:translateY(-50%)}.slider-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017cc,#e6b800e6);color:#fff;border:none;padding:8px 12px;border-radius:50%;cursor:pointer;font-size:.9rem;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.slider-btn.prev[_ngcontent-%COMP%]{margin-left:12px}.slider-btn.next[_ngcontent-%COMP%]{margin-right:12px}.slider-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#d4a017,#e6b800);transform:scale(1.15);box-shadow:0 4px 12px #d4a01766}.guide-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between}.guide-details[_ngcontent-%COMP%]   .guide-detail[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:12px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.guide-details[_ngcontent-%COMP%]   .guide-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:12px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]{color:#2f855a;font-weight:600}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .unavailable[_ngcontent-%COMP%]{color:#9b2c2c;font-weight:600}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .available-icon[_ngcontent-%COMP%]{color:#2f855a;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}.guide-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .unavailable-icon[_ngcontent-%COMP%]{color:#9b2c2c;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}@keyframes _ngcontent-%COMP%_iconPulse{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}.guide-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px}.guide-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d4a017;font-size:1rem;margin-right:6px;animation:_ngcontent-%COMP%_starPulse 1.2s ease-out}.guide-rating[_ngcontent-%COMP%]   i.empty-star[_ngcontent-%COMP%]{color:#e2e8f0}.guide-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#4a5568;margin-left:10px}@keyframes _ngcontent-%COMP%_starPulse{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}.btn[_ngcontent-%COMP%]{width:auto;padding:12px 24px;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .4s ease;animation:_ngcontent-%COMP%_buttonPop .8s ease-out}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-3px);box-shadow:0 6px 20px #d4a01780}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 1024px){.guides-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.image-slider[_ngcontent-%COMP%]{width:100%;max-height:100px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.guide-title[_ngcontent-%COMP%]{font-size:1.625rem}.guide-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.image-slider[_ngcontent-%COMP%]{width:100%;max-height:120px}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.guide-title[_ngcontent-%COMP%]{font-size:1.5rem}.guide-detail[_ngcontent-%COMP%], .availability[_ngcontent-%COMP%], .guide-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}.guides-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.guide-item[_ngcontent-%COMP%]{padding:16px}.slider-btn[_ngcontent-%COMP%]{padding:8px 10px;font-size:.8rem}}']})};var Sm=class n{tourGuides=[{id:"guide1",name:"\u0623\u062D\u0645\u062F \u0639\u0644\u064A",specialty:"Egyptology",image:"https://images.unsplash.com/photo-1506929562872-bb421503ef21",skills:["Ancient Egyptian History","Multilingual: Arabic & English","Certified National Guide"],fixedTrips:["Pyramids of Giza + Sphinx","Egyptian Museum","Khan El Khalili Market"]},{id:"guide2",name:"\u0641\u0627\u0637\u0645\u0629 \u062D\u0633\u0646",specialty:"Nile Cruises",image:"https://images.unsplash.com/photo-1506929562872-bb421503ef21",skills:["Nile Cruise Management","Multilingual: Arabic & French","Expert in Egyptian Culture"],fixedTrips:["Luxor & Aswan Nile Cruise","Karnak Temple","Valley of the Kings"]},{id:"guide3",name:"\u0645\u062D\u0645\u062F \u062D\u0633\u0646",specialty:"Desert Safaris",image:"https://images.unsplash.com/photo-1506929562872-bb421503ef21",skills:["Desert Safari Leadership","Multilingual: Arabic & English","Camping Expertise"],fixedTrips:["Bahariya Oasis Safari","White Desert","Bedouin Experience"]},{id:"guide4",name:"\u0645\u0631\u0648\u0629 \u0646\u0627\u062C\u064A",specialty:"Desert Safaris",image:"https://images.unsplash.com/photo-1506929562872-bb421503ef21",skills:["Desert Trip Organization","Multilingual: Arabic & Spanish","Photography Expertise"],fixedTrips:["Sinai Safari","Wadi Rumla","Black Desert Experience"]},{id:"guide5",name:"\u0645\u062D\u0645\u062F \u0641\u0627\u064A\u0632",specialty:"Desert Safaris",image:"https://images.unsplash.com/photo-1506929562872-bb421503ef21",skills:["Desert Jeep Driving","Multilingual: Arabic & English","Astronomy Expertise"],fixedTrips:["Farafra Safari","Black Desert","Adventure Experience"]},{id:"guide6",name:"\u0643\u0631\u064A\u0645 \u064A\u0627\u0633\u0631",specialty:"Desert Safaris",image:"https://images.unsplash.com/photo-1506929562872-bb421503ef21",skills:["Adventure Planning","Multilingual: Arabic & German","Bedouin History Expertise"],fixedTrips:["Hurghada Safari","Wadi El-Hitan","Red Desert Experience"]}];selectedGuide=null;openSlidePanel(t){this.selectedGuide=this.tourGuides.find(e=>e.id===t)||null}closeSlidePanel(){this.selectedGuide=null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-tour-guides"]],decls:3,vars:0,template:function(e,i){e&1&&M(0,"app-navbar")(1,"app-top-tour-guides")(2,"app-all-tour-gudies")},dependencies:[J,Le,Dm,Fl,St],encapsulation:2})};var Wo=class n{constructor(t){this.http=t}apiUrl="https://fizo.runasp.net/api";getAllHotels(){return this.http.get(`${this.apiUrl}/Hotels`).pipe(we(t=>console.log("API Response (GetAllHotels):",t)),ht(this.handleError))}getHotelById(t){return this.http.get(`${this.apiUrl}/Hotels/${t}`).pipe(we(e=>console.log("API Response (GetHotelById):",e)),ht(this.handleError))}getHotelRooms(t){return this.http.get(`${this.apiUrl}/Hotels/${t}/rooms`).pipe(we(e=>console.log("API Response (GetHotelRooms):",e)),ht(this.handleError))}getRoomById(t){return this.http.get(`${this.apiUrl}/Rooms/${t}`).pipe(we(e=>console.log("API Response (GetRoomById):",e)),ht(this.handleError))}handleError(t){let e="An error occurred while fetching data.";return t.error instanceof ErrorEvent?e=`Client Error: ${t.error.message}`:(t.status===400||t.status===404)&&t.error.Errors?e=`Server Error: ${t.error.Errors.join(", ")}`:e=`Error Code: ${t.status}
Message: ${t.message}`,console.error("API Error:",e),Nn(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ll=class n{constructor(t){this.http=t}apiUrl="https://fizo.runasp.net/api/Reviews";getReviewsByHotelId(t){return this.http.get(`${this.apiUrl}/hotel/${t}`).pipe(we(e=>console.log("API Response (GetReviewsByHotelId):",e)),ht(this.handleError))}getReviewsByGuideId(t){return this.http.get(`${this.apiUrl}/guide/${t}`).pipe(we(e=>console.log("API Response (GetReviewsByGuideId):",e)),ht(this.handleError))}handleError(t){let e="An error occurred while fetching review data.";return t.error instanceof ErrorEvent?e=`Client Error: ${t.error.message}`:t.error&&t.error.Errors&&Array.isArray(t.error.Errors)?e=`Server Error: ${t.error.Errors.join(", ")}`:t.error&&typeof t.error=="string"?e=`Server Error: ${t.error}`:e=`Error Code: ${t.status}
Message: ${t.message||"Unknown error"}`,console.error("API Error:",e),Nn(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var h7=n=>["/room-details",n];function m7(n,t){if(n&1&&(u(0,"div",5),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function g7(n,t){n&1&&(u(0,"div",6),p(1,"Loading hotel details..."),d())}function _7(n,t){n&1&&(u(0,"div",30),p(1," No images available "),d())}function v7(n,t){if(n&1){let e=U();u(0,"div",33)(1,"button",34),I("click",function(){P(e);let o=w(3);return O(o.prevHotelImage())}),p(2,"\u276E"),d(),u(3,"button",35),I("click",function(){P(e);let o=w(3);return O(o.nextHotelImage())}),p(4,"\u276F"),d()()}}function b7(n,t){if(n&1&&(u(0,"div"),M(1,"img",31),S(2,v7,5,0,"div",32),d()),n&2){let e=w(2);m(),x("src",e.hotel.photoUrls[e.currentHotelImageIndex],ce),m(),x("ngIf",e.hotel.photoUrls.length>1)}}function y7(n,t){n&1&&M(0,"i",36)}function C7(n,t){n&1&&M(0,"i",37)}function x7(n,t){n&1&&(u(0,"div",38),p(1,"No rooms available for this hotel."),d())}function w7(n,t){n&1&&(u(0,"div",30),p(1," No images available "),d())}function M7(n,t){if(n&1){let e=U();u(0,"div",33)(1,"button",34),I("click",function(){P(e);let o=w(2).index,r=w(2);return O(r.prevRoomImage(o))}),p(2,"\u276E"),d(),u(3,"button",35),I("click",function(){P(e);let o=w(2).index,r=w(2);return O(r.nextRoomImage(o))}),p(4,"\u276F"),d()()}}function E7(n,t){if(n&1&&(u(0,"div"),M(1,"img",46),S(2,M7,5,0,"div",32),d()),n&2){let e=w(),i=e.$implicit,o=e.index,r=w(2);m(),x("src",i.photoUrls[r.currentRoomImageIndices[o]||0],ce),m(),x("ngIf",i.photoUrls.length>1)}}function D7(n,t){if(n&1){let e=U();u(0,"div",39)(1,"div",8),S(2,w7,2,0,"div",9)(3,E7,3,2,"div",10),d(),u(4,"div",40)(5,"p",41)(6,"strong"),p(7,"Room Type:"),d(),p(8),d(),u(9,"p",41)(10,"strong"),p(11,"Price per Night:"),d(),p(12),d(),u(13,"p",42)(14,"strong"),p(15,"Availability:"),d(),u(16,"span",43),p(17),M(18,"i",43),d()(),u(19,"div",28)(20,"button",44),p(21,"View"),d(),u(22,"button",45),I("click",function(){let o=P(e).$implicit,r=w(2);return O(r.bookRoom(r.hotel.hotelID,o.roomId))}),p(23,"Book Room"),d()()()()}if(n&2){let e=t.$implicit;m(2),x("ngIf",!e.photoUrls||e.photoUrls.length===0),m(),x("ngIf",e.photoUrls&&e.photoUrls.length>0),m(5),T(" ",e.roomType,""),m(4),T(" $",e.pricePerNight,""),m(4),x("ngClass",e.isAvailable?"available":"unavailable"),m(),T(" ",e.isAvailable?"Available":"Not Available"," "),m(),tt("available-icon",e.isAvailable)("unavailable-icon",!e.isAvailable),x("ngClass",e.isAvailable?"fa-solid fa-check":"fa-solid fa-times"),m(2),x("routerLink",Qe(14,h7,e.roomId))("disabled",!e.isAvailable),m(2),x("disabled",!e.isAvailable)}}function S7(n,t){n&1&&(u(0,"div",38),p(1,"No reviews available."),d())}function P7(n,t){n&1&&M(0,"i",36)}function O7(n,t){n&1&&M(0,"i",37)}function I7(n,t){if(n&1&&(u(0,"div",49)(1,"div",50),S(2,P7,1,0,"i",17)(3,O7,1,0,"i",18),u(4,"p"),p(5),d()(),u(6,"p",51)(7,"strong"),p(8,"Comment:"),d(),p(9),d(),u(10,"p",51)(11,"strong"),p(12,"By:"),d(),p(13),d(),u(14,"p",51)(15,"strong"),p(16,"Date:"),d(),p(17),_t(18,"date"),d()()),n&2){let e=t.$implicit,i=w(3);m(2),x("ngForOf",i.getStarRatingArray(e.rating)),m(),x("ngForOf",i.getEmptyStarRatingArray(e.rating)),m(2),T("(",e.rating," Stars)"),m(4),T(" ",e.comment,""),m(4),T(" ",e.userEmail,""),m(4),T(" ",zt(18,6,e.reviewDate,"medium"),"")}}function k7(n,t){if(n&1&&(u(0,"div",47),S(1,I7,19,9,"div",48),d()),n&2){let e=w(2);m(),x("ngForOf",e.reviews)}}function T7(n,t){if(n&1){let e=U();u(0,"div",7)(1,"div",8),S(2,_7,2,0,"div",9)(3,b7,3,2,"div",10),d(),u(4,"div",11)(5,"h3",12),p(6),d(),u(7,"div",13),M(8,"i",14),u(9,"p"),p(10),d()(),u(11,"div",15)(12,"p")(13,"strong"),p(14,"Average Price per Night:"),d(),p(15),d()(),u(16,"div",16),S(17,y7,1,0,"i",17)(18,C7,1,0,"i",18),u(19,"p"),p(20),d()(),u(21,"p",19),p(22),d(),u(23,"div",20)(24,"p")(25,"strong"),p(26,"Email:"),d(),p(27),d(),u(28,"p")(29,"strong"),p(30,"Phone:"),d(),p(31),d()(),u(32,"div",21)(33,"p")(34,"strong"),p(35,"Total Rooms:"),d(),p(36),d(),u(37,"p")(38,"strong"),p(39,"Available Rooms:"),d(),p(40),d()()(),u(41,"h4",22),p(42,"Available Rooms"),d(),S(43,x7,2,0,"div",23),u(44,"div",24),S(45,D7,24,16,"div",25),d(),u(46,"div",26)(47,"h4",22),p(48,"Reviews"),d(),S(49,S7,2,0,"div",23)(50,k7,2,1,"div",27),d(),u(51,"div",28)(52,"button",29),I("click",function(){P(e);let o=w();return O(o.goBack())}),p(53,"Back to Hotels"),d()()()}if(n&2){let e=w();m(2),x("ngIf",!e.hotel.photoUrls||e.hotel.photoUrls.length===0),m(),x("ngIf",e.hotel.photoUrls&&e.hotel.photoUrls.length>0),m(3),A(e.hotel.hotelName),m(4),A(e.extractCity(e.hotel.address)),m(5),T(" $",e.getAverageRoomPrice(),""),m(2),x("ngForOf",e.getStarRatingArray(e.hotel.rating)),m(),x("ngForOf",e.getEmptyStarRatingArray(e.hotel.rating)),m(2),T("(",e.hotel.rating," Stars)"),m(2),A(e.hotel.description),m(5),T(" ",e.hotel.contactEmail,""),m(4),T(" ",e.hotel.contactPhone,""),m(5),T(" ",e.hotel.totalRooms,""),m(4),T(" ",e.hotel.availableRooms,""),m(3),x("ngIf",e.rooms.length===0),m(2),x("ngForOf",e.rooms),m(4),x("ngIf",e.reviews.length===0),m(),x("ngIf",e.reviews.length>0)}}var Pm=class n{constructor(t,e,i,o){this.hotelService=t;this.reviewService=e;this.route=i;this.router=o}hotel=null;rooms=[];errorMessage=null;currentHotelImageIndex=0;currentRoomImageIndices=[];reviews=[];dialog=y(ne);authService=y(Ce);isLoggedIn(){return this.authService.isLoggedIn()}ngOnInit(){let t=this.route.snapshot.paramMap.get("hotelId");t?(this.loadHotelDetails(t),this.loadHotelRooms(t),this.loadReviews(t)):this.errorMessage="Invalid hotel ID."}loadHotelRooms(t){this.hotelService.getHotelRooms(t).subscribe({next:e=>{console.log("Rooms received in HotelsDetailsComponent:",e),this.rooms=e,this.currentRoomImageIndices=new Array(e.length).fill(0)},error:e=>{console.error("Error in HotelsDetailsComponent (Rooms):",e.message),this.errorMessage=this.errorMessage?`${this.errorMessage} | Rooms Error: ${e.message}`:`Rooms Error: ${e.message}`}})}loadHotelDetails(t){this.hotelService.getHotelById(t).subscribe({next:e=>{console.log("Hotel details received in HotelsDetailsComponent:",e),this.hotel=e},error:e=>{console.error("Error in HotelsDetailsComponent:",e.message),this.errorMessage=e.message}})}loadReviews(t){this.reviewService.getReviewsByHotelId(t).subscribe({next:e=>{console.log("Reviews received in HotelsDetailsComponent:",e),this.reviews=e},error:e=>{console.error("Error fetching reviews:",e.message),this.errorMessage=e.message}})}getAverageRoomPrice(){return this.rooms.length===0?"N/A":(this.rooms.reduce((i,o)=>i+o.pricePerNight,0)/this.rooms.length).toFixed(2)}extractCity(t){let e=t.split(",");return e.length>1?e[e.length-1].trim():"Unknown"}getStarRatingArray(t){return Array(Math.round(t)).fill(0)}getEmptyStarRatingArray(t){return Array(5-Math.round(t)).fill(0)}goBack(){this.router.navigate(["/hotel-reservation"])}viewRoom(t){this.router.navigate(["/room-details",t],{queryParams:{hotelId:this.route.snapshot.paramMap.get("hotelId")}})}prevHotelImage(){this.hotel&&this.hotel.photoUrls&&this.hotel.photoUrls.length>0&&(this.currentHotelImageIndex=(this.currentHotelImageIndex-1+this.hotel.photoUrls.length)%this.hotel.photoUrls.length)}nextHotelImage(){this.hotel&&this.hotel.photoUrls&&this.hotel.photoUrls.length>0&&(this.currentHotelImageIndex=(this.currentHotelImageIndex+1)%this.hotel.photoUrls.length)}bookRoom(t,e){this.authService.isLoggedIn()?this.router.navigate(["/hotel-booking"],{queryParams:{hotelId:t,roomId:e}}):this.router.navigate(["/login"])}prevRoomImage(t){this.rooms[t].photoUrls&&this.rooms[t].photoUrls.length>0&&(this.currentRoomImageIndices[t]=(this.currentRoomImageIndices[t]-1+this.rooms[t].photoUrls.length)%this.rooms[t].photoUrls.length)}nextRoomImage(t){this.rooms[t].photoUrls&&this.rooms[t].photoUrls.length>0&&(this.currentRoomImageIndices[t]=(this.currentRoomImageIndices[t]+1)%this.rooms[t].photoUrls.length)}static \u0275fac=function(e){return new(e||n)(D(Wo),D(Ll),D(Se),D(ee))};static \u0275cmp=F({type:n,selectors:[["app-hotels-details"]],decls:7,vars:4,consts:[[1,"container"],[1,"title"],["class","alert alert-error",4,"ngIf"],["class","alert alert-loading",4,"ngIf"],["class","hotel-details",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-loading"],[1,"hotel-details"],[1,"image-slider"],["class","no-image",4,"ngIf"],[4,"ngIf"],[1,"hotel-info","card"],[1,"hotel-title"],[1,"hotel-location"],[1,"fa-solid","fa-location-dot"],[1,"hotel-price"],[1,"hotel-rating"],["class","fa-solid fa-star",4,"ngFor","ngForOf"],["class","fa-solid fa-star empty-star",4,"ngFor","ngForOf"],[1,"description"],[1,"hotel-contact"],[1,"hotel-rooms"],[1,"section-title"],["class","alert alert-no-data",4,"ngIf"],[1,"rooms-list"],["class","room-item card",4,"ngFor","ngForOf"],[1,"hotel-reviews"],["class","reviews-list",4,"ngIf"],[1,"button-group"],[1,"btn","btn-secondary",3,"click"],[1,"no-image"],["alt","hotel-image",1,"hotel-image",3,"src"],["class","slider-controls",4,"ngIf"],[1,"slider-controls"],[1,"slider-btn","prev",3,"click"],[1,"slider-btn","next",3,"click"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star","empty-star"],[1,"alert","alert-no-data"],[1,"room-item","card"],[1,"room-details"],[1,"room-detail"],[1,"availability"],[3,"ngClass"],[1,"btn","btn-primary",3,"routerLink","disabled"],[1,"btn","btn-success",3,"click","disabled"],["alt","room-image",1,"room-image",3,"src"],[1,"reviews-list"],["class","review-item card",4,"ngFor","ngForOf"],[1,"review-item","card"],[1,"review-rating"],[1,"review-detail"]],template:function(e,i){e&1&&(u(0,"div",0),M(1,"app-navbar"),u(2,"h2",1),p(3),d(),S(4,m7,2,1,"div",2)(5,g7,2,0,"div",3)(6,T7,54,17,"div",4),d()),e&2&&(m(3),A((i.hotel==null?null:i.hotel.hotelName)||"Hotel Details"),m(),x("ngIf",i.errorMessage),m(),x("ngIf",!i.hotel&&!i.errorMessage),m(),x("ngIf",i.hotel))},dependencies:[J,Et,rt,ye,_n,St,ie],styles:['.container[_ngcontent-%COMP%]{max-width:1200px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;box-shadow:0 4px 16px #0000001a;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:#d4a017;margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.alert[_ngcontent-%COMP%]{padding:20px;border-radius:12px;margin-bottom:32px;font-size:1.1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .6s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2;box-shadow:0 4px 12px #9b2c2c1a}.alert.alert-loading[_ngcontent-%COMP%]{background-color:#edf2f7;color:#4a5568;border:1px solid #e2e8f0;position:relative;overflow:hidden}.alert.alert-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.alert.alert-no-data[_ngcontent-%COMP%]{background-color:#f7fafc;color:#4a5568;font-style:italic;border:1px solid #e2e8f0;box-shadow:0 4px 12px #0000000d}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.85)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.hotel-details[_ngcontent-%COMP%]{padding:32px;background:#fff;border-radius:16px;box-shadow:0 6px 24px #0000001f;animation:_ngcontent-%COMP%_fadeInUp .9s ease-out;position:relative;overflow:hidden}.hotel-details[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,#d4a017,#e6b800);animation:_ngcontent-%COMP%_borderSlide 1s ease-out}.hotel-details[_ngcontent-%COMP%]   .hotel-title[_ngcontent-%COMP%]{font-size:2rem;color:#d4a017;margin-bottom:1.5rem;font-weight:700;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_borderSlide{0%{width:0}to{width:100%}}.image-slider[_ngcontent-%COMP%]{position:relative;width:100%;max-height:400px;aspect-ratio:16/9;overflow:hidden;border-radius:12px;margin-bottom:24px;background:#e2e8f0}.image-slider[_ngcontent-%COMP%]   .hotel-image[_ngcontent-%COMP%], .image-slider[_ngcontent-%COMP%]   .room-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease;animation:_ngcontent-%COMP%_imageFadeIn 1s ease-out}.image-slider[_ngcontent-%COMP%]   .hotel-image[_ngcontent-%COMP%]:hover, .image-slider[_ngcontent-%COMP%]   .room-image[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.image-slider[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(145deg,#e2e8f0,#d1d9e6);color:#4a5568;font-size:1.1rem;font-weight:500;text-align:center;border-radius:12px;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@keyframes _ngcontent-%COMP%_imageFadeIn{0%{opacity:0;filter:blur(6px)}to{opacity:1;filter:blur(0)}}.room-item[_ngcontent-%COMP%]   .image-slider[_ngcontent-%COMP%]{max-height:120px;width:180px;aspect-ratio:4/3}.slider-controls[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;display:flex;justify-content:space-between;transform:translateY(-50%)}.slider-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017cc,#e6b800e6);color:#fff;border:none;padding:10px 14px;border-radius:50%;cursor:pointer;font-size:1.1rem;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.slider-btn.prev[_ngcontent-%COMP%]{margin-left:16px}.slider-btn.next[_ngcontent-%COMP%]{margin-right:16px}.slider-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e6b800,#d4a017);transform:scale(1.15);box-shadow:0 4px 12px #d4a01766}.hotel-location[_ngcontent-%COMP%], .hotel-price[_ngcontent-%COMP%], .hotel-rating[_ngcontent-%COMP%], .hotel-contact[_ngcontent-%COMP%], .hotel-rooms[_ngcontent-%COMP%]{margin-bottom:20px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.hotel-location[_ngcontent-%COMP%]{display:flex;align-items:center}.hotel-location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;color:#d4a017;font-size:1.2rem;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}.hotel-location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .hotel-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .hotel-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .hotel-rooms[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568}.hotel-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .hotel-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .hotel-rooms[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.hotel-rating[_ngcontent-%COMP%]{display:flex;align-items:center}.hotel-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d4a017;font-size:1.1rem;margin-right:6px;animation:_ngcontent-%COMP%_starPulse 1.2s ease-out}.hotel-rating[_ngcontent-%COMP%]   i.empty-star[_ngcontent-%COMP%]{color:#e2e8f0}.hotel-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-left:10px}@keyframes _ngcontent-%COMP%_starPulse{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_iconPulse{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}.description[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;line-height:1.6;margin-bottom:24px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.section-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#1a202c;margin-bottom:1.5rem;font-weight:700;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.rooms-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:24px;margin-bottom:32px}.room-item[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 16px #0000001a;display:flex;gap:20px;transition:transform .4s ease,box-shadow .4s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.room-item[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #d4a01726}.room-item[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]{flex:1}.room-item[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .room-detail[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:12px}.room-item[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .room-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.room-item[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:12px}.room-item[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.room-item[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]{color:#2f855a;font-weight:600}.room-item[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .unavailable[_ngcontent-%COMP%]{color:#9b2c2c;font-weight:600}.room-item[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .available-icon[_ngcontent-%COMP%]{color:#2f855a;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}.room-item[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .availability[_ngcontent-%COMP%]   .unavailable-icon[_ngcontent-%COMP%]{color:#9b2c2c;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.button-group[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .4s ease;animation:_ngcontent-%COMP%_buttonPop .7s ease-out}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff;box-shadow:0 2px 6px #d4a0174d}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-3px);box-shadow:0 4px 12px #d4a01780}.btn.btn-primary[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;opacity:.6}.btn.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2f855a,#38a169);color:#fff}.btn.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#38a169,#2f855a);transform:translateY(-3px);box-shadow:0 4px 12px #2f855a66}.btn.btn-success[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;opacity:.6}.btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7184,#4a5568);transform:translateY(-3px);box-shadow:0 4px 12px #5a718466}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 1024px){.rooms-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}.room-item[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.room-item[_ngcontent-%COMP%]   .image-slider[_ngcontent-%COMP%]{width:100%;max-height:150px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.hotel-title[_ngcontent-%COMP%]{font-size:1.625rem}.button-group[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.btn[_ngcontent-%COMP%]{width:100%;padding:12px}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.hotel-title[_ngcontent-%COMP%]{font-size:1.5rem}.hotel-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .hotel-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .hotel-rooms[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .description[_ngcontent-%COMP%], .room-detail[_ngcontent-%COMP%], .availability[_ngcontent-%COMP%]{font-size:.95rem}.image-slider[_ngcontent-%COMP%]{max-height:300px}.room-item[_ngcontent-%COMP%]   .image-slider[_ngcontent-%COMP%]{max-height:120px}}']})};var A7=n=>["/hotel-details",n],R7=()=>[1,2,3,4],N7=n=>({active:n});function F7(n,t){if(n&1&&(u(0,"div",27),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function L7(n,t){n&1&&(u(0,"div",28),p(1,"No hotels available."),d())}function V7(n,t){n&1&&(u(0,"div",42),p(1," No images available "),d())}function B7(n,t){if(n&1){let e=U();u(0,"div",45)(1,"button",46),I("click",function(o){P(e);let r=w(2).index,s=w();return O(s.prevImage(r,o))}),p(2,"\u276E"),d(),u(3,"button",47),I("click",function(o){P(e);let r=w(2).index,s=w();return O(s.nextImage(r,o))}),p(4,"\u276F"),d()()}}function j7(n,t){if(n&1&&(u(0,"div"),M(1,"img",43),S(2,B7,5,0,"div",44),d()),n&2){let e=w(),i=e.$implicit,o=e.index,r=w();m(),x("src",i.photoUrls[r.currentImageIndices[o]||0],ce),m(),x("ngIf",i.photoUrls.length>1)}}function H7(n,t){n&1&&M(0,"i",48)}function U7(n,t){n&1&&M(0,"i",49)}function z7(n,t){if(n&1){let e=U();u(0,"div",29)(1,"div",30),S(2,V7,2,0,"div",31)(3,j7,3,2,"div",32),d(),u(4,"h3",33),p(5),d(),u(6,"div",34),M(7,"i",35),u(8,"p"),p(9),d()(),u(10,"div",36)(11,"p"),p(12,"100$/night"),d()(),u(13,"div",37),S(14,H7,1,0,"i",38)(15,U7,1,0,"i",39),u(16,"p"),p(17),d()(),u(18,"p",40),p(19),d(),u(20,"button",41),I("click",function(){let o=P(e).index,r=w();return O(r.goToDetails(o))}),p(21,"View Details"),d()()}if(n&2){let e=t.$implicit,i=w();m(),x("routerLink",Qe(9,A7,e.hotelID)),m(),x("ngIf",!e.photoUrls||e.photoUrls.length===0),m(),x("ngIf",e.photoUrls&&e.photoUrls.length>0),m(2),A(e.hotelName),m(4),A(i.extractCity(e.address)),m(5),x("ngForOf",i.getStarRatingArray(e.rating)),m(),x("ngForOf",i.getEmptyStarRatingArray(e.rating)),m(2),T("(",e.rating," Stars)"),m(2),A(e.description)}}function $7(n,t){if(n&1&&(u(0,"span",54),p(1),d()),n&2){let e=t.$implicit,i=w(2);x("ngClass",Qe(2,N7,i.currentPage===e)),m(),T(" ",e," ")}}function G7(n,t){if(n&1&&(u(0,"div",50)(1,"button",51),p(2," Previous "),d(),S(3,$7,2,4,"span",52),u(4,"button",53),p(5," Next "),d()()),n&2){let e=w();m(3),x("ngForOf",cn(2,R7)),m(),x("disabled",e.currentPage===4)}}var Om=class n{constructor(t,e){this.hotelService=t;this.router=e}hotels=[];filteredHotels=[];currentPage=1;errorMessage=null;filters={city:"All",starRating:"All",price:"All"};currentImageIndices=[];ngOnInit(){this.loadHotels()}loadHotels(){this.hotelService.getAllHotels().subscribe({next:t=>{console.log("Hotels received in AllHotelsComponent:",t),this.hotels=t,this.filteredHotels=[...t],this.currentImageIndices=new Array(t.length).fill(0),this.applyFilters()},error:t=>{console.error("Error in AllHotelsComponent:",t.message),this.errorMessage=t.message}})}extractCity(t){let e=t.split(",");return e.length>1?e[e.length-1].trim():"Unknown"}updateFilter(t,e){let i=t.target;this.filters[e]=i.value,this.applyFilters()}applyFilters(){let t=[...this.hotels];this.filters.city!=="All"&&(t=t.filter(e=>this.extractCity(e.address)===this.filters.city)),this.filters.starRating!=="All"&&(t=t.filter(e=>Math.round(e.rating)===parseInt(this.filters.starRating))),this.filters.price!=="All"&&(t=t.filter(e=>this.filters.price==="Above 500$"||this.filters.price==="300$-500$"?!1:(this.filters.price==="Less Than 300$",!0))),this.filteredHotels=t}getHotelSlug(t){let e=this.hotels.find(i=>i.hotelName===t);return e?`${t.toLowerCase().replace(/\s+/g,"-")}-${e.hotelID}`:""}getStarRatingArray(t){return Array(Math.round(t)).fill(0)}getEmptyStarRatingArray(t){return Array(5-Math.round(t)).fill(0)}goToDetails(t){let e=this.filteredHotels[t];this.router.navigate(["/hotel-details",e.hotelID])}prevImage(t,e){e.stopPropagation(),this.filteredHotels[t].photoUrls&&this.filteredHotels[t].photoUrls.length>0&&(this.currentImageIndices[t]=(this.currentImageIndices[t]-1+this.filteredHotels[t].photoUrls.length)%this.filteredHotels[t].photoUrls.length)}nextImage(t,e){e.stopPropagation(),this.filteredHotels[t].photoUrls&&this.filteredHotels[t].photoUrls.length>0&&(this.currentImageIndices[t]=(this.currentImageIndices[t]+1)%this.filteredHotels[t].photoUrls.length)}static \u0275fac=function(e){return new(e||n)(D(Wo),D(ee))};static \u0275cmp=F({type:n,selectors:[["app-all-hotels"]],decls:51,vars:4,consts:[[1,"container"],[1,"title"],[1,"filters-selection"],[1,"filters-selection-title"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","aria-hidden","true",1,"lucide","lucide-funnel"],["d","M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z"],[1,"filter-selection-list"],[1,"filter-selection-item"],[1,"filter-label"],["name","location",1,"form-control",3,"change"],["value","All"],["value","Giza"],["name","star-rating",1,"form-control",3,"change"],["value","5"],["value","4"],["value","3"],["value","2"],["name","price-range",1,"form-control",3,"change"],["value","Above 500$"],["value","300$-500$"],["value","Less Than 300$"],[1,"filters-results"],["class","alert alert-error",4,"ngIf"],["class","alert alert-no-data",4,"ngIf"],[1,"results-grid"],["class","filters-result",4,"ngFor","ngForOf"],["class","pagination-section fade-in",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-no-data"],[1,"filters-result"],[1,"image-slider",3,"routerLink"],["class","no-image",4,"ngIf"],[4,"ngIf"],[1,"hotel-title"],[1,"filters-result-location"],[1,"fa-solid","fa-location-dot"],[1,"filters-result-price-section"],[1,"filters-result-star-rating"],["class","fa-solid fa-star",4,"ngFor","ngForOf"],["class","fa-solid fa-star empty-star",4,"ngFor","ngForOf"],[1,"description"],[1,"btn","btn-primary",3,"click"],[1,"no-image"],["alt","hotel-image",1,"hotel-image",3,"src"],["class","slider-controls",4,"ngIf"],[1,"slider-controls"],[1,"slider-btn","prev",3,"click"],[1,"slider-btn","next",3,"click"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star","empty-star"],[1,"pagination-section","fade-in"],[1,"btn","btn-secondary","pulse-hover"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn","btn-secondary","pulse-hover",3,"disabled"],[1,"page-item",3,"ngClass"]],template:function(e,i){e&1&&(M(0,"app-navbar"),u(1,"div",0)(2,"h2",1),p(3,"Hotel Reservation"),d(),u(4,"div",2)(5,"div",3),gn(),u(6,"svg",4),M(7,"path",5),d(),tl(),u(8,"p"),p(9,"Filter Hotels"),d()(),u(10,"div",6)(11,"div",7)(12,"p",8),p(13,"Location"),d(),u(14,"select",9),I("change",function(r){return i.updateFilter(r,"city")}),u(15,"option",10),p(16,"All"),d(),u(17,"option",11),p(18,"Giza"),d()()(),u(19,"div",7)(20,"p",8),p(21,"Star Rating"),d(),u(22,"select",12),I("change",function(r){return i.updateFilter(r,"starRating")}),u(23,"option",10),p(24,"All"),d(),u(25,"option",13),p(26,"5 Stars"),d(),u(27,"option",14),p(28,"4 Stars"),d(),u(29,"option",15),p(30,"3 Stars"),d(),u(31,"option",16),p(32,"2 Stars"),d()()(),u(33,"div",7)(34,"p",8),p(35,"Price Range"),d(),u(36,"select",17),I("change",function(r){return i.updateFilter(r,"price")}),u(37,"option",10),p(38,"All"),d(),u(39,"option",18),p(40,"Above 500$"),d(),u(41,"option",19),p(42,"300$-500$"),d(),u(43,"option",20),p(44,"Less Than 300$"),d()()()()(),u(45,"div",21),S(46,F7,2,1,"div",22)(47,L7,2,0,"div",23),u(48,"div",24),S(49,z7,22,11,"div",25),d()(),S(50,G7,6,3,"div",26),d()),e&2&&(m(46),x("ngIf",i.errorMessage),m(),x("ngIf",i.filteredHotels.length===0&&!i.errorMessage),m(2),x("ngForOf",i.filteredHotels),m(),x("ngIf",i.filteredHotels.length>0))},dependencies:[J,Et,rt,ye,Le,ie,St],styles:['.container[_ngcontent-%COMP%]{max-width:1100px;margin:40px auto;padding:16px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;animation:fadeIn .8s ease-out}.title[_ngcontent-%COMP%]{font-size:2.75rem;color:#1a202c;text-align:center;margin-bottom:2.5rem;font-weight:700;position:relative;animation:_ngcontent-%COMP%_slideIn .6s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:70px;height:4px;background:#2b6cb0;margin:10px auto;border-radius:2px;animation:_ngcontent-%COMP%_underlineGrow .5s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-15px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:70px}}.filters-selection[_ngcontent-%COMP%]{padding:24px;background:linear-gradient(145deg,#f7fafc,#e2e8f0);border-radius:12px;margin-bottom:32px;box-shadow:0 4px 16px #00000014;animation:fadeIn .9s ease-out}.filters-selection[_ngcontent-%COMP%]   .filters-selection-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;color:#1a202c;font-weight:700;margin-bottom:1.5rem;animation:_ngcontent-%COMP%_slideIn .6s ease-out}.filters-selection[_ngcontent-%COMP%]   .filters-selection-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:8px;color:#2b6cb0;animation:_ngcontent-%COMP%_iconPulse 1s ease-out}@keyframes _ngcontent-%COMP%_iconPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.filter-selection-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.filter-selection-item[_ngcontent-%COMP%]{flex:1;min-width:200px}.filter-selection-item[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:1rem;color:#1a202c;font-weight:600;margin-bottom:8px;animation:fadeIn .7s ease-out}.filter-selection-item[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;background-color:#fff;transition:all .3s ease;animation:fadeIn .8s ease-out}.filter-selection-item[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#2b6cb0;box-shadow:0 0 0 4px #3182ce33;outline:none}.filters-results[_ngcontent-%COMP%]{padding:24px 0}.alert[_ngcontent-%COMP%]{padding:16px;border-radius:10px;margin-bottom:24px;font-size:1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .5s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2}.alert.alert-no-data[_ngcontent-%COMP%]{background-color:#f7fafc;color:#4a5568;font-style:italic}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.results-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px}.filters-result[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 16px #0000001a;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_cardFadeIn .7s ease-out;display:flex;flex-direction:column;height:100%;justify-content:space-between}.filters-result[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #00000026}.filters-result[_ngcontent-%COMP%]   .hotel-title[_ngcontent-%COMP%]{font-size:1.625rem;color:#2b6cb0;margin-bottom:1rem;font-weight:700;animation:fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.image-slider[_ngcontent-%COMP%]{position:relative;width:100%;max-height:200px;aspect-ratio:16/9;overflow:hidden;border-radius:10px;margin-bottom:16px;background:#e2e8f0;cursor:pointer}.image-slider[_ngcontent-%COMP%]   .hotel-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .4s ease;animation:_ngcontent-%COMP%_imageFadeIn .8s ease-out}.image-slider[_ngcontent-%COMP%]   .hotel-image[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.image-slider[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#e2e8f0;color:#4a5568;font-size:1rem;font-weight:500;text-align:center;border-radius:10px;animation:fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_imageFadeIn{0%{opacity:0;filter:blur(4px)}to{opacity:1;filter:blur(0)}}.slider-controls[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;display:flex;justify-content:space-between;transform:translateY(-50%)}.slider-btn[_ngcontent-%COMP%]{background:#0009;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:1rem;transition:all .3s ease;animation:fadeIn .8s ease-out}.slider-btn.prev[_ngcontent-%COMP%]{margin-left:12px}.slider-btn.next[_ngcontent-%COMP%]{margin-right:12px}.slider-btn[_ngcontent-%COMP%]:hover{background:#2b6cb0;transform:scale(1.1)}.filters-result-location[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px;animation:fadeIn .9s ease-out}.filters-result-location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;margin-bottom:8px;color:#2b6cb0;font-size:1.1rem}.filters-result-location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568}.filters-result-price-section[_ngcontent-%COMP%]{margin-bottom:12px}.filters-result-price-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#2b6cb0;animation:fadeIn .9s ease-out}.filters-result-star-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px}.filters-result-star-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f6ad55;font-size:1rem;margin-right:4px;animation:_ngcontent-%COMP%_starPulse 1s ease-out}.filters-result-star-rating[_ngcontent-%COMP%]   i.empty-star[_ngcontent-%COMP%]{color:#e2e8f0}.filters-result-star-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#4a5568;margin-left:8px;margin-top:12px}@keyframes _ngcontent-%COMP%_starPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.description[_ngcontent-%COMP%]{font-size:.95rem;color:#4a5568;margin-bottom:16px;line-height:1.5;animation:fadeIn .9s ease-out;flex:1}.btn[_ngcontent-%COMP%]{width:100%;padding:12px;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;animation:_ngcontent-%COMP%_buttonPop .7s ease-out}.btn[_ngcontent-%COMP%]:not(.pagination-section .btn){background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff}.btn[_ngcontent-%COMP%]:not(.pagination-section .btn):hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-2px);box-shadow:0 4px 16px #d4a01766}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.pagination-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;margin-top:32px;animation:fadeIn .8s ease-out}.pagination-section[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{padding:10px 15px;border-radius:8px;background:#fff;color:#1a202c;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000001a;animation:fadeIn .9s ease-out;animation-delay:calc(var(--item-index) * .1s)}.pagination-section[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:hover{background:#d4a017;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #d4a0174d}.pagination-section[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]{background:#d4a017;color:#fff;cursor:default;transform:translateY(-2px);box-shadow:0 4px 12px #d4a0174d}.pagination-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem;width:auto;min-width:80px}.pagination-section[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff;border:none;border-radius:8px;transition:all .3s ease}.pagination-section[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#5a7184,#4a5568);transform:translateY(-2px);box-shadow:0 4px 16px #5a718466}.pagination-section[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;opacity:.6}@media (max-width: 1024px){.results-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:12px;margin:24px auto}.title[_ngcontent-%COMP%]{font-size:2.25rem}.filters-selection-title[_ngcontent-%COMP%]{font-size:1.375rem}.filter-selection-list[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.filter-selection-item[_ngcontent-%COMP%]{min-width:100%}.pagination-section[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.pagination-section[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{padding:8px 12px;font-size:.9rem}.pagination-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:1.875rem}.hotel-title[_ngcontent-%COMP%]{font-size:1.5rem}.description[_ngcontent-%COMP%], .filters-result-location[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .filters-result-price-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .filters-result-star-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.filters-result[_ngcontent-%COMP%]{padding:16px}.results-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var Im=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-register"]],decls:34,vars:0,consts:[[1,"register-section"],[1,"register-title"],[1,"register-subtitle"],[1,"register-cards"],["routerLink","/register/tourist",1,"register-card",2,"--card-delay","0.1s"],["src","/images/tourist.png","alt","Tourist"],[1,"register-content"],[1,"register-description"],["routerLink","/register/guide",1,"register-card",2,"--card-delay","0.2s"],["src","/images/tour_guide.png","alt","Tour Guide"],["routerLink","/register/hotel",1,"register-card",2,"--card-delay","0.3s"],["src","/images/hotel.png","alt","Hotel"],["routerLink","/register/company",1,"register-card",2,"--card-delay","0.4s"],["src","/images/tourism_company.png","alt","Tourism Company"]],template:function(e,i){e&1&&(u(0,"section",0)(1,"h1",1),p(2,"Choose Your Role"),d(),u(3,"p",2),p(4,"Join our travel community and start your journey"),d(),u(5,"div",3)(6,"div",4),M(7,"img",5),u(8,"div",6)(9,"h2"),p(10,"Tourist"),d(),u(11,"p",7),p(12,"Explore new destinations and create unforgettable memories."),d()()(),u(13,"div",8),M(14,"img",9),u(15,"div",6)(16,"h2"),p(17,"Tour Guide"),d(),u(18,"p",7),p(19,"Share your local expertise and guide travelers."),d()()(),u(20,"div",10),M(21,"img",11),u(22,"div",6)(23,"h2"),p(24,"Hotel"),d(),u(25,"p",7),p(26,"Offer world-class hospitality to global visitors."),d()()(),u(27,"div",12),M(28,"img",13),u(29,"div",6)(30,"h2"),p(31,"Tourism Company"),d(),u(32,"p",7),p(33,"Craft unique travel experiences for adventurers."),d()()()()())},dependencies:[ie],styles:['@charset "UTF-8";.register-section[_ngcontent-%COMP%]{text-align:center;padding:100px 20px 80px;font-family:Poppins,sans-serif;background:linear-gradient(135deg,#1e3a8a,#2563eb,#059669);background-size:300% 300%;animation:_ngcontent-%COMP%_gradientShift 12s ease-in-out infinite;position:relative;overflow:hidden}@keyframes _ngcontent-%COMP%_gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.register-title[_ngcontent-%COMP%]{font-size:48px;font-weight:900;color:#fff;margin-bottom:20px;text-shadow:0 4px 20px rgba(0,0,0,.4);animation:_ngcontent-%COMP%_fadeInDown 1s ease-in-out}.register-subtitle[_ngcontent-%COMP%]{font-size:20px;color:#e0f2f1;margin-bottom:60px;animation:_ngcontent-%COMP%_fadeIn 1.5s ease}.register-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:35px;width:90%;max-width:1200px;margin:0 auto}.register-card[_ngcontent-%COMP%]{position:relative;border-radius:22px;box-shadow:0 10px 35px #00000040;overflow:hidden;cursor:pointer;background-color:#fff;transform:scale(.98);transition:all .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out both;animation-delay:var(--card-delay)}.register-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:320px;object-fit:cover;transition:transform .5s ease,filter .5s ease;filter:brightness(80%) contrast(1.1)}.register-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px) scale(1.03);box-shadow:0 16px 45px #00000059}.register-card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.08);filter:brightness(100%) contrast(1)}.register-content[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;padding:25px 22px;background:#0006;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);text-align:left;box-sizing:border-box;transition:background .4s ease}.register-card[_ngcontent-%COMP%]:hover   .register-content[_ngcontent-%COMP%]{background:#0009}.register-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:26px;font-weight:700;margin-bottom:8px;text-shadow:0 2px 10px rgba(0,0,0,.4)}.register-description[_ngcontent-%COMP%]{color:#e5e5e5;font-size:16px;opacity:0;transform:translateY(20px);transition:opacity .4s ease,transform .4s ease}.register-card[_ngcontent-%COMP%]:hover   .register-description[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.register-card[_ngcontent-%COMP%]:after{content:"Register Now";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(.8);background:#fffffff2;color:#1f2937;padding:12px 28px;border-radius:50px;font-weight:600;font-size:15px;opacity:0;transition:all .4s ease;pointer-events:none;box-shadow:0 6px 25px #0000004d}.register-card[_ngcontent-%COMP%]:hover:after{opacity:1;transform:translate(-50%,-50%) scale(1)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.9) translateY(30px)}to{opacity:1;transform:scale(1) translateY(0)}}@media (max-width: 600px){.register-section[_ngcontent-%COMP%]{padding:60px 15px 40px}.register-card[_ngcontent-%COMP%]{animation-delay:0s!important}.register-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:220px}.register-content[_ngcontent-%COMP%]{padding:20px}.register-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px}.register-description[_ngcontent-%COMP%]{font-size:14px}.register-title[_ngcontent-%COMP%]{font-size:32px}.register-subtitle[_ngcontent-%COMP%]{font-size:15px}}']})};var W7=n=>["/package-booking",n],q7=()=>["/tour-packages"];function Y7(n,t){if(n&1&&(u(0,"div",9),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function K7(n,t){n&1&&(u(0,"div",10),p(1,"Loading package details..."),d())}function Z7(n,t){if(n&1&&M(0,"img",23),n&2){let e=w(2);x("src",e.package.photoUrls[0],ce)}}function Q7(n,t){n&1&&(u(0,"div",24),p(1,"No image available"),d())}function X7(n,t){if(n&1){let e=U();u(0,"div",11)(1,"div",12)(2,"div",13),S(3,Z7,1,1,"img",14)(4,Q7,2,0,"div",15),d(),u(5,"div",16)(6,"h3",17),p(7),d(),u(8,"div",18)(9,"p",19)(10,"strong"),p(11,"Company:"),d(),p(12),d(),u(13,"p",19)(14,"strong"),p(15,"Description:"),d(),p(16),d(),u(17,"p",19)(18,"strong"),p(19,"Price:"),d(),p(20),d(),u(21,"p",19)(22,"strong"),p(23,"Duration:"),d(),p(24),d(),u(25,"p",19)(26,"strong"),p(27,"Start Date:"),d(),p(28),_t(29,"date"),d(),u(30,"p",19)(31,"strong"),p(32,"End Date:"),d(),p(33),_t(34,"date"),d(),u(35,"p",19)(36,"strong"),p(37,"Destinations:"),d(),p(38),d()(),u(39,"div",20)(40,"button",21),I("click",function(){P(e);let o=w();return O(o.goToLoginOrBook(o.package.packageId))}),p(41,"Book Now"),d(),u(42,"button",22),p(43,"Back to Packages"),d()()()()()}if(n&2){let e=w();m(3),x("ngIf",e.package.photoUrls&&e.package.photoUrls.length>0),m(),x("ngIf",!e.package.photoUrls||e.package.photoUrls.length===0),m(3),A(e.package.packageName),m(5),T(" ",e.package.companyName,""),m(4),T(" ",e.package.description,""),m(4),T(" $",e.package.price,""),m(4),T(" ",e.package.durationDays," days"),m(4),T(" ",zt(29,12,e.package.startDate,"mediumDate"),""),m(5),T(" ",zt(34,15,e.package.endDate,"mediumDate"),""),m(5),T(" ",e.getDestinationsString(e.package.destinations),""),m(2),x("routerLink",Qe(18,W7,e.package.packageId)),m(2),x("routerLink",cn(20,q7))}}function J7(n,t){n&1&&(u(0,"div",25),p(1,"No reviews available."),d())}function e9(n,t){if(n&1&&(u(0,"p",29)(1,"strong"),p(2,"Package:"),d(),p(3),d()),n&2){let e=w().$implicit;m(3),T(" ",e.packageName,"")}}function t9(n,t){if(n&1&&(u(0,"div",28)(1,"p",29)(2,"strong"),p(3,"User:"),d(),p(4),d(),u(5,"p",29)(6,"strong"),p(7,"Rating:"),d(),u(8,"span",30),p(9),d()(),u(10,"p",29)(11,"strong"),p(12,"Comment:"),d(),p(13),d(),u(14,"p",29)(15,"strong"),p(16,"Date:"),d(),p(17),_t(18,"date"),d(),S(19,e9,4,1,"p",31),d()),n&2){let e=t.$implicit;m(4),T(" ",e.userEmail,""),m(5),T("",e.rating,"/5"),m(4),T(" ",e.comment,""),m(4),T(" ",zt(18,5,e.reviewDate,"mediumDate"),""),m(2),x("ngIf",e.packageName)}}function n9(n,t){if(n&1&&(u(0,"div",26),S(1,t9,20,8,"div",27),d()),n&2){let e=w();m(),x("ngForOf",e.reviews)}}var km=class n{constructor(t,e){this.route=t;this.tourPackageService=e}package=null;reviews=[];tops=[];errorMessage=null;router=y(ee);dialog=y(ne);authService=y(Ce);goToLoginOrBook(t){this.isLoggedIn()?this.router.navigate(["/package-booking",t]):this.router.navigate(["/login"])}isLoggedIn(){return this.authService.isLoggedIn()}ngOnInit(){let t=this.route.snapshot.paramMap.get("packageId");t?(this.loadPackageDetails(t),this.loadReviews(t)):this.errorMessage="Invalid package ID."}loadPackageDetails(t){this.tourPackageService.getPackageById(t).subscribe({next:e=>{this.package=e},error:e=>{console.error("Error fetching package details:",e.message),this.errorMessage="Failed to load package details."}})}loadReviews(t){this.tourPackageService.getReviewsByPackageId(t).subscribe({next:e=>{this.reviews=e},error:e=>{console.error("Error fetching reviews:",e.message),this.errorMessage="Failed to load reviews."}})}getDestinationsString(t){return t.length>0?t.map(e=>e.name).join(", "):"None"}static \u0275fac=function(e){return new(e||n)(D(Se),D(Ho))};static \u0275cmp=F({type:n,selectors:[["app-package-details"]],decls:12,vars:5,consts:[[1,"container"],[1,"title"],["class","alert alert-error",4,"ngIf"],["class","alert alert-loading",4,"ngIf"],["class","package-details",4,"ngIf"],[1,"reviews-section"],[1,"section-title"],["class","alert alert-no-data",4,"ngIf"],["class","reviews-grid",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-loading"],[1,"package-details"],[1,"package-card"],[1,"image-container"],["alt","package-image","class","package-image",3,"src",4,"ngIf"],["class","no-image",4,"ngIf"],[1,"details-content"],[1,"package-title"],[1,"package-info"],[1,"package-detail"],[1,"button-group"],[1,"btn","btn-primary",3,"click","routerLink"],[1,"btn","btn-secondary",3,"routerLink"],["alt","package-image",1,"package-image",3,"src"],[1,"no-image"],[1,"alert","alert-no-data"],[1,"reviews-grid"],["class","review-item",4,"ngFor","ngForOf"],[1,"review-item"],[1,"review-detail"],[1,"star-rating"],["class","review-detail",4,"ngIf"]],template:function(e,i){e&1&&(u(0,"div",0),M(1,"app-navbar"),u(2,"h2",1),p(3,"Package Details"),d(),S(4,Y7,2,1,"div",2)(5,K7,2,0,"div",3)(6,X7,44,21,"div",4),u(7,"div",5)(8,"h3",6),p(9,"Reviews"),d(),S(10,J7,2,0,"div",7)(11,n9,2,1,"div",8),d()()),e&2&&(m(4),x("ngIf",i.errorMessage),m(),x("ngIf",!i.package&&!i.errorMessage),m(),x("ngIf",i.package),m(4),x("ngIf",i.reviews.length===0&&!i.errorMessage),m(),x("ngIf",i.reviews.length>0))},dependencies:[J,rt,ye,_n,Le,ie,St],styles:['.container[_ngcontent-%COMP%]{max-width:1200px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;box-shadow:0 4px 16px #0000001a;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:#d4a017;margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.alert[_ngcontent-%COMP%]{padding:16px;border-radius:10px;margin-bottom:24px;font-size:1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .5s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2}.alert.alert-loading[_ngcontent-%COMP%]{background-color:#edf2f7;color:#4a5568;border:1px solid #e2e8f0;position:relative;overflow:hidden}.alert.alert-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.alert.alert-no-data[_ngcontent-%COMP%]{background-color:#f7fafc;color:#4a5568;font-style:italic}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.package-details[_ngcontent-%COMP%]{margin-bottom:48px;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.package-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 16px #0000001a;display:flex;flex-direction:column;height:100%;transition:transform .4s ease,box-shadow .4s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.package-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #d4a01726}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.image-container[_ngcontent-%COMP%]{width:100%;max-height:240px;overflow:hidden;border-radius:10px;background:#e2e8f0;margin-bottom:20px}.image-container[_ngcontent-%COMP%]   .package-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .4s ease;animation:_ngcontent-%COMP%_imageFadeIn .8s ease-out}.image-container[_ngcontent-%COMP%]   .package-image[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#e2e8f0;color:#4a5568;font-size:1rem;font-weight:500;text-align:center;border-radius:10px;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_imageFadeIn{0%{opacity:0;filter:blur(4px)}to{opacity:1;filter:blur(0)}}.details-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between}.details-content[_ngcontent-%COMP%]   .package-title[_ngcontent-%COMP%]{font-size:1.875rem;color:#d4a017;margin-bottom:1.25rem;font-weight:700;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.details-content[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]{margin-bottom:1.5rem}.details-content[_ngcontent-%COMP%]   .package-detail[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin-bottom:.875rem;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.details-content[_ngcontent-%COMP%]   .package-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.button-group[_ngcontent-%COMP%]{display:flex;gap:1.25rem;margin-top:1.5rem;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .4s ease;animation:_ngcontent-%COMP%_buttonPop .7s ease-out}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff;box-shadow:0 2px 6px #d4a0174d}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-3px);box-shadow:0 4px 12px #d4a01780}.btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7184,#4a5568);transform:translateY(-3px);box-shadow:0 4px 12px #5a718466}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.reviews-section[_ngcontent-%COMP%]{padding:24px;background:#f7fafc;border-radius:12px;box-shadow:0 4px 16px #00000014;margin-top:48px;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.section-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#1a202c;margin-bottom:1.5rem;font-weight:700;animation:_ngcontent-%COMP%_slideIn .6s ease-out}.reviews-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:24px}.review-item[_ngcontent-%COMP%]{padding:16px;border-radius:10px;background:#fff;box-shadow:0 3px 12px #00000014;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_reviewFadeIn .7s ease-out}.review-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 16px #0000001f}.review-item[_ngcontent-%COMP%]   .review-detail[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:.75rem;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.review-item[_ngcontent-%COMP%]   .review-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}@keyframes _ngcontent-%COMP%_reviewFadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.star-rating[_ngcontent-%COMP%]{color:#d4a017;font-size:1rem;font-weight:600;animation:_ngcontent-%COMP%_starPulse 1s ease-out}@keyframes _ngcontent-%COMP%_starPulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}@media (max-width: 1024px){.package-card[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.image-container[_ngcontent-%COMP%]{width:100%;max-height:200px}.reviews-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.package-title[_ngcontent-%COMP%]{font-size:1.625rem}.section-title[_ngcontent-%COMP%]{font-size:1.5rem}.button-group[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.btn[_ngcontent-%COMP%]{width:100%;padding:12px}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.package-title[_ngcontent-%COMP%]{font-size:1.5rem}.package-detail[_ngcontent-%COMP%], .review-detail[_ngcontent-%COMP%]{font-size:.95rem}.reviews-section[_ngcontent-%COMP%]{padding:16px}.review-item[_ngcontent-%COMP%]{padding:12px}.reviews-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})};var Vl=class n{constructor(t){this.http=t}apiUrl="https://fizo.runasp.net/api/Bookings";createHotelBooking(t){return this.http.post(`${this.apiUrl}/hotel`,t).pipe(we(e=>console.log("API Response (CreateHotelBooking):",e)),ht(this.handleError))}createTourGuideBooking(t){return this.http.post(`${this.apiUrl}/tourguide`,t).pipe(we(e=>console.log("API Response (CreateTourGuideBooking):",e)),ht(this.handleError))}handleError(t){let e="An error occurred while creating the booking.";return t.error instanceof ErrorEvent?e=`Client Error: ${t.error.message}`:t.error&&t.error.Errors&&Array.isArray(t.error.Errors)?e=`Server Error: ${t.error.Errors.join(", ")}`:t.error&&typeof t.error=="string"?e=`Server Error: ${t.error}`:e=`Error Code: ${t.status}
Message: ${t.message||"Unknown error"}`,console.error("API Error:",e),Nn(()=>new Error(e))}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var i9=()=>[1,2,3,4,5,6,7];function o9(n,t){if(n&1&&(u(0,"div",6),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function r9(n,t){if(n&1&&(u(0,"div",7),p(1),d()),n&2){let e=w();m(),A(e.successMessage)}}function s9(n,t){n&1&&(u(0,"div",8),p(1,"Loading booking details..."),d())}function a9(n,t){if(n&1&&(u(0,"option",24),p(1),_t(2,"date"),d()),n&2){let e=t.$implicit;x("value",e),m(),A(zt(2,2,e,"mediumDate"))}}function l9(n,t){n&1&&(u(0,"span"),p(1,"Booking date is required."),d())}function c9(n,t){if(n&1&&(u(0,"div",25),S(1,l9,2,0,"span",26),d()),n&2){let e,i=w(2);m(),x("ngIf",(e=i.bookingForm.get("bookingDate"))==null||e.errors==null?null:e.errors.required)}}function d9(n,t){if(n&1&&(u(0,"option",24),p(1),d()),n&2){let e=t.$implicit;x("value",e),m(),A(e)}}function u9(n,t){n&1&&(u(0,"span"),p(1,"Number of nights is required."),d())}function f9(n,t){n&1&&(u(0,"span"),p(1,"Number of nights must be at least 1."),d())}function p9(n,t){if(n&1&&(u(0,"div",25),S(1,u9,2,0,"span",26)(2,f9,2,0,"span",26),d()),n&2){let e,i,o=w(2);m(),x("ngIf",(e=o.bookingForm.get("numberOfNights"))==null||e.errors==null?null:e.errors.required),m(),x("ngIf",(i=o.bookingForm.get("numberOfNights"))==null||i.errors==null?null:i.errors.min)}}function h9(n,t){if(n&1){let e=U();u(0,"div",9)(1,"h4",10),p(2),d(),u(3,"p",11)(4,"strong"),p(5,"Price per Night:"),d(),p(6),d(),u(7,"form",12),I("ngSubmit",function(){P(e);let o=w();return O(o.submitBooking())}),u(8,"div",13)(9,"label",14),p(10,"Booking Date"),d(),u(11,"select",15)(12,"option",16),p(13,"Select a date"),d(),S(14,a9,3,5,"option",17),d(),S(15,c9,2,1,"div",18),d(),u(16,"div",13)(17,"label",19),p(18,"Number of Nights"),d(),u(19,"select",20),S(20,d9,2,2,"option",17),d(),S(21,p9,3,2,"div",18),d(),u(22,"p",11)(23,"strong"),p(24,"Total Price:"),d(),p(25),d(),u(26,"div",21)(27,"button",22),p(28,"Confirm Booking"),d(),u(29,"button",23),I("click",function(){P(e);let o=w();return O(o.goBack())}),p(30,"Cancel"),d()()()()}if(n&2){let e,i,o=w();m(2),A(o.room.roomType),m(4),T(" $",o.room.pricePerNight,""),m(),x("formGroup",o.bookingForm),m(7),x("ngForOf",o.availableDates),m(),x("ngIf",((e=o.bookingForm.get("bookingDate"))==null?null:e.touched)&&((e=o.bookingForm.get("bookingDate"))==null?null:e.errors)),m(5),x("ngForOf",cn(9,i9)),m(),x("ngIf",((i=o.bookingForm.get("numberOfNights"))==null?null:i.touched)&&((i=o.bookingForm.get("numberOfNights"))==null?null:i.errors)),m(4),T(" $",o.calculateTotalPrice(),""),m(2),x("disabled",o.bookingForm.invalid)}}var Tm=class n{constructor(t,e,i,o,r){this.route=t;this.router=e;this.hotelService=i;this.bookingService=o;this.fb=r;this.bookingForm=this.fb.group({bookingDate:["",Cn.required],numberOfNights:[1,[Cn.required,Cn.min(1)]]})}hotel=null;room=null;booking={touristEmail:"",hotelID:"",roomID:"",bookingDate:"",totalPrice:0};numberOfNights=1;availableDates=[];errorMessage=null;successMessage=null;bookingForm;ngOnInit(){let t=this.route.snapshot.queryParamMap.get("hotelId"),e=this.route.snapshot.queryParamMap.get("roomId");t&&e?(this.booking.hotelID=t,this.booking.roomID=e,this.loadHotelDetails(t),this.loadRoomDetails(t,e),this.generateFutureDates()):this.errorMessage="Invalid hotel or room ID."}loadHotelDetails(t){this.hotelService.getHotelById(t).subscribe({next:e=>{this.hotel=e},error:e=>{this.errorMessage=`Error loading hotel details: ${e.message}`}})}loadRoomDetails(t,e){this.hotelService.getHotelRooms(t).subscribe({next:i=>{this.room=i.find(o=>o.roomId===e)||null,this.room||(this.errorMessage="Room not found.")},error:i=>{this.errorMessage=`Error loading room details: ${i.message}`}})}generateFutureDates(){let t=new Date("2025-07-20");this.availableDates=[];for(let e=1;e<=30;e++){let i=new Date(t);i.setDate(t.getDate()+e),this.availableDates.push(i.toISOString())}}calculateTotalPrice(){return this.room?this.room.pricePerNight*this.bookingForm.get("numberOfNights")?.value:0}submitBooking(){this.bookingForm.invalid||!this.validateForm()||(this.booking.touristEmail=localStorage.getItem("email"),this.booking.bookingDate=this.bookingForm.get("bookingDate")?.value,this.booking.totalPrice=this.calculateTotalPrice(),this.bookingService.createHotelBooking(this.booking).subscribe({next:t=>{console.log(t),this.successMessage="Booking created successfully!",this.errorMessage=null;let e=this.calculateTotalPrice(),i=t.bookingID;console.log("price : "+e),this.router.navigate(["/create-checkout-session"],{state:{price:e,bookingId:i}})},error:t=>{this.errorMessage=`Booking failed: ${t}`,this.successMessage=null}}))}validateForm(){return this.bookingForm.get("bookingDate")?.value?this.bookingForm.get("numberOfNights")?.value<1?(this.errorMessage="Number of nights must be at least 1.",!1):!this.room||!this.room.isAvailable?(this.errorMessage="Selected room is not available.",!1):(this.errorMessage=null,!0):(this.errorMessage="Please select a booking date.",!1)}goBack(){this.router.navigate(["/hotels-details",this.booking.hotelID])}static \u0275fac=function(e){return new(e||n)(D(Se),D(ee),D(Wo),D(Vl),D($o))};static \u0275cmp=F({type:n,selectors:[["app-hotel-booking"]],decls:8,vars:5,consts:[[1,"container"],[1,"title"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-loading",4,"ngIf"],["class","booking-section card",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-success"],[1,"alert","alert-loading"],[1,"booking-section","card"],[1,"section-title"],[1,"booking-detail"],[1,"booking-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","bookingDate",1,"form-label"],["id","bookingDate","formControlName","bookingDate","required","",1,"form-input"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["for","numberOfNights",1,"form-label"],["id","numberOfNights","formControlName","numberOfNights","required","",1,"form-input"],[1,"button-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"error-message"],[4,"ngIf"]],template:function(e,i){e&1&&(u(0,"div",0),M(1,"app-navbar"),u(2,"h2",1),p(3),d(),S(4,o9,2,1,"div",2)(5,r9,2,1,"div",3)(6,s9,2,0,"div",4)(7,h9,31,10,"div",5),d()),e&2&&(m(3),T("Book a Room at ",(i.hotel==null?null:i.hotel.hotelName)||"Hotel",""),m(),x("ngIf",i.errorMessage),m(),x("ngIf",i.successMessage),m(),x("ngIf",!i.hotel||!i.room),m(),x("ngIf",i.hotel&&i.room))},dependencies:[J,rt,ye,_n,Go,Ye,Bi,ji,pi,Pe,qe,Kt,po,ho,St],styles:['.container[_ngcontent-%COMP%]{max-width:1200px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;box-shadow:0 4px 16px #0000001a;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:#d4a017;margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.alert[_ngcontent-%COMP%]{padding:16px;border-radius:10px;margin-bottom:24px;font-size:1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .5s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2}.alert.alert-success[_ngcontent-%COMP%]{background-color:#e6fffa;color:#2c7a7b;border:1px solid #4fd1c5}.alert.alert-loading[_ngcontent-%COMP%]{background-color:#edf2f7;color:#4a5568;border:1px solid #e2e8f0;position:relative;overflow:hidden}.alert.alert-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.booking-section.card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 16px #0000001a;transition:transform .4s ease,box-shadow .4s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.booking-section.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #d4a01726}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.section-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#d4a017;margin-bottom:1.5rem;font-weight:700;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.booking-detail[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin-bottom:.875rem;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.booking-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.booking-form[_ngcontent-%COMP%]{margin-bottom:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-size:1.1rem;color:#1a202c;font-weight:600;margin-bottom:.5rem}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;color:#1a202c;background-color:#fff;transition:border-color .3s ease,box-shadow .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#d4a017;box-shadow:0 0 0 3px #d4a01733}.error-message[_ngcontent-%COMP%]{color:#9b2c2c;font-size:.9rem;margin-top:.5rem}.button-group[_ngcontent-%COMP%]{display:flex;gap:1.25rem;margin-top:1.5rem;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .4s ease;animation:_ngcontent-%COMP%_buttonPop .7s ease-out}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff;box-shadow:0 2px 6px #d4a0174d}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-3px);box-shadow:0 4px 12px #d4a01780}.btn.btn-primary[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;opacity:.6}.btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7184,#4a5568);transform:translateY(-3px);box-shadow:0 4px 12px #5a718466}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.5rem}.button-group[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.btn[_ngcontent-%COMP%]{width:100%;padding:12px}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.section-title[_ngcontent-%COMP%]{font-size:1.25rem}.booking-detail[_ngcontent-%COMP%], .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]{font-size:.95rem}}']})};function m9(n,t){if(n&1&&(u(0,"div",5),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function g9(n,t){n&1&&(u(0,"div",6),p(1,"Loading room details..."),d())}function _9(n,t){n&1&&(u(0,"div",16),p(1," No images available "),d())}function v9(n,t){if(n&1){let e=U();u(0,"div",19)(1,"button",20),I("click",function(){P(e);let o=w(3);return O(o.prevImage())}),p(2,"\u276E"),d(),u(3,"button",21),I("click",function(){P(e);let o=w(3);return O(o.nextImage())}),p(4,"\u276F"),d()()}}function b9(n,t){if(n&1&&(u(0,"div"),M(1,"img",17),S(2,v9,5,0,"div",18),d()),n&2){let e=w(2);m(),x("src",e.room.photoUrls[e.currentImageIndex],ce),m(),x("ngIf",e.room.photoUrls.length>1)}}function y9(n,t){if(n&1){let e=U();u(0,"div",7)(1,"div",8),S(2,_9,2,0,"div",9)(3,b9,3,2,"div",10),d(),u(4,"h3",11),p(5),d(),u(6,"p",12)(7,"strong"),p(8,"Hotel:"),d(),p(9),d(),u(10,"p",12)(11,"strong"),p(12,"Price per Night:"),d(),p(13),d(),u(14,"p",13)(15,"strong"),p(16,"Availability:"),d(),u(17,"span",14),p(18),M(19,"i",14),d()(),u(20,"button",15),I("click",function(){P(e);let o=w();return O(o.goBack())}),p(21,"Back to Hotel"),d()()}if(n&2){let e=w();m(2),x("ngIf",!e.room.photoUrls||e.room.photoUrls.length===0),m(),x("ngIf",e.room.photoUrls&&e.room.photoUrls.length>0),m(2),A(e.room.roomType),m(4),T(" ",e.room.hotelName,""),m(4),T(" $",e.room.pricePerNight,""),m(4),x("ngClass",e.room.isAvailable?"available":"unavailable"),m(),T(" ",e.room.isAvailable?"Available":"Not Available"," "),m(),tt("available-icon",e.room.isAvailable)("unavailable-icon",!e.room.isAvailable),x("ngClass",e.room.isAvailable?"fa-solid fa-check":"fa-solid fa-times")}}var Am=class n{constructor(t,e,i){this.hotelService=t;this.route=e;this.router=i}room=null;errorMessage=null;hotelId=null;currentImageIndex=0;ngOnInit(){let t=this.route.snapshot.paramMap.get("roomId");this.hotelId=this.route.snapshot.queryParamMap.get("hotelId"),t?this.loadRoomDetails(t):this.errorMessage="Invalid room ID."}loadRoomDetails(t){this.hotelService.getRoomById(t).subscribe({next:e=>{console.log("Room details received in RoomDetailsComponent:",e),this.room=e},error:e=>{console.error("Error in RoomDetailsComponent:",e.message),this.errorMessage=e.message}})}goBack(){this.hotelId?this.router.navigate(["/hotel-details",this.hotelId]):this.router.navigate(["/hotel-reservation"])}prevImage(){this.room&&this.room.photoUrls&&this.room.photoUrls.length>0&&(this.currentImageIndex=(this.currentImageIndex-1+this.room.photoUrls.length)%this.room.photoUrls.length)}nextImage(){this.room&&this.room.photoUrls&&this.room.photoUrls.length>0&&(this.currentImageIndex=(this.currentImageIndex+1)%this.room.photoUrls.length)}static \u0275fac=function(e){return new(e||n)(D(Wo),D(Se),D(ee))};static \u0275cmp=F({type:n,selectors:[["app-room-details"]],decls:7,vars:4,consts:[[1,"container"],[1,"title"],["class","alert alert-error",4,"ngIf"],["class","alert alert-loading",4,"ngIf"],["class","room-details",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-loading"],[1,"room-details"],[1,"image-slider"],["class","no-image",4,"ngIf"],[4,"ngIf"],[1,"room-title"],[1,"room-detail"],[1,"availability"],[3,"ngClass"],[1,"btn","btn-secondary",3,"click"],[1,"no-image"],["alt","room-image",1,"room-image",3,"src"],["class","slider-controls",4,"ngIf"],[1,"slider-controls"],[1,"slider-btn","prev",3,"click"],[1,"slider-btn","next",3,"click"]],template:function(e,i){e&1&&(u(0,"div",0),M(1,"app-navbar"),u(2,"h2",1),p(3),d(),S(4,m9,2,1,"div",2)(5,g9,2,0,"div",3)(6,y9,22,12,"div",4),d()),e&2&&(m(3),A((i.room==null?null:i.room.hotelName)||"Room Details"),m(),x("ngIf",i.errorMessage),m(),x("ngIf",!i.room&&!i.errorMessage),m(),x("ngIf",i.room))},dependencies:[J,Et,ye,Le,St],styles:['.container[_ngcontent-%COMP%]{max-width:960px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:linear-gradient(90deg,#2b6cb0,#63b3ed);margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.alert[_ngcontent-%COMP%]{padding:20px;border-radius:12px;margin-bottom:32px;font-size:1.1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .6s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2;box-shadow:0 4px 12px #9b2c2c1a}.alert.alert-loading[_ngcontent-%COMP%]{background-color:#edf2f7;color:#4a5568;border:1px solid #e2e8f0;position:relative;overflow:hidden}.alert.alert-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.alert.alert-no-data[_ngcontent-%COMP%]{background-color:#f7fafc;color:#4a5568;font-style:italic;border:1px solid #e2e8f0;box-shadow:0 4px 12px #0000000d}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.85)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.room-details[_ngcontent-%COMP%]{padding:32px;background:#fff;border-radius:16px;box-shadow:0 6px 24px #0000001f;animation:_ngcontent-%COMP%_fadeInUp .9s ease-out;position:relative;overflow:hidden}.room-details[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,#2b6cb0,#63b3ed);animation:_ngcontent-%COMP%_borderSlide 1s ease-out}.room-details[_ngcontent-%COMP%]   .room-title[_ngcontent-%COMP%]{font-size:2rem;color:#2b6cb0;margin-bottom:1.5rem;font-weight:700;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_borderSlide{0%{width:0}to{width:100%}}.image-slider[_ngcontent-%COMP%]{position:relative;width:100%;max-height:400px;aspect-ratio:16/9;overflow:hidden;border-radius:12px;margin-bottom:24px;background:#e2e8f0}.image-slider[_ngcontent-%COMP%]   .room-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease;animation:_ngcontent-%COMP%_imageFadeIn 1s ease-out}.image-slider[_ngcontent-%COMP%]   .room-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.image-slider[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(145deg,#e2e8f0,#d1d9e6);color:#4a5568;font-size:1.1rem;font-weight:500;text-align:center;border-radius:12px;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@keyframes _ngcontent-%COMP%_imageFadeIn{0%{opacity:0;filter:blur(6px)}to{opacity:1;filter:blur(0)}}.slider-controls[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;display:flex;justify-content:space-between;transform:translateY(-50%)}.slider-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2b6cb0cc,#3182cee6);color:#fff;border:none;padding:10px 14px;border-radius:50%;cursor:pointer;font-size:1.1rem;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.slider-btn.prev[_ngcontent-%COMP%]{margin-left:16px}.slider-btn.next[_ngcontent-%COMP%]{margin-right:16px}.slider-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2b6cb0,#3182ce);transform:scale(1.15);box-shadow:0 4px 12px #3182ce66}.room-detail[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin-bottom:16px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.room-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.availability[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin-bottom:16px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.availability[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.availability[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]{color:#2f855a;font-weight:600}.availability[_ngcontent-%COMP%]   .unavailable[_ngcontent-%COMP%]{color:#9b2c2c;font-weight:600}.availability[_ngcontent-%COMP%]   .available-icon[_ngcontent-%COMP%]{color:#2f855a;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}.availability[_ngcontent-%COMP%]   .unavailable-icon[_ngcontent-%COMP%]{color:#9b2c2c;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}@keyframes _ngcontent-%COMP%_iconPulse{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}.btn[_ngcontent-%COMP%]{width:100%;padding:14px;border:none;border-radius:10px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .4s ease;animation:_ngcontent-%COMP%_buttonPop .8s ease-out}.btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7184,#4a5568);transform:translateY(-3px);box-shadow:0 6px 20px #5a718480}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 1024px){.image-slider[_ngcontent-%COMP%]{max-height:350px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.room-title[_ngcontent-%COMP%]{font-size:1.75rem}.image-slider[_ngcontent-%COMP%]{max-height:300px}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.room-title[_ngcontent-%COMP%]{font-size:1.625rem}.room-detail[_ngcontent-%COMP%], .availability[_ngcontent-%COMP%]{font-size:.95rem}.room-details[_ngcontent-%COMP%]{padding:20px}.image-slider[_ngcontent-%COMP%]{max-height:250px}.slider-btn[_ngcontent-%COMP%]{padding:8px 10px;font-size:.9rem}}']})};var C9=()=>[1,2,3,4,5,6,7,8];function x9(n,t){if(n&1&&(u(0,"div",6),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function w9(n,t){if(n&1&&(u(0,"div",7),p(1),d()),n&2){let e=w();m(),A(e.successMessage)}}function M9(n,t){n&1&&(u(0,"div",8),p(1,"Loading tour guide details..."),d())}function E9(n,t){if(n&1&&(u(0,"option",24),p(1),_t(2,"date"),d()),n&2){let e=t.$implicit;x("value",e),m(),A(zt(2,2,e,"mediumDate"))}}function D9(n,t){n&1&&(u(0,"span"),p(1,"Booking date is required."),d())}function S9(n,t){if(n&1&&(u(0,"div",25),S(1,D9,2,0,"span",26),d()),n&2){let e,i=w(2);m(),x("ngIf",(e=i.bookingForm.get("bookingDate"))==null||e.errors==null?null:e.errors.required)}}function P9(n,t){if(n&1&&(u(0,"option",24),p(1),d()),n&2){let e=t.$implicit;x("value",e),m(),A(e)}}function O9(n,t){n&1&&(u(0,"span"),p(1,"Number of hours is required."),d())}function I9(n,t){n&1&&(u(0,"span"),p(1,"Number of hours must be at least 1."),d())}function k9(n,t){if(n&1&&(u(0,"div",25),S(1,O9,2,0,"span",26)(2,I9,2,0,"span",26),d()),n&2){let e,i,o=w(2);m(),x("ngIf",(e=o.bookingForm.get("numberOfHours"))==null||e.errors==null?null:e.errors.required),m(),x("ngIf",(i=o.bookingForm.get("numberOfHours"))==null||i.errors==null?null:i.errors.min)}}function T9(n,t){if(n&1){let e=U();u(0,"div",9)(1,"h4",10),p(2),d(),u(3,"p",11)(4,"strong"),p(5,"Price per Hour:"),d(),p(6),d(),u(7,"form",12),I("ngSubmit",function(){P(e);let o=w();return O(o.submitBooking())}),u(8,"div",13)(9,"label",14),p(10,"Booking Date"),d(),u(11,"select",15)(12,"option",16),p(13,"Select a date"),d(),S(14,E9,3,5,"option",17),d(),S(15,S9,2,1,"div",18),d(),u(16,"div",13)(17,"label",19),p(18,"Number of Hours"),d(),u(19,"select",20),S(20,P9,2,2,"option",17),d(),S(21,k9,3,2,"div",18),d(),u(22,"p",11)(23,"strong"),p(24,"Total Price:"),d(),p(25),d(),u(26,"div",21)(27,"button",22),p(28,"Confirm Booking"),d(),u(29,"button",23),I("click",function(){P(e);let o=w();return O(o.goBack())}),p(30,"Cancel"),d()()()()}if(n&2){let e,i,o=w();m(2),A(o.tourGuide.guideName),m(4),T(" $",o.tourGuide.pricePerHour,""),m(),x("formGroup",o.bookingForm),m(7),x("ngForOf",o.availableDates),m(),x("ngIf",((e=o.bookingForm.get("bookingDate"))==null?null:e.touched)&&((e=o.bookingForm.get("bookingDate"))==null?null:e.errors)),m(5),x("ngForOf",cn(9,C9)),m(),x("ngIf",((i=o.bookingForm.get("numberOfHours"))==null?null:i.touched)&&((i=o.bookingForm.get("numberOfHours"))==null?null:i.errors)),m(4),T(" $",o.calculateTotalPrice(),""),m(2),x("disabled",o.bookingForm.invalid)}}var Rm=class n{constructor(t,e,i,o,r){this.route=t;this.router=e;this.tourGuideService=i;this.bookingService=o;this.fb=r;this.bookingForm=this.fb.group({bookingDate:["",Cn.required],numberOfHours:[1,[Cn.required,Cn.min(1)]]})}tourGuide=null;booking={touristEmail:"",tourGuideID:"",bookingDate:"",totalPrice:0};availableDates=[];errorMessage=null;successMessage=null;bookingForm;ngOnInit(){let t=this.route.snapshot.queryParamMap.get("guideId");t?(this.booking.tourGuideID=t,this.loadTourGuideDetails(t),this.generateFutureDates()):this.errorMessage="Invalid tour guide ID."}loadTourGuideDetails(t){this.tourGuideService.getTourGuideById(t).subscribe({next:e=>{this.tourGuide=e},error:e=>{this.errorMessage=`Error loading tour guide details: ${e.message}`}})}generateFutureDates(){let t=new Date("2025-07-20T05:39:00+03:00");this.availableDates=[];for(let e=1;e<=30;e++){let i=new Date(t);i.setDate(t.getDate()+e),this.availableDates.push(i.toISOString())}}calculateTotalPrice(){return this.tourGuide?this.tourGuide.pricePerHour*this.bookingForm.get("numberOfHours")?.value:0}submitBooking(){this.bookingForm.invalid||!this.validateForm()||(this.booking.touristEmail=localStorage.getItem("email"),this.booking.bookingDate=this.bookingForm.get("bookingDate")?.value,this.booking.totalPrice=this.calculateTotalPrice(),this.bookingService.createTourGuideBooking(this.booking).subscribe({next:t=>{this.successMessage="Booking created successfully!",this.errorMessage=null;let e=this.booking.totalPrice,i=t.bookingID;this.router.navigate(["/create-checkout-session"],{state:{price:e,bookingId:i}})},error:t=>{this.errorMessage=`Booking failed: ${t.message}`,this.successMessage=null}}))}validateForm(){return this.bookingForm.get("bookingDate")?.value?this.bookingForm.get("numberOfHours")?.value<1?(this.errorMessage="Number of hours must be at least 1.",!1):!this.tourGuide||!this.tourGuide.isAvailable?(this.errorMessage="Selected tour guide is not available.",!1):(this.errorMessage=null,!0):(this.errorMessage="Please select a booking date.",!1)}goBack(){this.router.navigate(["/tour-guide-details",this.booking.tourGuideID])}static \u0275fac=function(e){return new(e||n)(D(Se),D(ee),D(zo),D(Vl),D($o))};static \u0275cmp=F({type:n,selectors:[["app-tour-guide-booking"]],decls:8,vars:5,consts:[[1,"container"],[1,"title"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-loading",4,"ngIf"],["class","booking-section card",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-success"],[1,"alert","alert-loading"],[1,"booking-section","card"],[1,"section-title"],[1,"booking-detail"],[1,"booking-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","bookingDate",1,"form-label"],["id","bookingDate","formControlName","bookingDate","required","",1,"form-input"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["for","numberOfHours",1,"form-label"],["id","numberOfHours","formControlName","numberOfHours","required","",1,"form-input"],[1,"button-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"error-message"],[4,"ngIf"]],template:function(e,i){e&1&&(M(0,"app-navbar"),u(1,"div",0)(2,"h2",1),p(3),d(),S(4,x9,2,1,"div",2)(5,w9,2,1,"div",3)(6,M9,2,0,"div",4)(7,T9,31,10,"div",5),d()),e&2&&(m(3),T("Book Tour Guide: ",(i.tourGuide==null?null:i.tourGuide.guideName)||"Tour Guide",""),m(),x("ngIf",i.errorMessage),m(),x("ngIf",i.successMessage),m(),x("ngIf",!i.tourGuide),m(),x("ngIf",i.tourGuide))},dependencies:[J,rt,ye,_n,Go,Ye,Bi,ji,pi,Pe,qe,Kt,po,ho,St],styles:['.container[_ngcontent-%COMP%]{max-width:720px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;box-shadow:0 4px 16px #0000001a;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:linear-gradient(90deg,#d4a017,#e6b800);margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.alert[_ngcontent-%COMP%]{padding:16px;border-radius:10px;margin-bottom:24px;font-size:1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .5s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2;box-shadow:0 4px 12px #9b2c2c1a}.alert.alert-success[_ngcontent-%COMP%]{background-color:#e6fffa;color:#2c7a7b;border:1px solid #4fd1c5;box-shadow:0 4px 12px #2f855a1a}.alert.alert-loading[_ngcontent-%COMP%]{background-color:#edf2f7;color:#4a5568;border:1px solid #e2e8f0;position:relative;overflow:hidden}.alert.alert-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.booking-section.card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 16px #0000001a;transition:transform .4s ease,box-shadow .4s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.booking-section.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #d4a01726}.booking-section.card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,#d4a017,#e6b800);animation:_ngcontent-%COMP%_borderSlide 1s ease-out}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_borderSlide{0%{width:0}to{width:100%}}.section-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#d4a017;margin-bottom:1.5rem;font-weight:700;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.booking-detail[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin-bottom:.875rem;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.booking-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.booking-form[_ngcontent-%COMP%]{margin-bottom:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-size:1.1rem;color:#1a202c;font-weight:600;margin-bottom:.5rem}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;color:#1a202c;background-color:#fff;transition:border-color .3s ease,box-shadow .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#d4a017;box-shadow:0 0 0 3px #d4a01733}.error-message[_ngcontent-%COMP%]{color:#9b2c2c;font-size:.9rem;margin-top:.5rem}.button-group[_ngcontent-%COMP%]{display:flex;gap:1.25rem;margin-top:1.5rem;justify-content:center;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{width:200px;padding:12px;border:none;border-radius:10px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .4s ease;animation:_ngcontent-%COMP%_buttonPop .7s ease-out}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff;box-shadow:0 2px 6px #d4a0174d}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-3px);box-shadow:0 4px 12px #d4a01780}.btn.btn-primary[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;opacity:.6}.btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7184,#4a5568);transform:translateY(-3px);box-shadow:0 4px 12px #5a718466}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.625rem}.button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.section-title[_ngcontent-%COMP%]{font-size:1.5rem}.booking-detail[_ngcontent-%COMP%], .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]{font-size:.95rem}.booking-section[_ngcontent-%COMP%]{padding:20px}}']})};function A9(n,t){if(n&1&&(u(0,"div",5),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function R9(n,t){n&1&&(u(0,"div",6),p(1,"Loading tour guide details..."),d())}function N9(n,t){n&1&&(u(0,"div",25),p(1," No images available "),d())}function F9(n,t){if(n&1){let e=U();u(0,"div",28)(1,"button",29),I("click",function(){P(e);let o=w(3);return O(o.prevImage())}),p(2,"\u276E"),d(),u(3,"button",30),I("click",function(){P(e);let o=w(3);return O(o.nextImage())}),p(4,"\u276F"),d()()}}function L9(n,t){if(n&1&&(u(0,"div"),M(1,"img",26),S(2,F9,5,0,"div",27),d()),n&2){let e=w(2);m(),x("src",e.tourGuide.photoUrls[e.currentImageIndex],ce),m(),x("ngIf",e.tourGuide.photoUrls.length>1)}}function V9(n,t){n&1&&M(0,"i",31)}function B9(n,t){n&1&&M(0,"i",32)}function j9(n,t){n&1&&(u(0,"div",33),p(1,"No reviews available."),d())}function H9(n,t){n&1&&M(0,"i",31)}function U9(n,t){n&1&&M(0,"i",32)}function z9(n,t){if(n&1&&(u(0,"div",36)(1,"div",37),S(2,H9,1,0,"i",16)(3,U9,1,0,"i",17),u(4,"p"),p(5),d()(),u(6,"p",38)(7,"strong"),p(8,"Comment:"),d(),p(9),d(),u(10,"p",38)(11,"strong"),p(12,"By:"),d(),p(13),d(),u(14,"p",38)(15,"strong"),p(16,"Date:"),d(),p(17),_t(18,"date"),d()()),n&2){let e=t.$implicit,i=w(3);m(2),x("ngForOf",i.getStarRatingArray(e.rating)),m(),x("ngForOf",i.getEmptyStarRatingArray(e.rating)),m(2),T("(",e.rating," Stars)"),m(4),T(" ",e.comment,""),m(4),T(" ",e.userEmail,""),m(4),T(" ",zt(18,6,e.reviewDate,"medium"),"")}}function $9(n,t){if(n&1&&(u(0,"div",34),S(1,z9,19,9,"div",35),d()),n&2){let e=w(2);m(),x("ngForOf",e.reviews)}}function G9(n,t){if(n&1){let e=U();u(0,"div",7)(1,"div",8),S(2,N9,2,0,"div",9)(3,L9,3,2,"div",10),d(),u(4,"h3",11),p(5),d(),u(6,"p",12)(7,"strong"),p(8,"License Number:"),d(),p(9),d(),u(10,"p",12)(11,"strong"),p(12,"Languages:"),d(),p(13),d(),u(14,"p",12)(15,"strong"),p(16,"Areas Covered:"),d(),p(17),d(),u(18,"p",12)(19,"strong"),p(20,"Price per Hour:"),d(),p(21),d(),u(22,"p",13)(23,"strong"),p(24,"Availability:"),d(),u(25,"span",14),p(26),M(27,"i",14),d()(),u(28,"div",15),S(29,V9,1,0,"i",16)(30,B9,1,0,"i",17),u(31,"p"),p(32),d()(),u(33,"p",12)(34,"strong"),p(35,"Contact Email:"),d(),p(36),d(),u(37,"p",12)(38,"strong"),p(39,"Contact Phone:"),d(),p(40),d(),u(41,"p",12)(42,"strong"),p(43,"Total Bookings:"),d(),p(44),d(),u(45,"div",18)(46,"h4",19),p(47,"Reviews"),d(),S(48,j9,2,0,"div",20)(49,$9,2,1,"div",21),d(),u(50,"div",22)(51,"button",23),I("click",function(){P(e);let o=w();return O(o.bookTourGuide(o.tourGuide.guideID))}),p(52,"Book Tour Guide"),d(),u(53,"button",24),I("click",function(){P(e);let o=w();return O(o.goBack())}),p(54,"Back to Tour Guides"),d()()()}if(n&2){let e=w();m(2),x("ngIf",!e.tourGuide.photoUrls||e.tourGuide.photoUrls.length===0),m(),x("ngIf",e.tourGuide.photoUrls&&e.tourGuide.photoUrls.length>0),m(2),A(e.tourGuide.guideName),m(4),T(" ",e.tourGuide.licenseNumber,""),m(4),T(" ",e.tourGuide.languages,""),m(4),T(" ",e.tourGuide.areasCovered,""),m(4),T(" $",e.tourGuide.pricePerHour,""),m(4),x("ngClass",e.tourGuide.isAvailable?"available":"unavailable"),m(),T(" ",e.tourGuide.isAvailable?"Available":"Not Available"," "),m(),tt("available-icon",e.tourGuide.isAvailable)("unavailable-icon",!e.tourGuide.isAvailable),x("ngClass",e.tourGuide.isAvailable?"fa-solid fa-check":"fa-solid fa-times"),m(2),x("ngForOf",e.getStarRatingArray(e.tourGuide.averageRating)),m(),x("ngForOf",e.getEmptyStarRatingArray(e.tourGuide.averageRating)),m(2),T("(",e.tourGuide.averageRating," Stars)"),m(4),T(" ",e.tourGuide.contactEmail,""),m(4),T(" ",e.tourGuide.contactPhone,""),m(4),T(" ",e.tourGuide.totalBookings,""),m(4),x("ngIf",e.reviews.length===0),m(),x("ngIf",e.reviews.length>0),m(2),x("disabled",!e.tourGuide.isAvailable)}}var Nm=class n{constructor(t,e,i,o){this.tourGuideService=t;this.reviewService=e;this.route=i;this.router=o}tourGuide=null;reviews=[];authService=y(Ce);goToLoginOrBook(t){this.authService.isLoggedIn()?this.router.navigate(["/package-booking",t]):this.router.navigate(["/login"])}errorMessage=null;dialog=y(ne);currentImageIndex=0;ngOnInit(){let t=this.route.snapshot.paramMap.get("guideId");t?(this.loadTourGuideDetails(t),this.loadReviews(t)):this.errorMessage="Invalid tour guide ID."}bookTourGuide(t){this.authService.isLoggedIn()?this.router.navigate(["/tourguide-booking"],{queryParams:{guideId:t}}):this.router.navigate(["/login"])}loadTourGuideDetails(t){this.tourGuideService.getTourGuideById(t).subscribe({next:e=>{console.log("Tour guide details received in TourGuideDetailsComponent:",e),this.tourGuide=e},error:e=>{console.error("Error in TourGuideDetailsComponent:",e.message),this.errorMessage=e.message}})}loadReviews(t){this.reviewService.getReviewsByGuideId(t).subscribe({next:e=>{console.log("Reviews received in TourGuideDetailsComponent:",e),this.reviews=e},error:e=>{console.error("Error fetching reviews:",e.message),this.errorMessage=e.message}})}getStarRatingArray(t){return Array(Math.round(t)).fill(0)}getEmptyStarRatingArray(t){return Array(5-Math.round(t)).fill(0)}goBack(){this.router.navigate(["/tour-guides"])}prevImage(){this.tourGuide&&this.tourGuide.photoUrls&&this.tourGuide.photoUrls.length>0&&(this.currentImageIndex=(this.currentImageIndex-1+this.tourGuide.photoUrls.length)%this.tourGuide.photoUrls.length)}nextImage(){this.tourGuide&&this.tourGuide.photoUrls&&this.tourGuide.photoUrls.length>0&&(this.currentImageIndex=(this.currentImageIndex+1)%this.tourGuide.photoUrls.length)}isLoggedIn(){return this.authService.getToken()!==null}static \u0275fac=function(e){return new(e||n)(D(zo),D(Ll),D(Se),D(ee))};static \u0275cmp=F({type:n,selectors:[["app-tour-guide-details"]],decls:7,vars:4,consts:[[1,"container"],[1,"title"],["class","alert alert-error",4,"ngIf"],["class","alert alert-loading",4,"ngIf"],["class","guide-details card",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-loading"],[1,"guide-details","card"],[1,"image-slider"],["class","no-image",4,"ngIf"],[4,"ngIf"],[1,"guide-title"],[1,"guide-detail"],[1,"availability"],[3,"ngClass"],[1,"guide-rating"],["class","fa-solid fa-star",4,"ngFor","ngForOf"],["class","fa-solid fa-star empty-star",4,"ngFor","ngForOf"],[1,"guide-reviews"],[1,"section-title"],["class","alert alert-no-data",4,"ngIf"],["class","reviews-list",4,"ngIf"],[1,"button-group"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"no-image"],["alt","guide-image",1,"guide-image",3,"src"],["class","slider-controls",4,"ngIf"],[1,"slider-controls"],[1,"slider-btn","prev",3,"click"],[1,"slider-btn","next",3,"click"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star","empty-star"],[1,"alert","alert-no-data"],[1,"reviews-list"],["class","review-item card",4,"ngFor","ngForOf"],[1,"review-item","card"],[1,"review-rating"],[1,"review-detail"]],template:function(e,i){e&1&&(M(0,"app-navbar"),u(1,"div",0)(2,"h2",1),p(3),d(),S(4,A9,2,1,"div",2)(5,R9,2,0,"div",3)(6,G9,55,23,"div",4),d()),e&2&&(m(3),A((i.tourGuide==null?null:i.tourGuide.guideName)||"Tour Guide Details"),m(),x("ngIf",i.errorMessage),m(),x("ngIf",!i.tourGuide&&!i.errorMessage),m(),x("ngIf",i.tourGuide))},dependencies:[J,Et,rt,ye,_n,Le,St],styles:['.container[_ngcontent-%COMP%]{max-width:960px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;box-shadow:0 4px 16px #0000001a;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:linear-gradient(90deg,#d4a017,#e6b800);margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.alert[_ngcontent-%COMP%]{padding:16px;border-radius:10px;margin-bottom:24px;font-size:1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .5s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2;box-shadow:0 4px 12px #9b2c2c1a}.alert.alert-loading[_ngcontent-%COMP%]{background-color:#edf2f7;color:#4a5568;border:1px solid #e2e8f0;position:relative;overflow:hidden}.alert.alert-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.alert.alert-no-data[_ngcontent-%COMP%]{background-color:#f7fafc;color:#4a5568;font-style:italic;border:1px solid #e2e8f0;box-shadow:0 4px 12px #0000000d}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.guide-details.card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 4px 16px #0000001a;transition:transform .4s ease,box-shadow .4s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.guide-details.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #d4a01726}.guide-details.card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,#d4a017,#e6b800);animation:_ngcontent-%COMP%_borderSlide 1s ease-out}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_borderSlide{0%{width:0}to{width:100%}}.guide-title[_ngcontent-%COMP%]{font-size:2rem;color:#d4a017;margin-bottom:1.5rem;font-weight:700;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.image-slider[_ngcontent-%COMP%]{position:relative;width:100%;max-height:400px;aspect-ratio:16/9;overflow:hidden;border-radius:12px;margin-bottom:24px;background:#e2e8f0}.image-slider[_ngcontent-%COMP%]   .guide-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease;animation:_ngcontent-%COMP%_imageFadeIn .9s ease-out}.image-slider[_ngcontent-%COMP%]   .guide-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.image-slider[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(145deg,#e2e8f0,#d1d9e6);color:#4a5568;font-size:1.1rem;font-weight:500;text-align:center;border-radius:12px;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@keyframes _ngcontent-%COMP%_imageFadeIn{0%{opacity:0;filter:blur(6px)}to{opacity:1;filter:blur(0)}}.slider-controls[_ngcontent-%COMP%]{position:absolute;top:50%;width:100%;display:flex;justify-content:space-between;transform:translateY(-50%)}.slider-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017cc,#e6b800e6);color:#fff;border:none;padding:12px 16px;border-radius:50%;cursor:pointer;font-size:1.2rem;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.slider-btn.prev[_ngcontent-%COMP%]{margin-left:16px}.slider-btn.next[_ngcontent-%COMP%]{margin-right:16px}.slider-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e6b800,#d4a017);transform:scale(1.15);box-shadow:0 4px 12px #d4a01766}.guide-detail[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin-bottom:16px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.guide-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.availability[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin-bottom:16px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.availability[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.availability[_ngcontent-%COMP%]   .available[_ngcontent-%COMP%]{color:#2f855a;font-weight:600}.availability[_ngcontent-%COMP%]   .unavailable[_ngcontent-%COMP%]{color:#9b2c2c;font-weight:600}.availability[_ngcontent-%COMP%]   .available-icon[_ngcontent-%COMP%]{color:#2f855a;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}.availability[_ngcontent-%COMP%]   .unavailable-icon[_ngcontent-%COMP%]{color:#9b2c2c;margin-left:6px;animation:_ngcontent-%COMP%_iconPulse 1.2s ease-out}@keyframes _ngcontent-%COMP%_iconPulse{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}.guide-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.guide-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d4a017;font-size:1.1rem;margin-right:6px;animation:_ngcontent-%COMP%_starPulse 1.2s ease-out}.guide-rating[_ngcontent-%COMP%]   i.empty-star[_ngcontent-%COMP%]{color:#e2e8f0}.guide-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-left:10px}@keyframes _ngcontent-%COMP%_starPulse{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}.guide-reviews[_ngcontent-%COMP%]{margin-top:32px;padding-top:24px;border-top:1px solid #e2e8f0;animation:fadeInUp .9s ease-out}.guide-reviews[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#d4a017;margin-bottom:24px;font-weight:700;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.reviews-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.review-item.card[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 16px #00000014;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.review-item.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 6px 20px #d4a01726}.review-item.card[_ngcontent-%COMP%]   .review-rating[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px}.review-item.card[_ngcontent-%COMP%]   .review-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d4a017;font-size:1rem;margin-right:6px;animation:_ngcontent-%COMP%_starPulse 1.2s ease-out}.review-item.card[_ngcontent-%COMP%]   .review-rating[_ngcontent-%COMP%]   i.empty-star[_ngcontent-%COMP%]{color:#e2e8f0}.review-item.card[_ngcontent-%COMP%]   .review-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#4a5568;margin-left:10px}.review-item.card[_ngcontent-%COMP%]   .review-detail[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:10px}.review-item.card[_ngcontent-%COMP%]   .review-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.button-group[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:24px;justify-content:center;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{width:200px;padding:14px;border:none;border-radius:10px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .4s ease;animation:_ngcontent-%COMP%_buttonPop .8s ease-out}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff;box-shadow:0 2px 6px #d4a0174d}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-3px);box-shadow:0 6px 20px #d4a01780}.btn.btn-primary[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;opacity:.6}.btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7184,#4a5568);transform:translateY(-3px);box-shadow:0 6px 20px #5a718480}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@media (max-width: 1024px){.image-slider[_ngcontent-%COMP%]{max-height:350px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.guide-title[_ngcontent-%COMP%]{font-size:1.75rem}.image-slider[_ngcontent-%COMP%]{max-height:300px}.button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.guide-title[_ngcontent-%COMP%]{font-size:1.625rem}.guide-detail[_ngcontent-%COMP%], .availability[_ngcontent-%COMP%], .guide-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .review-detail[_ngcontent-%COMP%]{font-size:.95rem}.guide-details[_ngcontent-%COMP%]{padding:20px}.image-slider[_ngcontent-%COMP%]{max-height:250px}.slider-btn[_ngcontent-%COMP%]{padding:8px 10px;font-size:.9rem}.section-title[_ngcontent-%COMP%]{font-size:1.3rem}}']})};var W9=n=>["/package-details",n];function q9(n,t){if(n&1&&(u(0,"div",6),p(1),d()),n&2){let e=w();m(),A(e.errorMessage)}}function Y9(n,t){if(n&1&&(u(0,"div",7),p(1),d()),n&2){let e=w();m(),A(e.successMessage)}}function K9(n,t){n&1&&(u(0,"div",8),p(1,"Loading package details..."),d())}function Z9(n,t){if(n&1&&(u(0,"option",23),p(1),_t(2,"date"),d()),n&2){let e=t.$implicit;x("value",e.toISOString()),m(),T("",zt(2,2,e,"mediumDate")," ")}}function Q9(n,t){n&1&&(u(0,"span"),p(1,"Booking date is required."),d())}function X9(n,t){if(n&1&&(u(0,"div",24),S(1,Q9,2,0,"span",25),d()),n&2){let e,i=w(2);m(),x("ngIf",(e=i.bookingForm.get("bookingDate"))==null||e.errors==null?null:e.errors.required)}}function J9(n,t){if(n&1){let e=U();u(0,"div",9)(1,"div",10)(2,"h3",11),p(3),d(),u(4,"p",12)(5,"strong"),p(6,"Total Price:"),d(),p(7),d(),u(8,"p",12)(9,"strong"),p(10,"Valid Booking Dates:"),d(),p(11),_t(12,"date"),_t(13,"date"),d()(),u(14,"form",13),I("ngSubmit",function(){P(e);let o=w();return O(o.onSubmit())}),u(15,"div",14)(16,"label",15),p(17,"Select Booking Date"),d(),u(18,"select",16)(19,"option",17),p(20,"Select a date"),d(),S(21,Z9,3,5,"option",18),d(),S(22,X9,2,1,"div",19),d(),u(23,"div",20)(24,"button",21),p(25,"Submit Booking"),d(),u(26,"button",22),p(27,"Back"),d()()()()}if(n&2){let e,i=w();m(3),A(i.package.packageName),m(4),T(" $",i.package.price,""),m(4),Ao(" ",zt(12,9,i.package.startDate,"mediumDate")," to ",zt(13,12,i.package.endDate,"mediumDate"),""),m(3),x("formGroup",i.bookingForm),m(7),x("ngForOf",i.availableDates),m(),x("ngIf",((e=i.bookingForm.get("bookingDate"))==null?null:e.touched)&&((e=i.bookingForm.get("bookingDate"))==null?null:e.errors)),m(2),x("disabled",i.bookingForm.invalid),m(2),x("routerLink",Qe(15,W9,i.packageId))}}var Fm=class n{constructor(t,e,i){this.route=t;this.tourPackageService=e;this.fb=i;this.bookingForm=this.fb.group({bookingDate:["",Cn.required]})}package=null;bookingForm;errorMessage=null;successMessage=null;packageId=null;bookingDate=null;availableDates=[];router=y(ee);ngOnInit(){this.packageId=this.route.snapshot.paramMap.get("packageId"),this.packageId?this.loadPackageDetails(this.packageId):this.errorMessage="Invalid package ID."}loadPackageDetails(t){this.tourPackageService.getPackageById(t).subscribe({next:e=>{this.package=e,this.bookingDate=new Date(e.startDate),this.bookingDate.setDate(this.bookingDate.getDate()+1),this.bookingForm.patchValue({bookingDate:this.bookingDate.toISOString()}),this.availableDates=this.generateDateRange(new Date(e.startDate),new Date(e.endDate))},error:e=>{console.error("Error fetching package details:",e.message),this.errorMessage="Failed to load package details."}})}generateDateRange(t,e){let i=[],o=new Date(t);for(;o<=e;)i.push(new Date(o)),o.setDate(o.getDate()+1);return i}onSubmit(){if(this.bookingForm.invalid||!this.package||!this.packageId||!this.bookingDate){this.errorMessage="Please select a valid booking date or ensure a valid package is selected.";return}let t={touristEmail:localStorage.getItem("email"),packageId:this.packageId,bookingDate:this.bookingForm.get("bookingDate")?.value,totalPrice:this.package.price};console.log("Booking payload:",t),this.tourPackageService.bookPackage(t).subscribe({next:e=>{this.successMessage=e.message||"Booking created successfully!",this.errorMessage=null;let i=e.bookingID;this.bookingForm.reset();let o=this.package.price;this.router.navigate(["/create-checkout-session"],{state:{price:o,bookingId:i}})},error:e=>{console.error("Error submitting booking:",e.message,e.error);let i=e.error?.message||e.error?.title||e.message||"Failed to create booking. Please try again.";this.errorMessage=i,this.successMessage=null}})}static \u0275fac=function(e){return new(e||n)(D(Se),D(Ho),D($o))};static \u0275cmp=F({type:n,selectors:[["app-package-booking"]],decls:8,vars:4,consts:[[1,"container"],[1,"title"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["class","alert alert-loading",4,"ngIf"],["class","booking-section",4,"ngIf"],[1,"alert","alert-error"],[1,"alert","alert-success"],[1,"alert","alert-loading"],[1,"booking-section"],[1,"package-info","card"],[1,"package-title"],[1,"package-detail"],[1,"booking-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","bookingDate",1,"form-label"],["id","bookingDate","formControlName","bookingDate",1,"form-input"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],[1,"button-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"routerLink"],[3,"value"],[1,"error-message"],[4,"ngIf"]],template:function(e,i){e&1&&(M(0,"app-navbar"),u(1,"div",0)(2,"h2",1),p(3,"Book a Package"),d(),S(4,q9,2,1,"div",2)(5,Y9,2,1,"div",3)(6,K9,2,0,"div",4)(7,J9,28,17,"div",5),d()),e&2&&(m(4),x("ngIf",i.errorMessage),m(),x("ngIf",i.successMessage),m(),x("ngIf",!i.package&&!i.errorMessage),m(),x("ngIf",i.package))},dependencies:[J,rt,ye,_n,Go,Ye,Bi,ji,pi,Pe,qe,po,ho,Le,ie,St],styles:['.container[_ngcontent-%COMP%]{max-width:1200px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;box-shadow:0 4px 16px #0000001a;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:#d4a017;margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.alert[_ngcontent-%COMP%]{padding:16px;border-radius:10px;margin-bottom:24px;font-size:1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .5s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2}.alert.alert-success[_ngcontent-%COMP%]{background-color:#e6fffa;color:#2c7a7b;border:1px solid #4fd1c5}.alert.alert-loading[_ngcontent-%COMP%]{background-color:#edf2f7;color:#4a5568;border:1px solid #e2e8f0;position:relative;overflow:hidden}.alert.alert-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer 1.5s infinite}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.booking-section[_ngcontent-%COMP%]{margin-bottom:48px;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.package-info.card[_ngcontent-%COMP%]{background:#fff;padding:12px 24px;margin:5px 0;border-radius:12px;box-shadow:0 4px 16px #0000001a;transition:transform .4s ease,box-shadow .4s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.package-info.card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #d4a01726}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-label[_ngcontent-%COMP%]{display:block;font-size:1.1rem;color:#1a202c;font-weight:600;margin-bottom:.5rem}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;color:#1a202c;background-color:#fff;transition:border-color .3s ease,box-shadow .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#d4a017;box-shadow:0 0 0 3px #d4a01733}.error-message[_ngcontent-%COMP%]{color:#9b2c2c;font-size:.9rem;margin-top:.5rem}.button-group[_ngcontent-%COMP%]{display:flex;gap:1.25rem;margin-top:1.5rem;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .4s ease;animation:_ngcontent-%COMP%_buttonPop .7s ease-out}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff;box-shadow:0 2px 6px #d4a0174d}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-3px);box-shadow:0 4px 12px #d4a01780}.btn.btn-primary[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;opacity:.6}.btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7184,#4a5568);transform:translateY(-3px);box-shadow:0 4px 12px #5a718466}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@media (max-width: 1024px){.package-info.card[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.package-title[_ngcontent-%COMP%]{font-size:1.625rem}.button-group[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.btn[_ngcontent-%COMP%]{width:100%;padding:12px}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.package-title[_ngcontent-%COMP%]{font-size:1.5rem}.package-detail[_ngcontent-%COMP%]{font-size:.95rem}}']})};var e$=n=>["/package-details",n],t$=()=>[1,2,3,4],n$=n=>({active:n});function i$(n,t){if(n&1&&(u(0,"option",17),p(1),d()),n&2){let e=t.$implicit;x("value",e.label),m(),A(e.label)}}function o$(n,t){if(n&1&&(u(0,"option",17),p(1),d()),n&2){let e=t.$implicit;x("value",e),m(),A(e)}}function r$(n,t){if(n&1&&(u(0,"div",18),p(1),d()),n&2){let e=w();m(),T(" ",e.errorMessage," ")}}function s$(n,t){n&1&&(u(0,"div",19),p(1," No tour packages available. "),d())}function a$(n,t){if(n&1&&M(0,"img",30),n&2){let e=w().$implicit;x("src",e.photoUrls[0],ce)}}function l$(n,t){n&1&&(u(0,"div",31),p(1,"No image available"),d())}function c$(n,t){if(n&1&&(u(0,"div",22)(1,"div",23),S(2,a$,1,1,"img",24)(3,l$,2,0,"div",25),d(),u(4,"div",26)(5,"h3",27),p(6),d(),u(7,"p",28)(8,"strong"),p(9,"Company:"),d(),p(10),d(),u(11,"p",28)(12,"strong"),p(13,"Price:"),d(),p(14),d(),u(15,"p",28)(16,"strong"),p(17,"Duration:"),d(),p(18),d(),u(19,"p",28)(20,"strong"),p(21,"Start Date:"),d(),p(22),_t(23,"date"),d(),u(24,"p",28)(25,"strong"),p(26,"End Date:"),d(),p(27),_t(28,"date"),d(),u(29,"p",28)(30,"strong"),p(31,"Destinations:"),d(),p(32),d(),u(33,"button",29),p(34,"View Details"),d()()()),n&2){let e=t.$implicit,i=t.index,o=w(2);rn("--item-index: ",i,";"),m(2),x("ngIf",e.photoUrls&&e.photoUrls.length>0),m(),x("ngIf",!e.photoUrls||e.photoUrls.length===0),m(3),A(e.packageName),m(4),T(" ",e.companyName,""),m(4),T(" $",e.price,""),m(4),T(" ",e.durationDays," days"),m(4),T(" ",zt(23,13,e.startDate,"mediumDate"),""),m(5),T(" ",zt(28,16,e.endDate,"mediumDate"),""),m(5),T(" ",o.getDestinationsString(e.destinations),""),m(),x("routerLink",Qe(19,e$,e.packageId))}}function d$(n,t){if(n&1&&(u(0,"div",20),S(1,c$,35,21,"div",21),d()),n&2){let e=w();m(),x("ngForOf",e.filteredPackages)}}function u$(n,t){if(n&1&&(u(0,"span",36),p(1),d()),n&2){let e=t.$implicit,i=w(2);x("ngClass",Qe(2,n$,i.currentPage===e)),m(),T(" ",e," ")}}function f$(n,t){if(n&1&&(u(0,"div",32)(1,"button",33),p(2," Previous "),d(),S(3,u$,2,4,"span",34),u(4,"button",35),p(5," Next "),d()()),n&2){let e=w();m(3),x("ngForOf",cn(2,t$)),m(),x("disabled",e.currentPage===4)}}var Lm=class n{constructor(t){this.tourPackageService=t}packages=[];filteredPackages=[];currentPage=1;errorMessage=null;selectedPriceRange="";selectedDestination="";priceRanges=[{label:"All Prices",min:null,max:null},{label:"$0-$100",min:0,max:100},{label:"$101-$200",min:101,max:200},{label:"$201-$300",min:201,max:300},{label:"$301-$400",min:301,max:400},{label:"$401-$700",min:401,max:700},{label:"$701+",min:701,max:null}];availableDestinations=[];ngOnInit(){this.loadPackages()}loadPackages(){this.tourPackageService.getAllPackages().subscribe({next:t=>{console.log("Packages received in AllPackagesComponent:",t),this.packages=t,this.filteredPackages=[...t],this.availableDestinations=this.getUniqueDestinations(t)},error:t=>{console.error("Error in AllPackagesComponent:",t.message),this.errorMessage=t.message}})}getUniqueDestinations(t){let e=new Set;return t.forEach(i=>{i.destinations.forEach(o=>e.add(o.name))}),["All Destinations",...Array.from(e).sort()]}getDestinationsString(t){return t.length>0?t.map(e=>e.name).join(", "):"None"}onPriceRangeChange(){if(this.errorMessage=null,!this.selectedPriceRange){this.filteredPackages=[...this.packages];return}let t=this.priceRanges.find(e=>e.label===this.selectedPriceRange);t&&(this.filteredPackages=this.packages.filter(e=>(t.min==null||e.price>=t.min)&&(t.max==null||e.price<=t.max)),this.filteredPackages.length===0&&(this.errorMessage=`No packages match the selected price range: ${this.selectedPriceRange}.`))}onDestinationChange(){if(this.errorMessage=null,!this.selectedDestination||this.selectedDestination==="All Destinations"){this.filteredPackages=[...this.packages];return}this.filteredPackages=this.packages.filter(t=>t.destinations.some(e=>e.name===this.selectedDestination)),this.filteredPackages.length===0&&(this.errorMessage=`No packages match the selected destination: ${this.selectedDestination}.`)}resetFilters(){this.selectedPriceRange="",this.selectedDestination="",this.filteredPackages=[...this.packages],this.errorMessage=null}static \u0275fac=function(e){return new(e||n)(D(Ho))};static \u0275cmp=F({type:n,selectors:[["app-all-packages"]],decls:27,vars:8,consts:[[1,"container"],[1,"title"],[1,"filter-section","rotate-in"],[1,"section-title"],[1,"filter-row"],[1,"filter-group"],["for","priceRange",1,"filter-label"],["id","priceRange",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","destination",1,"filter-label"],["id","destination",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-secondary","pulse-hover",3,"click"],["class","alert alert-error bounce-in",4,"ngIf"],["class","alert alert-no-data bounce-in",4,"ngIf"],["class","packages-list",4,"ngIf"],["class","pagination-section fade-in",4,"ngIf"],[3,"value"],[1,"alert","alert-error","bounce-in"],[1,"alert","alert-no-data","bounce-in"],[1,"packages-list"],["class","package-item bounce-in",3,"style",4,"ngFor","ngForOf"],[1,"package-item","bounce-in"],[1,"image-container"],["alt","package-image","class","package-image shimmer-load",3,"src",4,"ngIf"],["class","no-image",4,"ngIf"],[1,"package-details"],[1,"package-title"],[1,"package-detail"],[1,"btn","btn-primary","pulse-hover",3,"routerLink"],["alt","package-image",1,"package-image","shimmer-load",3,"src"],[1,"no-image"],[1,"pagination-section","fade-in"],[1,"btn","btn-secondary","pulse-hover"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn","btn-secondary","pulse-hover",3,"disabled"],[1,"page-item",3,"ngClass"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h2",1),p(2,"All Tour Packages"),d(),u(3,"div",2)(4,"h3",3),p(5,"Filter Packages"),d(),u(6,"div",4)(7,"div",5)(8,"label",6),p(9,"Price Range"),d(),u(10,"select",7),Y("ngModelChange",function(r){return K(i.selectedPriceRange,r)||(i.selectedPriceRange=r),r}),I("ngModelChange",function(){return i.onPriceRangeChange()}),u(11,"option",8),p(12,"Select Price Range"),d(),S(13,i$,2,2,"option",9),d()(),u(14,"div",5)(15,"label",10),p(16,"Destination"),d(),u(17,"select",11),Y("ngModelChange",function(r){return K(i.selectedDestination,r)||(i.selectedDestination=r),r}),I("ngModelChange",function(){return i.onDestinationChange()}),u(18,"option",8),p(19,"Select Destination"),d(),S(20,o$,2,2,"option",9),d()(),u(21,"button",12),I("click",function(){return i.resetFilters()}),p(22,"Reset Filters"),d()()(),S(23,r$,2,1,"div",13)(24,s$,2,0,"div",14)(25,d$,2,1,"div",15)(26,f$,6,3,"div",16),d()),e&2&&(m(10),q("ngModel",i.selectedPriceRange),m(3),x("ngForOf",i.priceRanges),m(4),q("ngModel",i.selectedDestination),m(3),x("ngForOf",i.availableDestinations),m(3),x("ngIf",i.errorMessage),m(),x("ngIf",i.filteredPackages.length===0&&!i.errorMessage),m(),x("ngIf",i.filteredPackages.length>0),m(),x("ngIf",i.filteredPackages.length>0))},dependencies:[J,Et,rt,ye,_n,Le,ie,Ke,Bi,ji,pi,Pe,et],styles:['.container[_ngcontent-%COMP%]{max-width:1100px;margin:40px auto;padding:24px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(135deg,#f8f9fa,#fff);border-radius:15px;box-shadow:0 8px 30px #0000001a;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.title[_ngcontent-%COMP%]{font-size:2.75rem;color:#1a202c;text-align:center;margin-bottom:2.5rem;font-weight:700;position:relative;animation:_ngcontent-%COMP%_slideIn .6s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:80px;height:5px;background:#daa520;margin:12px auto;border-radius:2px;animation:_ngcontent-%COMP%_underlineGrow .5s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-15px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:80px}}.filter-section[_ngcontent-%COMP%]{padding:24px;background:linear-gradient(145deg,#f7fafc,#edf2f7);border-radius:12px;margin-bottom:32px;box-shadow:0 4px 16px #00000014;animation:_ngcontent-%COMP%_rotateIn .9s ease-out}.filter-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#1a202c;margin-bottom:1.5rem;font-weight:700;animation:_ngcontent-%COMP%_slideIn .6s ease-out}.filter-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:20px;flex-wrap:wrap}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:200px}.filter-group[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:1rem;color:#1a202c;font-weight:600;margin-bottom:8px;animation:_ngcontent-%COMP%_fadeIn .7s ease-out}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:12px;border:1px solid #e2e8f0;border-radius:8px;font-size:1rem;background-color:#fff;transition:all .3s ease;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#daa520;box-shadow:0 0 0 4px #d4a01733;outline:none}.alert[_ngcontent-%COMP%]{padding:16px;border-radius:10px;margin-bottom:24px;font-size:1rem;text-align:center;animation:_ngcontent-%COMP%_popIn .5s ease-out}.alert.alert-error[_ngcontent-%COMP%]{background-color:#fff5f5;color:#9b2c2c;border:1px solid #feb2b2}.alert.alert-no-data[_ngcontent-%COMP%]{background-color:#f7fafc;color:#4a5568;font-style:italic}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.packages-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}@media (max-width: 768px){.packages-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}.package-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f9f9f9);padding:20px;border-radius:12px;box-shadow:0 4px 16px #0000001a;display:flex;flex-direction:column;gap:16px;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_bounceIn .7s ease-out;animation-delay:calc(var(--item-index) * .1s)}.package-item[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #d4a01726}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.95) translateY(20px)}50%{transform:scale(1.05) translateY(-5px)}to{opacity:1;transform:scale(1) translateY(0)}}.image-container[_ngcontent-%COMP%]{width:100%;max-height:200px;aspect-ratio:4/3;overflow:hidden;border-radius:10px;background:#e2e8f0}.image-container[_ngcontent-%COMP%]   .package-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .4s ease;animation:_ngcontent-%COMP%_shimmerLoad 1.2s ease-out}.image-container[_ngcontent-%COMP%]   .package-image[_ngcontent-%COMP%]:hover{transform:scale(1.08)}.image-container[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:#e2e8f0;color:#4a5568;font-size:1rem;font-weight:500;text-align:center;border-radius:10px;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_shimmerLoad{0%{opacity:0;filter:brightness(.5) blur(5px)}50%{opacity:.7;filter:brightness(1.2) blur(2px)}to{opacity:1;filter:brightness(1) blur(0)}}.package-details[_ngcontent-%COMP%]{flex:1;padding:15px}.package-details[_ngcontent-%COMP%]   .package-title[_ngcontent-%COMP%]{font-size:1.625rem;color:#2b6cb0;margin-bottom:1rem;font-weight:700;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.package-details[_ngcontent-%COMP%]   .package-detail[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:.75rem;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.package-details[_ngcontent-%COMP%]   .package-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.btn[_ngcontent-%COMP%]{padding:12px;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;animation:_ngcontent-%COMP%_buttonPop .7s ease-out}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#daa520,#d4a017);color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-2px);box-shadow:0 4px 16px #d4a01766}.btn.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#718096,#5a7184);color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a7184,#4a5568);transform:translateY(-2px);box-shadow:0 4px 16px #5a718466}.btn.pulse-hover[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseHover 1.5s infinite}.btn.pulse-hover[_ngcontent-%COMP%]:hover{animation:none;transform:scale(1.05);box-shadow:0 6px 20px #0003}@keyframes _ngcontent-%COMP%_buttonPop{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_pulseHover{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}@keyframes _ngcontent-%COMP%_rotateIn{0%{opacity:0;transform:rotate(-10deg) scale(.9)}to{opacity:1;transform:rotate(0) scale(1)}}@media (max-width: 1024px){.packages-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:24px auto}.title[_ngcontent-%COMP%]{font-size:2.25rem}.section-title[_ngcontent-%COMP%]{font-size:1.5rem}.filter-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:16px}.filter-group[_ngcontent-%COMP%]{min-width:100%}.form-control[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}.packages-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:1.875rem}.package-title[_ngcontent-%COMP%]{font-size:1.5rem}.package-detail[_ngcontent-%COMP%]{font-size:.95rem}.packages-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.package-item[_ngcontent-%COMP%]{padding:16px}}.pagination-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:12px;margin-top:32px;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.pagination-section[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{padding:10px 15px;border-radius:8px;background:#fff;color:#1a202c;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000001a;animation:_ngcontent-%COMP%_fadeIn .9s ease-out;animation-delay:calc(var(--item-index) * .1s)}.pagination-section[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:hover{background:#daa520;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #d4a0174d}.pagination-section[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]{background:#daa520;color:#fff;cursor:default;transform:translateY(-2px);box-shadow:0 4px 12px #d4a0174d}.pagination-section[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1rem}']})};var Vm=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-tour-packages"]],decls:2,vars:0,template:function(e,i){e&1&&M(0,"app-navbar")(1,"app-all-packages")},dependencies:[Lm,St],encapsulation:2})};var Bl=class n{constructor(t){this.http=t}getHotels(){return this.http.get("/api/Hotels")}getRooms(){return this.http.get("/api/Rooms")}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var jl=class n{constructor(t){this.http=t}makePaymentWithCard(t,e,i){return nt(this,null,function*(){let r=(yield this.http.post("http://localhost:4242/api/create-payment-intent",{amount:t}).toPromise()).clientSecret;return yield i.confirmCardPayment(r,{payment_method:{card:e,billing_details:{}}})})}confirmBookingPayment(t,e){return this.http.post("https://fizo.runasp.net/api/Payment/CreatePayment",{bookingId:t,totalPrice:e},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function h$(n,t){if(n&1&&M(0,"img",20),n&2){let e=w(2);x("src",e.hotel.photoUrls[0],ce)}}function m$(n,t){if(n&1&&M(0,"img",21),n&2){let e=t.$implicit;x("src",e,ce)}}function g$(n,t){n&1&&(u(0,"div",14),p(1,"No rooms available."),d())}function _$(n,t){if(n&1&&M(0,"img",29),n&2){let e=w().$implicit;x("src",e.photoUrls[0],ce)}}function v$(n,t){if(n&1){let e=U();u(0,"div",22)(1,"div",23),S(2,_$,1,1,"img",24),u(3,"div",25)(4,"h5",26),p(5),d(),u(6,"p",27),p(7),d(),u(8,"p",27)(9,"span"),p(10),d()(),u(11,"button",28),I("click",function(){let o=P(e).$implicit,r=w(2);return O(r.startBooking(o))}),p(12,"Book Now"),d()()()()}if(n&2){let e=t.$implicit;m(2),x("ngIf",e.photoUrls&&e.photoUrls.length),m(3),A(e.roomType),m(2),T("Price: $",e.pricePerNight," / night"),m(2),Qn(e.isAvailable?"text-success":"text-danger"),m(),A(e.isAvailable?"Available":"Not Available"),m(),x("disabled",!e.isAvailable)}}function b$(n,t){if(n&1&&(u(0,"div",4)(1,"div",5)(2,"a",6),p(3," \u{1F519} Back to Dashboard "),d()(),u(4,"div",7)(5,"div",8),S(6,h$,1,1,"img",9),u(7,"div",10),S(8,m$,1,1,"img",11),d()(),u(9,"div",8)(10,"h2"),p(11),d(),u(12,"p"),M(13,"i",12),p(14),d(),u(15,"p"),M(16,"i",13),p(17),d(),u(18,"p",14),p(19),d(),u(20,"p")(21,"strong"),p(22,"Contact:"),d(),p(23),d(),u(24,"p")(25,"strong"),p(26,"Available Rooms:"),d(),p(27),d()()(),u(28,"div",15)(29,"h4"),p(30,"About this hotel"),d(),u(31,"p"),p(32),d()(),u(33,"div",16)(34,"h4"),p(35,"Available Rooms"),d(),S(36,g$,2,0,"div",17),u(37,"div",18),S(38,v$,13,7,"div",19),d()()()),n&2){let e=w();m(6),x("ngIf",e.hotel.photoUrls&&e.hotel.photoUrls.length),m(2),x("ngForOf",e.hotel.photoUrls.slice(1)),m(3),A(e.hotel.hotelName),m(3),T(" ",e.hotel.address,""),m(3),T(" ",e.hotel.rating," / 5"),m(2),A(e.hotel.description),m(4),Ao(" ",e.hotel.contactEmail," | ",e.hotel.contactPhone,""),m(4),Ao(" ",e.hotel.availableRooms," / ",e.hotel.totalRooms,""),m(5),A(e.hotel.description),m(4),x("ngIf",e.rooms.length===0),m(2),x("ngForOf",e.rooms)}}function y$(n,t){if(n&1&&(u(0,"div",46),p(1),d()),n&2){let e=w(2);m(),A(e.bookingError)}}function C$(n,t){if(n&1&&(u(0,"div",47),p(1),d()),n&2){let e=w(2);m(),A(e.bookingSuccess)}}function x$(n,t){if(n&1){let e=U();u(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33)(4,"h5",34),p(5),d(),u(6,"button",35),I("click",function(){P(e);let o=w();return O(o.cancelBooking())}),d()(),u(7,"form",36,1),I("ngSubmit",function(){P(e);let o=li(8),r=w();return O(r.submitBooking(o.value))}),u(9,"div",37)(10,"div",38)(11,"label",39),p(12,"Booking Date"),d(),M(13,"input",40),d(),S(14,y$,2,1,"div",41)(15,C$,2,1,"div",42),d(),u(16,"div",43)(17,"button",44),I("click",function(){P(e);let o=w();return O(o.cancelBooking())}),p(18,"Cancel"),d(),u(19,"button",45),p(20,"Book"),d()()()()()()}if(n&2){let e=li(8),i=w();m(5),T("Book Room: ",i.bookingRoom.roomType,""),m(9),x("ngIf",i.bookingError),m(),x("ngIf",i.bookingSuccess),m(4),x("disabled",i.bookingInProgress||e.invalid)}}function w$(n,t){n&1&&(u(0,"div",50)(1,"div",51)(2,"span",52),p(3,"Loading..."),d()()())}function M$(n,t){if(n&1&&(u(0,"div",53),p(1),d()),n&2){let e=w(2);m(),A(e.error)}}function E$(n,t){if(n&1&&S(0,w$,4,0,"div",48)(1,M$,2,1,"div",49),n&2){let e=w();x("ngIf",e.loading),m(),x("ngIf",e.error&&!e.loading)}}var Bm=class n{constructor(t,e,i,o,r,s){this.route=t;this.hotelOffersService=e;this.http=i;this.authService=o;this.stripeService=r;this.router=s}hotel=null;rooms=[];loading=!0;error=null;bookingRoom=null;bookingInProgress=!1;bookingSuccess=null;bookingError=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("hotelId");t?this.hotelOffersService.getHotels().subscribe({next:e=>{this.hotel=e.find(i=>i.hotelID===t)||null,this.hotel?this.hotelOffersService.getRooms().subscribe({next:i=>{this.rooms=i.filter(o=>o.hotelId===t),this.loading=!1},error:()=>{this.error="Failed to load rooms.",this.loading=!1}}):(this.error="Hotel not found.",this.loading=!1)},error:()=>{this.error="Failed to load hotel details.",this.loading=!1}}):(this.error="Invalid hotel ID.",this.loading=!1)}startBooking(t){this.bookingRoom=t,this.bookingSuccess=null,this.bookingError=null}submitBooking(t){if(!this.hotel||!this.bookingRoom)return;if(!localStorage.getItem("token")){this.bookingError="You must be logged in to book.";return}this.bookingInProgress=!0;let i={touristEmail:localStorage.getItem("email"),hotelID:this.hotel.hotelID,roomID:this.bookingRoom.roomId,bookingDate:t.bookingDate,totalPrice:this.bookingRoom.pricePerNight};this.http.post("/api/Bookings/hotel",i).subscribe({next:()=>{this.bookingSuccess="Booking successful!",this.bookingInProgress=!1,this.rooms=this.rooms.map(o=>o.roomId===this.bookingRoom.roomId?pe(B({},o),{isAvailable:!1}):o),this.bookingRoom=null},error:o=>{this.bookingError="Booking failed. Please try again.",this.bookingInProgress=!1}})}cancelBooking(){this.bookingRoom=null,this.bookingSuccess=null,this.bookingError=null}static \u0275fac=function(e){return new(e||n)(D(Se),D(Bl),D(at),D(Ce),D(jl),D(ee))};static \u0275cmp=F({type:n,selectors:[["app-hotel-details"]],decls:4,vars:3,consts:[["loadingOrError",""],["bookingForm","ngForm"],["class","hotel-details-container",4,"ngIf","ngIfElse"],["class","modal show d-block","tabindex","-1",4,"ngIf"],[1,"hotel-details-container"],[1,"back-button-container"],["routerLink","/tourist/dashboard",1,"btn","btn-outline-primary","back-btn"],[1,"row","mb-4"],[1,"col-md-6"],["class","img-fluid rounded mb-3","alt","Hotel Photo",3,"src",4,"ngIf"],[1,"d-flex","flex-wrap","mt-2"],["class","img-thumbnail m-1","style","max-width: 100px; max-height: 80px;","alt","Hotel Gallery",3,"src",4,"ngFor","ngForOf"],[1,"bi","bi-geo-alt"],[1,"bi","bi-star-fill","text-warning"],[1,"text-muted"],[1,"about-hotel-section","mb-4"],[1,"rooms-section"],["class","text-muted",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-2","g-4"],["class","col",4,"ngFor","ngForOf"],["alt","Hotel Photo",1,"img-fluid","rounded","mb-3",3,"src"],["alt","Hotel Gallery",1,"img-thumbnail","m-1",2,"max-width","100px","max-height","80px",3,"src"],[1,"col"],[1,"card","h-100"],["class","card-img-top","alt","Room Photo",3,"src",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click","disabled"],["alt","Room Photo",1,"card-img-top",3,"src"],["tabindex","-1",1,"modal","show","d-block"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[3,"ngSubmit"],[1,"modal-body"],[1,"mb-3"],["for","bookingDate",1,"form-label"],["type","date","id","bookingDate","name","bookingDate","ngModel","","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[1,"alert","alert-success"],["class","text-center my-5",4,"ngIf"],["class","alert alert-danger text-center",4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-danger","text-center"]],template:function(e,i){if(e&1&&S(0,b$,39,13,"div",2)(1,x$,21,4,"div",3)(2,E$,2,2,"ng-template",null,0,Wp),e&2){let o=li(3);x("ngIf",!i.loading&&i.hotel)("ngIfElse",o),m(),x("ngIf",i.bookingRoom)}},dependencies:[J,rt,ye,Ke,Ye,Xe,Pe,qe,Kt,et,wt],encapsulation:2})};function D$(n,t){n&1&&(u(0,"div",5)(1,"div",6)(2,"span",7),p(3,"Loading..."),d()()())}function S$(n,t){if(n&1&&(u(0,"div",8),p(1),d()),n&2){let e=w();m(),A(e.error)}}function P$(n,t){if(n&1&&(u(0,"option",25),p(1),d()),n&2){let e=t.$implicit;x("value",e),m(),A(e)}}function O$(n,t){n&1&&(u(0,"div",26),p(1,"No hotel offers available."),d())}function I$(n,t){if(n&1&&M(0,"img",37),n&2){let e=w().$implicit;x("src",e.photoUrls[0],ce)}}function k$(n,t){if(n&1){let e=U();u(0,"div",27)(1,"div",28),S(2,I$,1,1,"img",29),u(3,"div",30)(4,"h5",31),p(5),d(),u(6,"p",32),M(7,"i",33),p(8),d(),u(9,"p",32),M(10,"i",34),p(11),d(),u(12,"p",35),p(13),d(),u(14,"button",36),I("click",function(){let o=P(e).$implicit,r=w(2);return O(r.viewDetails(o))}),p(15,"View Details"),d()()()()}if(n&2){let e=t.$implicit;m(2),x("ngIf",e.photoUrls&&e.photoUrls.length),m(3),A(e.hotelName),m(3),T(" ",e.address,""),m(3),T(" ",e.rating||"N/A"," / 5"),m(2),A(e.description)}}function T$(n,t){if(n&1){let e=U();u(0,"div")(1,"div",9)(2,"div",10)(3,"label"),p(4,"Location"),d(),u(5,"select",11),I("change",function(o){P(e);let r=w();return O(r.updateFilter(o,"city"))}),u(6,"option",12),p(7,"All"),d(),S(8,P$,2,2,"option",13),d()(),u(9,"div",10)(10,"label"),p(11,"Star Rating"),d(),u(12,"select",11),I("change",function(o){P(e);let r=w();return O(r.updateFilter(o,"starRating"))}),u(13,"option",12),p(14,"All"),d(),u(15,"option",14),p(16,"5 Stars"),d(),u(17,"option",15),p(18,"4 Stars"),d(),u(19,"option",16),p(20,"3 Stars"),d(),u(21,"option",17),p(22,"2 Stars"),d(),u(23,"option",18),p(24,"1 Star"),d()()(),u(25,"div",10)(26,"label"),p(27,"Price Range"),d(),u(28,"select",11),I("change",function(o){P(e);let r=w();return O(r.updateFilter(o,"price"))}),u(29,"option",12),p(30,"All"),d(),u(31,"option",19),p(32,"Above 500$"),d(),u(33,"option",20),p(34,"300$-500$"),d(),u(35,"option",21),p(36,"Less Than 300$"),d()()()(),S(37,O$,2,0,"div",22),u(38,"div",23),S(39,k$,16,5,"div",24),d()()}if(n&2){let e=w();m(8),x("ngForOf",e.uniqueCities),m(29),x("ngIf",e.filteredHotels.length===0),m(2),x("ngForOf",e.filteredHotels)}}var jm=class n{constructor(t,e){this.hotelOffersService=t;this.router=e}hotels=[];filteredHotels=[];loading=!0;error=null;city="All";starRating="All";price="All";ngOnInit(){this.hotelOffersService.getHotels().subscribe({next:t=>{this.hotels=t,this.filteredHotels=[...this.hotels],this.loading=!1},error:t=>{this.error="Failed to load hotel offers.",this.loading=!1}})}updateFilter(t,e){let o=t.target.value;e==="city"?this.city=o:e==="starRating"?this.starRating=o:e==="price"&&(this.price=o),this.filterData()}filterData(){if(this.filteredHotels=[...this.hotels],this.city!=="All"&&(this.filteredHotels=this.filteredHotels.filter(t=>t.address&&t.address.includes(this.city))),this.starRating!=="All"){let t=parseInt(this.starRating);this.filteredHotels=this.filteredHotels.filter(e=>e.rating===t)}this.price!=="All"&&(this.price==="Above 500$"?this.filteredHotels=this.filteredHotels.filter(t=>t.price>500):this.price==="300$-500$"?this.filteredHotels=this.filteredHotels.filter(t=>t.price>300&&t.price<=500):this.price==="Less Than 300$"&&(this.filteredHotels=this.filteredHotels.filter(t=>t.price<300)))}get uniqueCities(){let t=this.hotels.map(e=>e.address).filter(e=>!!e);return Array.from(new Set(t))}viewDetails(t){this.router.navigate(["/dashboard/tourist/hotel-details",t.hotelID])}static \u0275fac=function(e){return new(e||n)(D(Bl),D(ee))};static \u0275cmp=F({type:n,selectors:[["app-hotel-offers"]],decls:6,vars:3,consts:[[1,"hotel-offers-container"],[1,"text-center","mb-4",2,"color","#c68919"],["class","text-center my-5",4,"ngIf"],["class","alert alert-danger text-center",4,"ngIf"],[4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-danger","text-center"],[1,"row","mb-4","justify-content-center"],[1,"col-md-3","mb-2"],[1,"form-select",3,"change"],["value","All"],[3,"value",4,"ngFor","ngForOf"],["value","5"],["value","4"],["value","3"],["value","2"],["value","1"],["value","Above 500$"],["value","300$-500$"],["value","Less Than 300$"],["class","text-center text-muted",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[3,"value"],[1,"text-center","text-muted"],[1,"col"],[1,"card","h-100","shadow-sm"],["class","card-img-top","alt","Hotel Photo",3,"src",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text","mb-1"],[1,"bi","bi-geo-alt"],[1,"bi","bi-star-fill","text-warning"],[1,"card-text","text-muted"],[1,"btn","btn-outline-primary","btn-sm","mt-2",3,"click"],["alt","Hotel Photo",1,"card-img-top",3,"src"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h2",1),p(2,"Hotel Offers"),d(),S(3,D$,4,0,"div",2)(4,S$,2,1,"div",3)(5,T$,40,3,"div",4),d()),e&2&&(m(3),x("ngIf",i.loading),m(),x("ngIf",i.error),m(),x("ngIf",!i.loading&&!i.error))},dependencies:[J,rt,ye],encapsulation:2})};function A$(n,t){n&1&&(u(0,"div",5)(1,"div",6)(2,"span",7),p(3,"Loading..."),d()()())}function R$(n,t){if(n&1&&(u(0,"div",8),p(1),d()),n&2){let e=w();m(),A(e.error)}}function N$(n,t){if(n&1&&(u(0,"option",20),p(1),d()),n&2){let e=t.$implicit;x("value",e),m(),A(e)}}function F$(n,t){if(n&1&&(u(0,"option",20),p(1),d()),n&2){let e=t.$implicit;x("value",e),m(),A(e)}}function L$(n,t){n&1&&(u(0,"div",21),p(1,"No tour guide offers available."),d())}function V$(n,t){if(n&1&&M(0,"img",30),n&2){let e=w().$implicit;x("src",e.photoUrls[0],ce)}}function B$(n,t){if(n&1&&(u(0,"div",22)(1,"div",23),S(2,V$,1,1,"img",24),u(3,"div",25)(4,"h5",26),p(5),d(),u(6,"p",27)(7,"strong"),p(8,"Languages:"),d(),p(9),d(),u(10,"p",27)(11,"strong"),p(12,"Areas:"),d(),p(13),d(),u(14,"p",27)(15,"strong"),p(16,"Price/Hour:"),d(),p(17),d(),u(18,"p",27),M(19,"i",28),p(20),d(),u(21,"p",27)(22,"strong"),p(23,"Available:"),d(),u(24,"span"),p(25),d()(),u(26,"button",29),p(27,"View Details"),d()()()()),n&2){let e=t.$implicit;m(2),x("ngIf",e.photoUrls&&e.photoUrls.length),m(3),A(e.guideName),m(4),T(" ",e.languages,""),m(4),T(" ",e.areasCovered,""),m(4),T(" $",e.pricePerHour,""),m(3),T(" ",e.averageRating||"N/A"," / 5"),m(4),Qn(e.isAvailable?"text-success":"text-danger"),m(),A(e.isAvailable?"Yes":"No")}}function j$(n,t){if(n&1){let e=U();u(0,"div")(1,"div",9)(2,"div",10)(3,"label"),p(4,"Language"),d(),u(5,"select",11),I("change",function(o){P(e);let r=w();return O(r.updateFilter(o,"language"))}),u(6,"option",12),p(7,"All"),d(),S(8,N$,2,2,"option",13),d()(),u(9,"div",10)(10,"label"),p(11,"Area"),d(),u(12,"select",11),I("change",function(o){P(e);let r=w();return O(r.updateFilter(o,"area"))}),u(13,"option",12),p(14,"All"),d(),S(15,F$,2,2,"option",13),d()(),u(16,"div",10)(17,"label"),p(18,"Price/Hour"),d(),u(19,"select",11),I("change",function(o){P(e);let r=w();return O(r.updateFilter(o,"price"))}),u(20,"option",12),p(21,"All"),d(),u(22,"option",14),p(23,"Above 100$"),d(),u(24,"option",15),p(25,"50$-100$"),d(),u(26,"option",16),p(27,"Less Than 50$"),d()()()(),S(28,L$,2,0,"div",17),u(29,"div",18),S(30,B$,28,9,"div",19),d()()}if(n&2){let e=w();m(8),x("ngForOf",e.uniqueLanguages),m(7),x("ngForOf",e.uniqueAreas),m(13),x("ngIf",e.filteredGuides.length===0),m(2),x("ngForOf",e.filteredGuides)}}var Hm=class n{constructor(t,e){this.http=t;this.router=e}guides=[];filteredGuides=[];loading=!0;error=null;language="All";area="All";price="All";ngOnInit(){this.http.get("/api/TourGuides").subscribe({next:t=>{this.guides=t,this.filteredGuides=[...this.guides],this.loading=!1},error:()=>{this.error="Failed to load tour guides.",this.loading=!1}})}updateFilter(t,e){let o=t.target.value;e==="language"?this.language=o:e==="area"?this.area=o:e==="price"&&(this.price=o),this.filterData()}filterData(){this.filteredGuides=[...this.guides],this.language!=="All"&&(this.filteredGuides=this.filteredGuides.filter(t=>t.languages&&t.languages.includes(this.language))),this.area!=="All"&&(this.filteredGuides=this.filteredGuides.filter(t=>t.areasCovered&&t.areasCovered.includes(this.area))),this.price!=="All"&&(this.price==="Above 100$"?this.filteredGuides=this.filteredGuides.filter(t=>t.pricePerHour>100):this.price==="50$-100$"?this.filteredGuides=this.filteredGuides.filter(t=>t.pricePerHour>50&&t.pricePerHour<=100):this.price==="Less Than 50$"&&(this.filteredGuides=this.filteredGuides.filter(t=>t.pricePerHour<50)))}get uniqueLanguages(){let t=this.guides.flatMap(e=>e.languages?e.languages.split(",").map(i=>i.trim()):[]);return Array.from(new Set(t)).filter(e=>e)}get uniqueAreas(){let t=this.guides.flatMap(e=>e.areasCovered?e.areasCovered.split(",").map(i=>i.trim()):[]);return Array.from(new Set(t)).filter(e=>e)}viewDetails(t){this.router.navigate(["/dashboard/tourist/guide-details",t.guideID])}static \u0275fac=function(e){return new(e||n)(D(at),D(ee))};static \u0275cmp=F({type:n,selectors:[["app-tour-guide-offers"]],decls:6,vars:3,consts:[[1,"tour-guide-offers-container"],[1,"text-center","mb-4",2,"color","#c68919"],["class","text-center my-5",4,"ngIf"],["class","alert alert-danger text-center",4,"ngIf"],[4,"ngIf"],[1,"text-center","my-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-danger","text-center"],[1,"row","mb-4","justify-content-center"],[1,"col-md-3","mb-2"],[1,"form-select",3,"change"],["value","All"],[3,"value",4,"ngFor","ngForOf"],["value","Above 100$"],["value","50$-100$"],["value","Less Than 50$"],["class","text-center text-muted",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[3,"value"],[1,"text-center","text-muted"],[1,"col"],[1,"card","h-100","shadow-sm"],["class","card-img-top","alt","Guide Photo",3,"src",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text","mb-1"],[1,"bi","bi-star-fill","text-warning"],[1,"btn","btn-outline-primary","btn-sm","mt-2"],["alt","Guide Photo",1,"card-img-top",3,"src"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h2",1),p(2,"Tour Guide Offers"),d(),S(3,A$,4,0,"div",2)(4,R$,2,1,"div",3)(5,j$,31,4,"div",4),d()),e&2&&(m(3),x("ngIf",i.loading),m(),x("ngIf",i.error),m(),x("ngIf",!i.loading&&!i.error))},dependencies:[J,rt,ye],encapsulation:2})};var Um=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-tour-guides-component"]],decls:1,vars:0,template:function(e,i){e&1&&M(0,"router-outlet")},dependencies:[Le,fo],encapsulation:2})};var zm=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-hotel-component"]],decls:1,vars:0,template:function(e,i){e&1&&M(0,"router-outlet")},dependencies:[fo],styles:["*[_ngcontent-%COMP%]{color:#000}header[_ngcontent-%COMP%]{background:#fff;padding:20px 40px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ddd}.container.first[_ngcontent-%COMP%]{padding:40px}h1[_ngcontent-%COMP%]{font-size:28px;margin-bottom:20px}.recent-bookings[_ngcontent-%COMP%], .performance[_ngcontent-%COMP%]{margin-bottom:40px}.recent-bookings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:10px;border-collapse:collapse;overflow:hidden}.recent-bookings[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px}@media (min-width: 768px){.recent-bookings[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .recent-bookings[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px;border-bottom:1px solid #eee}.recent-bookings[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f0f0f0;text-align:left}}@media (max-width: 767px){.recent-bookings[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{display:none}.recent-bookings[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;border-bottom:1px solid black;position:relative;padding:15px;padding-inline-start:55%;overflow-wrap:break-word}.recent-bookings[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);position:absolute;left:5%}}.status-Confirmed[_ngcontent-%COMP%]{background-color:#e0f7e9;color:#2e7d32;padding:6px 12px;border-radius:20px;display:inline-block;font-size:14px}.status-Cancelled[_ngcontent-%COMP%]{background-color:#bf2f2f;color:#fff;padding:6px 12px;border-radius:20px;display:inline-block;font-size:14px}.status-Pending[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;padding:6px 12px;border-radius:20px;display:inline-block;font-size:14px}.performance[_ngcontent-%COMP%]{display:flex;gap:20px}.performance-box[_ngcontent-%COMP%]{flex:1;background:#fff;padding:20px;border-radius:10px;text-align:center;box-shadow:0 1px 3px #0000001a}.performance-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px;font-size:16px;color:#000}.performance-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;margin:0;font-weight:700}.create-btn[_ngcontent-%COMP%]{background:#eee;padding:8px 16px;border-radius:6px;border:none;cursor:pointer}@media (max-width: 767px){table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2n){background-color:#e5e3e3}table[_ngcontent-%COMP%]{border-collapse:separate;border:1px solid black}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:none}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:3px solid black}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom:none}}.spinner[_ngcontent-%COMP%]{top:4px;left:50%;transform:translate(-50%)}.table-spinner[_ngcontent-%COMP%]{height:150px;position:relative}.table-spinner[_ngcontent-%COMP%] > mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.reviews[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:0}.reviews[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.reviews[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20px;height:20px;display:inline-block}.empty-star[_ngcontent-%COMP%]{border:1px solid black}.user-email[_ngcontent-%COMP%]{width:100%;overflow-wrap:break-word}"]})};var $m=class n{constructor(t,e){this.data=t;this.ref=e}get title(){return this.data.title}get message(){return this.data.message}get method(){return this.data.method}close(){this.ref.close(),this.method()}static \u0275fac=function(e){return new(e||n)(D(fi),D(Sn))};static \u0275cmp=F({type:n,selectors:[["app-alert-dialog-component"]],decls:8,vars:2,consts:[[1,"alert-dialog"],["mat-dialog-title",""],[1,"mt-4"],[3,"click"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h2",1),p(2),d(),u(3,"p",2),p(4),d(),u(5,"mat-dialog-actions")(6,"button",3),I("click",function(){return i.close()}),p(7,"OK"),d()()()),e&2&&(m(2),A(i.title),m(2),A(i.message))},dependencies:[GC],styles:[".alert-dialog[_ngcontent-%COMP%]{padding:20px}"]})};function Qd(n){return n+.5|0}var ss=(n,t,e)=>Math.max(Math.min(n,e),t);function Kd(n){return ss(Qd(n*2.55),0,255)}function as(n){return ss(Qd(n*255),0,255)}function Pr(n){return ss(Qd(n/2.55)/100,0,1)}function uT(n){return ss(Qd(n*100),0,100)}var Hi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},o1=[..."0123456789ABCDEF"],H$=n=>o1[n&15],U$=n=>o1[(n&240)>>4]+o1[n&15],Gm=n=>(n&240)>>4===(n&15),z$=n=>Gm(n.r)&&Gm(n.g)&&Gm(n.b)&&Gm(n.a);function $$(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Hi[n[1]]*17,g:255&Hi[n[2]]*17,b:255&Hi[n[3]]*17,a:t===5?Hi[n[4]]*17:255}:(t===7||t===9)&&(e={r:Hi[n[1]]<<4|Hi[n[2]],g:Hi[n[3]]<<4|Hi[n[4]],b:Hi[n[5]]<<4|Hi[n[6]],a:t===9?Hi[n[7]]<<4|Hi[n[8]]:255})),e}var G$=(n,t)=>n<255?t(n):"";function W$(n){var t=z$(n)?H$:U$;return n?"#"+t(n.r)+t(n.g)+t(n.b)+G$(n.a,t):void 0}var q$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mT(n,t,e){let i=t*Math.min(e,1-e),o=(r,s=(r+n/30)%12)=>e-i*Math.max(Math.min(s-3,9-s,1),-1);return[o(0),o(8),o(4)]}function Y$(n,t,e){let i=(o,r=(o+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function K$(n,t,e){let i=mT(n,1,.5),o;for(t+e>1&&(o=1/(t+e),t*=o,e*=o),o=0;o<3;o++)i[o]*=1-t-e,i[o]+=t;return i}function Z$(n,t,e,i,o){return n===o?(t-e)/i+(t<e?6:0):t===o?(e-n)/i+2:(n-t)/i+4}function r1(n){let e=n.r/255,i=n.g/255,o=n.b/255,r=Math.max(e,i,o),s=Math.min(e,i,o),a=(r+s)/2,l,c,f;return r!==s&&(f=r-s,c=a>.5?f/(2-r-s):f/(r+s),l=Z$(e,i,o,f,r),l=l*60+.5),[l|0,c||0,a]}function s1(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(as)}function a1(n,t,e){return s1(mT,n,t,e)}function Q$(n,t,e){return s1(K$,n,t,e)}function X$(n,t,e){return s1(Y$,n,t,e)}function gT(n){return(n%360+360)%360}function J$(n){let t=q$.exec(n),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Kd(+t[5]):as(+t[5]));let o=gT(+t[2]),r=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?i=Q$(o,r,s):t[1]==="hsv"?i=X$(o,r,s):i=a1(o,r,s),{r:i[0],g:i[1],b:i[2],a:e}}function eG(n,t){var e=r1(n);e[0]=gT(e[0]+t),e=a1(e),n.r=e[0],n.g=e[1],n.b=e[2]}function tG(n){if(!n)return;let t=r1(n),e=t[0],i=uT(t[1]),o=uT(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${o}%, ${Pr(n.a)})`:`hsl(${e}, ${i}%, ${o}%)`}var fT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function nG(){let n={},t=Object.keys(pT),e=Object.keys(fT),i,o,r,s,a;for(i=0;i<t.length;i++){for(s=a=t[i],o=0;o<e.length;o++)r=e[o],a=a.replace(r,fT[r]);r=parseInt(pT[s],16),n[a]=[r>>16&255,r>>8&255,r&255]}return n}var Wm;function iG(n){Wm||(Wm=nG(),Wm.transparent=[0,0,0,0]);let t=Wm[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var oG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rG(n){let t=oG.exec(n),e=255,i,o,r;if(t){if(t[7]!==i){let s=+t[7];e=t[8]?Kd(s):ss(s*255,0,255)}return i=+t[1],o=+t[3],r=+t[5],i=255&(t[2]?Kd(i):ss(i,0,255)),o=255&(t[4]?Kd(o):ss(o,0,255)),r=255&(t[6]?Kd(r):ss(r,0,255)),{r:i,g:o,b:r,a:e}}}function sG(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Pr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var i1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Hl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function aG(n,t,e){let i=Hl(Pr(n.r)),o=Hl(Pr(n.g)),r=Hl(Pr(n.b));return{r:as(i1(i+e*(Hl(Pr(t.r))-i))),g:as(i1(o+e*(Hl(Pr(t.g))-o))),b:as(i1(r+e*(Hl(Pr(t.b))-r))),a:n.a+e*(t.a-n.a)}}function qm(n,t,e){if(n){let i=r1(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=a1(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function _T(n,t){return n&&Object.assign(t||{},n)}function hT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=as(n[3]))):(t=_T(n,{r:0,g:0,b:0,a:1}),t.a=as(t.a)),t}function lG(n){return n.charAt(0)==="r"?rG(n):J$(n)}var Zd=class n{constructor(t){if(t instanceof n)return t;let e=typeof t,i;e==="object"?i=hT(t):e==="string"&&(i=$$(t)||iG(t)||lG(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=_T(this._rgb);return t&&(t.a=Pr(t.a)),t}set rgb(t){this._rgb=hT(t)}rgbString(){return this._valid?sG(this._rgb):void 0}hexString(){return this._valid?W$(this._rgb):void 0}hslString(){return this._valid?tG(this._rgb):void 0}mix(t,e){if(t){let i=this.rgb,o=t.rgb,r,s=e===r?.5:e,a=2*s-1,l=i.a-o.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*o.r+.5,i.g=255&c*i.g+r*o.g+.5,i.b=255&c*i.b+r*o.b+.5,i.a=s*i.a+(1-s)*o.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=aG(this._rgb,t._rgb,e)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=as(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Qd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qm(this._rgb,2,t),this}darken(t){return qm(this._rgb,2,-t),this}saturate(t){return qm(this._rgb,1,t),this}desaturate(t){return qm(this._rgb,1,-t),this}rotate(t){return eG(this._rgb,t),this}};function Ko(){}var PT=(()=>{let n=0;return()=>n++})();function Ze(n){return n==null}function Lt(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Je(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Zt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function hi(n,t){return Zt(n)?n:t}function Oe(n,t){return typeof n>"u"?t:n}var OT=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,u1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function At(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function vt(n,t,e,i){let o,r,s;if(Lt(n))if(r=n.length,i)for(o=r-1;o>=0;o--)t.call(e,n[o],o);else for(o=0;o<r;o++)t.call(e,n[o],o);else if(Je(n))for(s=Object.keys(n),r=s.length,o=0;o<r;o++)t.call(e,n[s[o]],s[o])}function eu(n,t){let e,i,o,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(o=n[e],r=t[e],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function Xm(n){if(Lt(n))return n.map(Xm);if(Je(n)){let t=Object.create(null),e=Object.keys(n),i=e.length,o=0;for(;o<i;++o)t[e[o]]=Xm(n[e[o]]);return t}return n}function IT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function cG(n,t,e,i){if(!IT(n))return;let o=t[n],r=e[n];Je(o)&&Je(r)?zl(o,r,i):t[n]=Xm(r)}function zl(n,t,e){let i=Lt(t)?t:[t],o=i.length;if(!Je(n))return n;e=e||{};let r=e.merger||cG,s;for(let a=0;a<o;++a){if(s=i[a],!Je(s))continue;let l=Object.keys(s);for(let c=0,f=l.length;c<f;++c)r(l[c],n,s,e)}return n}function Gl(n,t){return zl(n,t,{merger:dG})}function dG(n,t,e){if(!IT(n))return;let i=t[n],o=e[n];Je(i)&&Je(o)?Gl(i,o):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Xm(o))}var vT={"":n=>n,x:n=>n.x,y:n=>n.y};function uG(n){let t=n.split("."),e=[],i="";for(let o of t)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function fG(n){let t=uG(n);return e=>{for(let i of t){if(i==="")break;e=e&&e[i]}return e}}function kr(n,t){return(vT[t]||(vT[t]=fG(t)))(n)}function ng(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Wl=n=>typeof n<"u",Or=n=>typeof n=="function",f1=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function kT(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var st=Math.PI,Vt=2*st,pG=Vt+st,Jm=Number.POSITIVE_INFINITY,hG=st/180,en=st/2,ga=st/4,bT=st*2/3,Ir=Math.log10,mo=Math.sign;function ql(n,t,e){return Math.abs(n-t)<e}function p1(n){let t=Math.round(n);n=ql(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(Ir(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function TT(n){let t=[],e=Math.sqrt(n),i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((o,r)=>o-r).pop(),t}function mG(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ba(n){return!mG(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function AT(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function h1(n,t,e){let i,o,r;for(i=0,o=n.length;i<o;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Ui(n){return n*(st/180)}function ig(n){return n*(180/st)}function m1(n){if(!Zt(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function g1(n,t){let e=t.x-n.x,i=t.y-n.y,o=Math.sqrt(e*e+i*i),r=Math.atan2(i,e);return r<-.5*st&&(r+=Vt),{angle:r,distance:o}}function eg(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function gG(n,t){return(n-t+pG)%Vt-st}function On(n){return(n%Vt+Vt)%Vt}function Yl(n,t,e,i){let o=On(n),r=On(t),s=On(e),a=On(r-o),l=On(s-o),c=On(o-r),f=On(o-s);return o===r||o===s||i&&r===s||a>l&&c<f}function bn(n,t,e){return Math.max(t,Math.min(e,n))}function RT(n){return bn(n,-32768,32767)}function Zo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function og(n,t,e){e=e||(s=>n[s]<t);let i=n.length-1,o=0,r;for(;i-o>1;)r=o+i>>1,e(r)?o=r:i=r;return{lo:o,hi:i}}var qo=(n,t,e,i)=>og(n,e,i?o=>{let r=n[o][t];return r<e||r===e&&n[o+1][t]===e}:o=>n[o][t]<e),NT=(n,t,e)=>og(n,e,i=>n[i][t]>=e);function FT(n,t,e){let i=0,o=n.length;for(;i<o&&n[i]<t;)i++;for(;o>i&&n[o-1]>e;)o--;return i>0||o<n.length?n.slice(i,o):n}var LT=["push","pop","shift","splice","unshift"];function VT(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),LT.forEach(e=>{let i="_onData"+ng(e),o=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){let s=o.apply(this,r);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),s}})})}function _1(n,t){let e=n._chartjs;if(!e)return;let i=e.listeners,o=i.indexOf(t);o!==-1&&i.splice(o,1),!(i.length>0)&&(LT.forEach(r=>{delete n[r]}),delete n._chartjs)}function v1(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var b1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function y1(n,t){let e=[],i=!1;return function(...o){e=o,i||(i=!0,b1.call(window,()=>{i=!1,n.apply(t,e)}))}}function BT(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}var rg=n=>n==="start"?"left":n==="end"?"right":"center",In=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,jT=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function C1(n,t,e){let i=t.length,o=0,r=i;if(n._sorted){let{iScale:s,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,f=s.axis,{min:h,max:_,minDefined:g,maxDefined:v}=s.getUserBounds();if(g){if(o=Math.min(qo(l,f,h).lo,e?i:qo(t,f,s.getPixelForValue(h)).lo),c){let b=l.slice(0,o+1).reverse().findIndex(C=>!Ze(C[a.axis]));o-=Math.max(0,b)}o=bn(o,0,i-1)}if(v){let b=Math.max(qo(l,s.axis,_,!0).hi+1,e?0:qo(t,f,s.getPixelForValue(_),!0).hi+1);if(c){let C=l.slice(b-1).findIndex(E=>!Ze(E[a.axis]));b+=Math.max(0,C)}r=bn(b,o,i)-o}else r=i-o}return{start:o,count:r}}function x1(n){let{xScale:t,yScale:e,_scaleRanges:i}=n,o={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=o,!0;let r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,o),r}var Ym=n=>n===0||n===1,yT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Vt/e)),CT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Vt/e)+1,Ul={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*en)+1,easeOutSine:n=>Math.sin(n*en),easeInOutSine:n=>-.5*(Math.cos(st*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ym(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ym(n)?n:yT(n,.075,.3),easeOutElastic:n=>Ym(n)?n:CT(n,.075,.3),easeInOutElastic(n){return Ym(n)?n:n<.5?.5*yT(n*2,.1125,.45):.5+.5*CT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ul.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ul.easeInBounce(n*2)*.5:Ul.easeOutBounce(n*2-1)*.5+.5};function w1(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function M1(n){return w1(n)?n:new Zd(n)}function l1(n){return w1(n)?n:new Zd(n).saturate(.5).darken(.1).hexString()}var _G=["x","y","borderWidth","radius","tension"],vG=["color","borderColor","backgroundColor"];function bG(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:vG},numbers:{type:"number",properties:_G}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function yG(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var xT=new Map;function CG(n,t){t=t||{};let e=n+JSON.stringify(t),i=xT.get(e);return i||(i=new Intl.NumberFormat(n,t),xT.set(e,i)),i}function Kl(n,t,e){return CG(t,e).format(n)}var HT={values(n){return Lt(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let i=this.chart.options.locale,o,r=n;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),r=xG(n,e)}let s=Ir(Math.abs(r)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Kl(n,i,l)},logarithmic(n,t,e){if(n===0)return"0";let i=e[t].significand||n/Math.pow(10,Math.floor(Ir(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?HT.numeric.call(this,n,t,e):""}};function xG(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var tu={formatters:HT};function wG(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var cs=Object.create(null),sg=Object.create(null);function Xd(n,t){if(!t)return n;let e=t.split(".");for(let i=0,o=e.length;i<o;++i){let r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function c1(n,t,e){return typeof t=="string"?zl(Xd(n,t),e):zl(Xd(n,""),t)}var d1=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>l1(o.backgroundColor),this.hoverBorderColor=(i,o)=>l1(o.borderColor),this.hoverColor=(i,o)=>l1(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return c1(this,t,e)}get(t){return Xd(this,t)}describe(t,e){return c1(sg,t,e)}override(t,e){return c1(cs,t,e)}route(t,e,i,o){let r=Xd(this,t),s=Xd(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=s[o];return Je(l)?Object.assign({},c,l):Oe(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}},Ht=new d1({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bG,yG,wG]);function MG(n){return!n||Ze(n.size)||Ze(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Jd(n,t,e,i,o){let r=t[o];return r||(r=t[o]=n.measureText(o).width,e.push(o)),r>i&&(i=r),i}function UT(n,t,e,i){i=i||{};let o=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(o=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let s=0,a=e.length,l,c,f,h,_;for(l=0;l<a;l++)if(h=e[l],h!=null&&!Lt(h))s=Jd(n,o,r,s,h);else if(Lt(h))for(c=0,f=h.length;c<f;c++)_=h[c],_!=null&&!Lt(_)&&(s=Jd(n,o,r,s,_));n.restore();let g=r.length/2;if(g>e.length){for(l=0;l<g;l++)delete o[r[l]];r.splice(0,g)}return s}function ds(n,t,e){let i=n.currentDevicePixelRatio,o=e!==0?Math.max(e/2,.5):0;return Math.round((t-o)*i)/i+o}function E1(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function ag(n,t,e,i){D1(n,t,e,i,null)}function D1(n,t,e,i,o){let r,s,a,l,c,f,h,_,g=t.pointStyle,v=t.rotation,b=t.radius,C=(v||0)*hG;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),g){default:o?n.ellipse(e,i,o/2,b,0,0,Vt):n.arc(e,i,b,0,Vt),n.closePath();break;case"triangle":f=o?o/2:b,n.moveTo(e+Math.sin(C)*f,i-Math.cos(C)*b),C+=bT,n.lineTo(e+Math.sin(C)*f,i-Math.cos(C)*b),C+=bT,n.lineTo(e+Math.sin(C)*f,i-Math.cos(C)*b),n.closePath();break;case"rectRounded":c=b*.516,l=b-c,s=Math.cos(C+ga)*l,h=Math.cos(C+ga)*(o?o/2-c:l),a=Math.sin(C+ga)*l,_=Math.sin(C+ga)*(o?o/2-c:l),n.arc(e-h,i-a,c,C-st,C-en),n.arc(e+_,i-s,c,C-en,C),n.arc(e+h,i+a,c,C,C+en),n.arc(e-_,i+s,c,C+en,C+st),n.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*b,f=o?o/2:l,n.rect(e-f,i-l,2*f,2*l);break}C+=ga;case"rectRot":h=Math.cos(C)*(o?o/2:b),s=Math.cos(C)*b,a=Math.sin(C)*b,_=Math.sin(C)*(o?o/2:b),n.moveTo(e-h,i-a),n.lineTo(e+_,i-s),n.lineTo(e+h,i+a),n.lineTo(e-_,i+s),n.closePath();break;case"crossRot":C+=ga;case"cross":h=Math.cos(C)*(o?o/2:b),s=Math.cos(C)*b,a=Math.sin(C)*b,_=Math.sin(C)*(o?o/2:b),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+_,i-s),n.lineTo(e-_,i+s);break;case"star":h=Math.cos(C)*(o?o/2:b),s=Math.cos(C)*b,a=Math.sin(C)*b,_=Math.sin(C)*(o?o/2:b),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+_,i-s),n.lineTo(e-_,i+s),C+=ga,h=Math.cos(C)*(o?o/2:b),s=Math.cos(C)*b,a=Math.sin(C)*b,_=Math.sin(C)*(o?o/2:b),n.moveTo(e-h,i-a),n.lineTo(e+h,i+a),n.moveTo(e+_,i-s),n.lineTo(e-_,i+s);break;case"line":s=o?o/2:Math.cos(C)*b,a=Math.sin(C)*b,n.moveTo(e-s,i-a),n.lineTo(e+s,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(o?o/2:b),i+Math.sin(C)*b);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Yo(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function nu(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function iu(n){n.restore()}function zT(n,t,e,i,o){if(!t)return n.lineTo(e.x,e.y);if(o==="middle"){let r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else o==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function $T(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function EG(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ze(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function DG(n,t,e,i,o){if(o.strikethrough||o.underline){let r=n.measureText(i),s=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,f=o.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(s,f),n.lineTo(a,f),n.stroke()}}function SG(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function us(n,t,e,i,o,r={}){let s=Lt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="",l,c;for(n.save(),n.font=o.string,EG(n,r),l=0;l<s.length;++l)c=s[l],r.backdrop&&SG(n,r.backdrop),a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Ze(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,e,i,r.maxWidth)),n.fillText(c,e,i,r.maxWidth),DG(n,e,i,c,r),i+=Number(o.lineHeight);n.restore()}function Zl(n,t){let{x:e,y:i,w:o,h:r,radius:s}=t;n.arc(e+s.topLeft,i+s.topLeft,s.topLeft,1.5*st,st,!0),n.lineTo(e,i+r-s.bottomLeft),n.arc(e+s.bottomLeft,i+r-s.bottomLeft,s.bottomLeft,st,en,!0),n.lineTo(e+o-s.bottomRight,i+r),n.arc(e+o-s.bottomRight,i+r-s.bottomRight,s.bottomRight,en,0,!0),n.lineTo(e+o,i+s.topRight),n.arc(e+o-s.topRight,i+s.topRight,s.topRight,0,-en,!0),n.lineTo(e+s.topLeft,i)}var PG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function IG(n,t){let e=(""+n).match(PG);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var kG=n=>+n||0;function lg(n,t){let e={},i=Je(t),o=i?Object.keys(t):t,r=Je(n)?i?s=>Oe(n[s],n[t[s]]):s=>n[s]:()=>n;for(let s of o)e[s]=kG(r(s));return e}function S1(n){return lg(n,{top:"y",right:"x",bottom:"y",left:"x"})}function fs(n){return lg(n,["topLeft","topRight","bottomLeft","bottomRight"])}function kn(n){let t=S1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function un(n,t){n=n||{},t=t||Ht.font;let e=Oe(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Oe(n.style,t.style);i&&!(""+i).match(OG)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let o={family:Oe(n.family,t.family),lineHeight:IG(Oe(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Oe(n.weight,t.weight),string:""};return o.string=MG(o),o}function Ql(n,t,e,i){let o=!0,r,s,a;for(r=0,s=n.length;r<s;++r)if(a=n[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),o=!1),e!==void 0&&Lt(a)&&(a=a[e%a.length],o=!1),a!==void 0))return i&&!o&&(i.cacheable=!1),a}function GT(n,t,e){let{min:i,max:o}=n,r=u1(t,(o-i)/2),s=(a,l)=>e&&a===0?0:a+l;return{min:s(i,-Math.abs(r)),max:s(o,r)}}function Tr(n,t){return Object.assign(Object.create(n),t)}function cg(n,t=[""],e,i,o=()=>n[0]){let r=e||n;typeof i>"u"&&(i=YT("_fallback",n));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:o,override:a=>cg([a,...n],t,r,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return WT(a,l,()=>BG(l,t,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return MT(a).includes(l)},ownKeys(a){return MT(a)},set(a,l,c){let f=a._storage||(a._storage=o());return a[l]=f[l]=c,delete a._keys,!0}})}function va(n,t,e,i){let o={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:P1(n,i),setContext:r=>va(n,r,e,i),override:r=>va(n.override(r),t,e,i)};return new Proxy(o,{deleteProperty(r,s){return delete r[s],delete n[s],!0},get(r,s,a){return WT(r,s,()=>AG(r,s,a))},getOwnPropertyDescriptor(r,s){return r._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(r,s,a){return n[s]=a,delete r[s],!0}})}function P1(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:o=t.allKeys}=n;return{allKeys:o,scriptable:e,indexable:i,isScriptable:Or(e)?e:()=>e,isIndexable:Or(i)?i:()=>i}}var TG=(n,t)=>n?n+ng(t):t,O1=(n,t)=>Je(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function WT(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];let i=e();return n[t]=i,i}function AG(n,t,e){let{_proxy:i,_context:o,_subProxy:r,_descriptors:s}=n,a=i[t];return Or(a)&&s.isScriptable(t)&&(a=RG(t,a,n,e)),Lt(a)&&a.length&&(a=NG(t,a,n,s.isIndexable)),O1(t,a)&&(a=va(a,o,r&&r[t],s)),a}function RG(n,t,e,i){let{_proxy:o,_context:r,_subProxy:s,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=t(r,s||i);return a.delete(n),O1(n,l)&&(l=I1(o._scopes,o,n,l)),l}function NG(n,t,e,i){let{_proxy:o,_context:r,_subProxy:s,_descriptors:a}=e;if(typeof r.index<"u"&&i(n))return t[r.index%t.length];if(Je(t[0])){let l=t,c=o._scopes.filter(f=>f!==l);t=[];for(let f of l){let h=I1(c,o,n,f);t.push(va(h,r,s&&s[n],a))}}return t}function qT(n,t,e){return Or(n)?n(t,e):n}var FG=(n,t)=>n===!0?t:typeof n=="string"?kr(t,n):void 0;function LG(n,t,e,i,o){for(let r of t){let s=FG(e,r);if(s){n.add(s);let a=qT(s._fallback,e,o);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(s===!1&&typeof i<"u"&&e!==i)return null}return!1}function I1(n,t,e,i){let o=t._rootScopes,r=qT(t._fallback,e,i),s=[...n,...o],a=new Set;a.add(i);let l=wT(a,s,e,r||e,i);return l===null||typeof r<"u"&&r!==e&&(l=wT(a,s,r,l,i),l===null)?!1:cg(Array.from(a),[""],o,r,()=>VG(t,e,i))}function wT(n,t,e,i,o){for(;e;)e=LG(n,t,e,i,o);return e}function VG(n,t,e){let i=n._getTarget();t in i||(i[t]={});let o=i[t];return Lt(o)&&Je(e)?e:o||{}}function BG(n,t,e,i){let o;for(let r of t)if(o=YT(TG(r,n),e),typeof o<"u")return O1(n,o)?I1(e,i,n,o):o}function YT(n,t){for(let e of t){if(!e)continue;let i=e[n];if(typeof i<"u")return i}}function MT(n){let t=n._keys;return t||(t=n._keys=jG(n._scopes)),t}function jG(n){let t=new Set;for(let e of n)for(let i of Object.keys(e).filter(o=>!o.startsWith("_")))t.add(i);return Array.from(t)}function k1(n,t,e,i){let{iScale:o}=n,{key:r="r"}=this._parsing,s=new Array(i),a,l,c,f;for(a=0,l=i;a<l;++a)c=a+e,f=t[c],s[a]={r:o.parse(kr(f,r),c)};return s}var HG=Number.EPSILON||1e-14,$l=(n,t)=>t<n.length&&!n[t].skip&&n[t],KT=n=>n==="x"?"y":"x";function UG(n,t,e,i){let o=n.skip?t:n,r=t,s=e.skip?t:e,a=eg(r,o),l=eg(s,r),c=a/(a+l),f=l/(a+l);c=isNaN(c)?0:c,f=isNaN(f)?0:f;let h=i*c,_=i*f;return{previous:{x:r.x-h*(s.x-o.x),y:r.y-h*(s.y-o.y)},next:{x:r.x+_*(s.x-o.x),y:r.y+_*(s.y-o.y)}}}function zG(n,t,e){let i=n.length,o,r,s,a,l,c=$l(n,0);for(let f=0;f<i-1;++f)if(l=c,c=$l(n,f+1),!(!l||!c)){if(ql(t[f],0,HG)){e[f]=e[f+1]=0;continue}o=e[f]/t[f],r=e[f+1]/t[f],a=Math.pow(o,2)+Math.pow(r,2),!(a<=9)&&(s=3/Math.sqrt(a),e[f]=o*s*t[f],e[f+1]=r*s*t[f])}}function $G(n,t,e="x"){let i=KT(e),o=n.length,r,s,a,l=$l(n,0);for(let c=0;c<o;++c){if(s=a,a=l,l=$l(n,c+1),!a)continue;let f=a[e],h=a[i];s&&(r=(f-s[e])/3,a[`cp1${e}`]=f-r,a[`cp1${i}`]=h-r*t[c]),l&&(r=(l[e]-f)/3,a[`cp2${e}`]=f+r,a[`cp2${i}`]=h+r*t[c])}}function GG(n,t="x"){let e=KT(t),i=n.length,o=Array(i).fill(0),r=Array(i),s,a,l,c=$l(n,0);for(s=0;s<i;++s)if(a=l,l=c,c=$l(n,s+1),!!l){if(c){let f=c[t]-l[t];o[s]=f!==0?(c[e]-l[e])/f:0}r[s]=a?c?mo(o[s-1])!==mo(o[s])?0:(o[s-1]+o[s])/2:o[s-1]:o[s]}zG(n,o,r),$G(n,r,t)}function Km(n,t,e){return Math.max(Math.min(n,e),t)}function WG(n,t){let e,i,o,r,s,a=Yo(n[0],t);for(e=0,i=n.length;e<i;++e)s=r,r=a,a=e<i-1&&Yo(n[e+1],t),r&&(o=n[e],s&&(o.cp1x=Km(o.cp1x,t.left,t.right),o.cp1y=Km(o.cp1y,t.top,t.bottom)),a&&(o.cp2x=Km(o.cp2x,t.left,t.right),o.cp2y=Km(o.cp2y,t.top,t.bottom)))}function ZT(n,t,e,i,o){let r,s,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")GG(n,o);else{let c=i?n[n.length-1]:n[0];for(r=0,s=n.length;r<s;++r)a=n[r],l=UG(c,a,n[Math.min(r+1,s-(i?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&WG(n,e)}function dg(){return typeof window<"u"&&typeof document<"u"}function ug(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function tg(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}var fg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function qG(n,t){return fg(n).getPropertyValue(t)}var YG=["top","right","bottom","left"];function _a(n,t,e){let i={};e=e?"-"+e:"";for(let o=0;o<4;o++){let r=YG[o];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var KG=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function ZG(n,t){let e=n.touches,i=e&&e.length?e[0]:n,{offsetX:o,offsetY:r}=i,s=!1,a,l;if(KG(o,r,n.target))a=o,l=r;else{let c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function ps(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:i}=t,o=fg(e),r=o.boxSizing==="border-box",s=_a(o,"padding"),a=_a(o,"border","width"),{x:l,y:c,box:f}=ZG(n,e),h=s.left+(f&&a.left),_=s.top+(f&&a.top),{width:g,height:v}=t;return r&&(g-=s.width+a.width,v-=s.height+a.height),{x:Math.round((l-h)/g*e.width/i),y:Math.round((c-_)/v*e.height/i)}}function QG(n,t,e){let i,o;if(t===void 0||e===void 0){let r=n&&ug(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{let s=r.getBoundingClientRect(),a=fg(r),l=_a(a,"border","width"),c=_a(a,"padding");t=s.width-c.width-l.width,e=s.height-c.height-l.height,i=tg(a.maxWidth,r,"clientWidth"),o=tg(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||Jm,maxHeight:o||Jm}}var Zm=n=>Math.round(n*10)/10;function QT(n,t,e,i){let o=fg(n),r=_a(o,"margin"),s=tg(o.maxWidth,n,"clientWidth")||Jm,a=tg(o.maxHeight,n,"clientHeight")||Jm,l=QG(n,t,e),{width:c,height:f}=l;if(o.boxSizing==="content-box"){let _=_a(o,"border","width"),g=_a(o,"padding");c-=g.width+_.width,f-=g.height+_.height}return c=Math.max(0,c-r.width),f=Math.max(0,i?c/i:f-r.height),c=Zm(Math.min(c,s,l.maxWidth)),f=Zm(Math.min(f,a,l.maxHeight)),c&&!f&&(f=Zm(c/2)),(t!==void 0||e!==void 0)&&i&&l.height&&f>l.height&&(f=l.height,c=Zm(Math.floor(f*i))),{width:c,height:f}}function T1(n,t,e){let i=t||1,o=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let s=n.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||s.height!==o||s.width!==r?(n.currentDevicePixelRatio=i,s.height=o,s.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var XT=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};dg()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function A1(n,t){let e=qG(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ls(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function JT(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function e2(n,t,e,i){let o={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},s=ls(n,o,e),a=ls(o,r,e),l=ls(r,t,e),c=ls(s,a,e),f=ls(a,l,e);return ls(c,f,e)}var XG=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},JG=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ya(n,t,e){return n?XG(t,e):JG()}function R1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function N1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function t2(n){return n==="angle"?{between:Yl,compare:gG,normalize:On}:{between:Zo,compare:(t,e)=>t-e,normalize:t=>t}}function ET({start:n,end:t,count:e,loop:i,style:o}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:o}}function eW(n,t,e){let{property:i,start:o,end:r}=e,{between:s,normalize:a}=t2(i),l=t.length,{start:c,end:f,loop:h}=n,_,g;if(h){for(c+=l,f+=l,_=0,g=l;_<g&&s(a(t[c%l][i]),o,r);++_)c--,f--;c%=l,f%=l}return f<c&&(f+=l),{start:c,end:f,loop:h,style:n.style}}function F1(n,t,e){if(!e)return[n];let{property:i,start:o,end:r}=e,s=t.length,{compare:a,between:l,normalize:c}=t2(i),{start:f,end:h,loop:_,style:g}=eW(n,t,e),v=[],b=!1,C=null,E,k,R,V=()=>l(o,R,E)&&a(o,R)!==0,L=()=>a(r,E)===0||l(r,R,E),j=()=>b||V(),Z=()=>!b||L();for(let G=f,te=f;G<=h;++G)k=t[G%s],!k.skip&&(E=c(k[i]),E!==R&&(b=l(E,o,r),C===null&&j()&&(C=a(E,o)===0?G:te),C!==null&&Z()&&(v.push(ET({start:C,end:G,loop:_,count:s,style:g})),C=null),te=G,R=E));return C!==null&&v.push(ET({start:C,end:h,loop:_,count:s,style:g})),v}function L1(n,t){let e=[],i=n.segments;for(let o=0;o<i.length;o++){let r=F1(i[o],n.points,t);r.length&&e.push(...r)}return e}function tW(n,t,e,i){let o=0,r=t-1;if(e&&!i)for(;o<t&&!n[o].skip;)o++;for(;o<t&&n[o].skip;)o++;for(o%=t,e&&(r+=o);r>o&&n[r%t].skip;)r--;return r%=t,{start:o,end:r}}function nW(n,t,e,i){let o=n.length,r=[],s=t,a=n[t],l;for(l=t+1;l<=e;++l){let c=n[l%o];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%o,end:(l-1)%o,loop:i}),t=s=c.stop?l:null):(s=l,a.skip&&(t=l)),a=c}return s!==null&&r.push({start:t%o,end:s%o,loop:i}),r}function n2(n,t){let e=n.points,i=n.options.spanGaps,o=e.length;if(!o)return[];let r=!!n._loop,{start:s,end:a}=tW(e,o,r,i);if(i===!0)return DT(n,[{start:s,end:a,loop:r}],e,t);let l=a<s?a+o:a,c=!!n._fullLoop&&s===0&&a===o-1;return DT(n,nW(e,s,l,c),e,t)}function DT(n,t,e,i){return!i||!i.setContext||!e?t:iW(n,t,e,i)}function iW(n,t,e,i){let o=n._chart.getContext(),r=ST(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,l=e.length,c=[],f=r,h=t[0].start,_=h;function g(v,b,C,E){let k=a?-1:1;if(v!==b){for(v+=l;e[v%l].skip;)v-=k;for(;e[b%l].skip;)b+=k;v%l!==b%l&&(c.push({start:v%l,end:b%l,loop:C,style:E}),f=E,h=b%l)}}for(let v of t){h=a?h:v.start;let b=e[h%l],C;for(_=h+1;_<=v.end;_++){let E=e[_%l];C=ST(i.setContext(Tr(o,{type:"segment",p0:b,p1:E,p0DataIndex:(_-1)%l,p1DataIndex:_%l,datasetIndex:s}))),oW(C,f)&&g(h,_-1,v.loop,f),b=E,f=C}h<_-1&&g(h,_-1,v.loop,f)}return c}function ST(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function oW(n,t){if(!t)return!1;let e=[],i=function(o,r){return w1(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Qm(n,t,e){return n.options.clip?n[e]:t[e]}function rW(n,t){let{xScale:e,yScale:i}=n;return e&&i?{left:Qm(e,t,"left"),right:Qm(e,t,"right"),top:Qm(i,t,"top"),bottom:Qm(i,t,"bottom")}:t}function V1(n,t){let e=t._clip;if(e.disabled)return!1;let i=rW(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}var Z1=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,o){let r=e.listeners[o],s=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(i-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=b1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;let r=i.items,s=r.length-1,a=!1,l;for(;s>=0;--s)l=r[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(o.draw(),this._notify(o,i,t,"progress")),r.length||(i.running=!1,this._notify(o,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,o=i.length-1;for(;o>=0;--o)i[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Ar=new Z1,i2="transparent",sW={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let i=M1(n||i2),o=i.valid&&M1(t||i2);return o&&o.valid?o.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}},Q1=class{constructor(t,e,i,o){let r=e[i];o=Ql([t.to,o,r,t.from]);let s=Ql([t.from,r,o]);this._active=!0,this._fn=t.fn||sW[t.type||typeof s],this._easing=Ul[t.easing]||Ul.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let o=this._target[this._prop],r=i-this._start,s=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ql([t.to,e,o,t.from]),this._from=Ql([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,o=this._prop,r=this._from,s=this._loop,a=this._to,l;if(this._active=r!==a&&(s||e<i),!this._active){this._target[o]=a,this._notify(!0);return}if(e<0){this._target[o]=r;return}l=e/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(r,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][e]()}},Cg=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Je(t))return;let e=Object.keys(Ht.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{let r=t[o];if(!Je(r))return;let s={};for(let a of e)s[a]=r[a];(Lt(r.properties)&&r.properties||[o]).forEach(a=>{(a===o||!i.has(a))&&i.set(a,s)})})}_animateOptions(t,e){let i=e.options,o=lW(t,i);if(!o)return[];let r=this._createAnimations(o,i);return i.$shared&&aW(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){let i=this._properties,o=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(t,e));continue}let f=e[c],h=r[c],_=i.get(c);if(h)if(_&&h.active()){h.update(_,f,a);continue}else h.cancel();if(!_||!_.duration){t[c]=f;continue}r[c]=h=new Q1(_,t,c,f),o.push(h)}return o}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return Ar.add(this._chart,i),!0}};function aW(n,t){let e=[],i=Object.keys(t);for(let o=0;o<i.length;o++){let r=n[i[o]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function lW(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function o2(n,t){let e=n&&n.options||{},i=e.reverse,o=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:o,end:i?o:r}}function cW(n,t,e){if(e===!1)return!1;let i=o2(n,e),o=o2(t,e);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function dW(n){let t,e,i,o;return Je(n)?(t=n.top,e=n.right,i=n.bottom,o=n.left):t=e=i=o=n,{top:t,right:e,bottom:i,left:o,disabled:n===!1}}function iA(n,t){let e=[],i=n._getSortedDatasetMetas(t),o,r;for(o=0,r=i.length;o<r;++o)e.push(i[o].index);return e}function r2(n,t,e,i={}){let o=n.keys,r=i.mode==="single",s,a,l,c;if(t===null)return;let f=!1;for(s=0,a=o.length;s<a;++s){if(l=+o[s],l===e){if(f=!0,i.all)continue;break}c=n.values[l],Zt(c)&&(r||t===0||mo(t)===mo(c))&&(t+=c)}return!f&&!i.all?0:t}function uW(n,t){let{iScale:e,vScale:i}=t,o=e.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),l,c,f;for(l=0,c=s.length;l<c;++l)f=s[l],a[l]={[o]:f,[r]:n[f]};return a}function B1(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function fW(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function pW(n){let{min:t,max:e,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function hW(n,t,e){let i=n[t]||(n[t]={});return i[e]||(i[e]={})}function s2(n,t,e,i){for(let o of t.getMatchingVisibleMetas(i).reverse()){let r=n[o.index];if(e&&r>0||!e&&r<0)return o.index}return null}function a2(n,t){let{chart:e,_cachedMeta:i}=n,o=e._stacks||(e._stacks={}),{iScale:r,vScale:s,index:a}=i,l=r.axis,c=s.axis,f=fW(r,s,i),h=t.length,_;for(let g=0;g<h;++g){let v=t[g],{[l]:b,[c]:C}=v,E=v._stacks||(v._stacks={});_=E[c]=hW(o,f,b),_[a]=C,_._top=s2(_,s,!0,i.type),_._bottom=s2(_,s,!1,i.type);let k=_._visualValues||(_._visualValues={});k[a]=C}}function j1(n,t){let e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function mW(n,t){return Tr(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function gW(n,t,e){return Tr(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ou(n,t){let e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(let o of t){let r=o._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}var H1=n=>n==="reset"||n==="none",l2=(n,t)=>t?n:Object.assign({},n),_W=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:iA(e,!0),values:null},ms=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=B1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ou(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,o=this.getDataset(),r=(_,g,v,b)=>_==="x"?g:_==="r"?b:v,s=i.xAxisID=Oe(o.xAxisID,j1(e,"x")),a=i.yAxisID=Oe(o.yAxisID,j1(e,"y")),l=i.rAxisID=Oe(o.rAxisID,j1(e,"r")),c=i.indexAxis,f=i.iAxisID=r(c,s,a,l),h=i.vAxisID=r(c,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(f),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&_1(this._data,this),e._stacked&&ou(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),o=this._data;if(Je(i)){let r=this._cachedMeta;this._data=uW(i,r)}else if(o!==i){if(o){_1(o,this);let r=this._cachedMeta;ou(r),r._parsed=[]}i&&Object.isExtensible(i)&&VT(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,o=this.getDataset(),r=!1;this._dataCheck();let s=i._stacked;i._stacked=B1(i.vScale,i),i.stack!==o.stack&&(r=!0,ou(i),i.stack=o.stack),this._resyncElements(e),(r||s!==i._stacked)&&(a2(this,i._parsed),i._stacked=B1(i.vScale,i))}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:o,_data:r}=this,{iScale:s,_stacked:a}=o,l=s.axis,c=e===0&&i===r.length?!0:o._sorted,f=e>0&&o._parsed[e-1],h,_,g;if(this._parsing===!1)o._parsed=r,o._sorted=!0,g=r;else{Lt(r[e])?g=this.parseArrayData(o,r,e,i):Je(r[e])?g=this.parseObjectData(o,r,e,i):g=this.parsePrimitiveData(o,r,e,i);let v=()=>_[l]===null||f&&_[l]<f[l];for(h=0;h<i;++h)o._parsed[h+e]=_=g[h],c&&(v()&&(c=!1),f=_);o._sorted=c}a&&a2(this,g)}parsePrimitiveData(e,i,o,r){let{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,f=s.getLabels(),h=s===a,_=new Array(r),g,v,b;for(g=0,v=r;g<v;++g)b=g+o,_[g]={[l]:h||s.parse(f[b],b),[c]:a.parse(i[b],b)};return _}parseArrayData(e,i,o,r){let{xScale:s,yScale:a}=e,l=new Array(r),c,f,h,_;for(c=0,f=r;c<f;++c)h=c+o,_=i[h],l[c]={x:s.parse(_[0],h),y:a.parse(_[1],h)};return l}parseObjectData(e,i,o,r){let{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,f=new Array(r),h,_,g,v;for(h=0,_=r;h<_;++h)g=h+o,v=i[g],f[h]={x:s.parse(kr(v,l),g),y:a.parse(kr(v,c),g)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,o){let r=this.chart,s=this._cachedMeta,a=i[e.axis],l={keys:iA(r,!0),values:i._stacks[e.axis]._visualValues};return r2(l,a,s.index,{mode:o})}updateRangeFromParsed(e,i,o,r){let s=o[i.axis],a=s===null?NaN:s,l=r&&o._stacks[i.axis];r&&l&&(r.values=l,a=r2(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){let o=this._cachedMeta,r=o._parsed,s=o._sorted&&e===o.iScale,a=r.length,l=this._getOtherScale(e),c=_W(i,o,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:_}=pW(l),g,v;function b(){v=r[g];let C=v[l.axis];return!Zt(v[e.axis])||h>C||_<C}for(g=0;g<a&&!(!b()&&(this.updateRangeFromParsed(f,e,v,c),s));++g);if(s){for(g=a-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(f,e,v,c);break}}return f}getAllParsedValues(e){let i=this._cachedMeta._parsed,o=[],r,s,a;for(r=0,s=i.length;r<s;++r)a=i[r][e.axis],Zt(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,o=i.iScale,r=i.vScale,s=this.getParsed(e);return{label:o?""+o.getLabelForValue(s[o.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=dW(Oe(this.options.clip,cW(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,o=this._cachedMeta,r=o.data||[],s=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,f=this.options.drawActiveElementsOnTop,h;for(o.dataset&&o.dataset.draw(e,s,l,c),h=l;h<l+c;++h){let _=r[h];_.hidden||(_.active&&f?a.push(_):_.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(e,i){let o=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,i,o){let r=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=gW(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=mW(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=o,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",o){let r=i==="active",s=this._cachedDataOpts,a=e+"-"+i,l=s[a],c=this.enableOptionSharing&&Wl(o);if(l)return l2(l,c);let f=this.chart.config,h=f.datasetElementScopeKeys(this._type,e),_=r?[`${e}Hover`,"hover",e,""]:[e,""],g=f.getOptionScopes(this.getDataset(),h),v=Object.keys(Ht.elements[e]),b=()=>this.getContext(o,r,i),C=f.resolveNamedOptions(g,v,b,_);return C.$shared&&(C.$shared=c,s[a]=Object.freeze(l2(C,c))),C}_resolveAnimations(e,i,o){let r=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let c;if(r.options.animation!==!1){let h=this.chart.config,_=h.datasetAnimationScopeKeys(this._type,i),g=h.getOptionScopes(this.getDataset(),_);c=h.createResolver(g,this.getContext(e,o,i))}let f=new Cg(r,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||H1(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let o=this.resolveDataElementOptions(e,i),r=this._sharedOptions,s=this.getSharedOptions(o),a=this.includeOptions(i,s)||s!==r;return this.updateSharedOptions(s,i,o),{sharedOptions:s,includeOptions:a}}updateElement(e,i,o,r){H1(r)?Object.assign(e,o):this._resolveAnimations(i,r).update(e,o)}updateSharedOptions(e,i,o){e&&!H1(i)&&this._resolveAnimations(void 0,i).update(e,o)}_setStyle(e,i,o,r){e.active=r;let s=this.getStyle(i,r);this._resolveAnimations(i,o,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,i,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,i,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,o=this._cachedMeta.data;for(let[l,c,f]of this._syncList)this[l](c,f);this._syncList=[];let r=o.length,s=i.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,i,o=!0){let r=this._cachedMeta,s=r.data,a=e+i,l,c=f=>{for(f.length+=i,l=f.length-1;l>=a;l--)f[l]=f[l-i]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,i),o&&this.updateElements(s,e,i,"reset")}updateElements(e,i,o,r){}_removeElements(e,i){let o=this._cachedMeta;if(this._parsing){let r=o._parsed.splice(e,i);o._stacked&&ou(o,r)}o.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,o,r]=e;this[i](o,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function vW(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),i=[];for(let o=0,r=e.length;o<r;o++)i=i.concat(e[o].controller.getAllParsedValues(n));n._cache.$bar=v1(i.sort((o,r)=>o-r))}return n._cache.$bar}function bW(n){let t=n.iScale,e=vW(t,n.type),i=t._length,o,r,s,a,l=()=>{s===32767||s===-32768||(Wl(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(o=0,r=e.length;o<r;++o)s=t.getPixelForValue(e[o]),l();for(a=void 0,o=0,r=t.ticks.length;o<r;++o)s=t.getPixelForTick(o),l();return i}function yW(n,t,e,i){let o=e.barThickness,r,s;return Ze(o)?(r=t.min*e.categoryPercentage,s=e.barPercentage):(r=o*i,s=1),{chunk:r/i,ratio:s,start:t.pixels[n]-r/2}}function CW(n,t,e,i){let o=t.pixels,r=o[n],s=n>0?o[n-1]:null,a=n<o.length-1?o[n+1]:null,l=e.categoryPercentage;s===null&&(s=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-s);let c=r-(r-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:e.barPercentage,start:c}}function xW(n,t,e,i){let o=e.parse(n[0],i),r=e.parse(n[1],i),s=Math.min(o,r),a=Math.max(o,r),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:o,end:r,min:s,max:a}}function oA(n,t,e,i){return Lt(n)?xW(n,t,e,i):t[e.axis]=e.parse(n,i),t}function c2(n,t,e,i){let o=n.iScale,r=n.vScale,s=o.getLabels(),a=o===r,l=[],c,f,h,_;for(c=e,f=e+i;c<f;++c)_=t[c],h={},h[o.axis]=a||o.parse(s[c],c),l.push(oA(_,h,r,c));return l}function U1(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function wW(n,t,e){return n!==0?mo(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function MW(n){let t,e,i,o,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(o="end",r="start"):(o="start",r="end"),{start:e,end:i,reverse:t,top:o,bottom:r}}function EW(n,t,e,i){let o=t.borderSkipped,r={};if(!o){n.borderSkipped=r;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:f}=MW(n);o==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?o=c:(e._bottom||0)===i?o=f:(r[d2(f,s,a,l)]=!0,o=c)),r[d2(o,s,a,l)]=!0,n.borderSkipped=r}function d2(n,t,e,i){return i?(n=DW(n,t,e),n=u2(n,e,t)):n=u2(n,t,e),n}function DW(n,t,e){return n===t?e:n===e?t:n}function u2(n,t,e){return n==="start"?t:n==="end"?e:n}function SW(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var PW=(()=>{class n extends ms{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,o,r){return c2(e,i,o,r)}parseArrayData(e,i,o,r){return c2(e,i,o,r)}parseObjectData(e,i,o,r){let{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,f=s.axis==="x"?l:c,h=a.axis==="x"?l:c,_=[],g,v,b,C;for(g=o,v=o+r;g<v;++g)C=i[g],b={},b[s.axis]=s.parse(kr(C,f),g),_.push(oA(kr(C,h),b,a,g));return _}updateRangeFromParsed(e,i,o,r){super.updateRangeFromParsed(e,i,o,r);let s=o._custom;s&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:o,vScale:r}=i,s=this.getParsed(e),a=s._custom,l=U1(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+o.getLabelForValue(s[o.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,o,r){let s=r==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),f=l.isHorizontal(),h=this._getRuler(),{sharedOptions:_,includeOptions:g}=this._getSharedOptions(i,r);for(let v=i;v<i+o;v++){let b=this.getParsed(v),C=s||Ze(b[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(v),E=this._calculateBarIndexPixels(v,h),k=(b._stacks||{})[l.axis],R={horizontal:f,base:C.base,enableBorderRadius:!k||U1(b._custom)||a===k._top||a===k._bottom,x:f?C.head:E.center,y:f?E.center:C.head,height:f?E.size:Math.abs(C.size),width:f?Math.abs(C.size):E.size};g&&(R.options=_||this.resolveDataElementOptions(v,e[v].active?"active":r));let V=R.options||e[v].options;EW(R,V,k,a),SW(R,V,h.ratio),this.updateElement(e[v],v,R,r)}}_getStacks(e,i){let{iScale:o}=this._cachedMeta,r=o.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=o.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(i),c=l&&l[o.axis],f=h=>{let _=h._parsed.find(v=>v[o.axis]===c),g=_&&_[h.vScale.axis];if(Ze(g)||isNaN(g))return!0};for(let h of r)if(!(i!==void 0&&f(h))&&((s===!1||a.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,i=this.chart.options.indexAxis;return Object.keys(e).filter(o=>e[o].axis===i).shift()}_getAxis(){let e={},i=this.getFirstScaleIdForIndexAxis();for(let o of this.chart.data.datasets)e[Oe(this.chart.options.indexAxis==="x"?o.xAxisID:o.yAxisID,i)]=!0;return Object.keys(e)}_getStackIndex(e,i,o){let r=this._getStacks(e,o),s=i!==void 0?r.indexOf(i):-1;return s===-1?r.length-1:s}_getRuler(){let e=this.options,i=this._cachedMeta,o=i.iScale,r=[],s,a;for(s=0,a=i.data.length;s<a;++s)r.push(o.getPixelForValue(this.getParsed(s)[o.axis],s));let l=e.barThickness;return{min:l||bW(i),pixels:r,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:o,index:r},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),f=c._custom,h=U1(f),_=c[i.axis],g=0,v=o?this.applyStack(i,c,o):_,b,C;v!==_&&(g=v-_,v=_),h&&(_=f.barStart,v=f.barEnd-f.barStart,_!==0&&mo(_)!==mo(f.barEnd)&&(g=0),g+=_);let E=!Ze(s)&&!h?s:g,k=i.getPixelForValue(E);if(this.chart.getDataVisibility(e)?b=i.getPixelForValue(g+v):b=k,C=b-k,Math.abs(C)<a){C=wW(C,i,l)*a,_===l&&(k-=C/2);let R=i.getPixelForDecimal(0),V=i.getPixelForDecimal(1),L=Math.min(R,V),j=Math.max(R,V);k=Math.max(Math.min(k,j),L),b=k+C,o&&!h&&(c._stacks[i.axis]._visualValues[r]=i.getValueForPixel(b)-i.getValueForPixel(k))}if(k===i.getPixelForValue(l)){let R=mo(C)*i.getLineWidthForValue(l)/2;k+=R,C-=R}return{size:C,base:k,head:b,center:b+C/2}}_calculateBarIndexPixels(e,i){let o=i.scale,r=this.options,s=r.skipNull,a=Oe(r.maxBarThickness,1/0),l,c,f=this._getAxisCount();if(i.grouped){let h=s?this._getStackCount(e):i.stackCount,_=r.barThickness==="flex"?CW(e,i,r,h*f):yW(e,i,r,h*f),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Oe(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+v;l=_.start+_.chunk*b+_.chunk/2,c=Math.min(a,_.chunk*_.ratio)}else l=o.getPixelForValue(this.getParsed(e)[o.axis],e),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,i=e.vScale,o=e.data,r=o.length,s=0;for(;s<r;++s)this.getParsed(s)[i.axis]!==null&&!o[s].hidden&&o[s].draw(this._ctx)}}return n})(),OW=(()=>{class n extends ms{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,o,r){let s=super.parsePrimitiveData(e,i,o,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+o).radius;return s}parseArrayData(e,i,o,r){let s=super.parseArrayData(e,i,o,r);for(let a=0;a<s.length;a++){let l=i[o+a];s[a]._custom=Oe(l[2],this.resolveDataElementOptions(a+o).radius)}return s}parseObjectData(e,i,o,r){let s=super.parseObjectData(e,i,o,r);for(let a=0;a<s.length;a++){let l=i[o+a];s[a]._custom=Oe(l&&l.r&&+l.r,this.resolveDataElementOptions(a+o).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let o=e.length-1;o>=0;--o)i=Math.max(i,e[o].size(this.resolveDataElementOptions(o))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=i,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y),f=a._custom;return{label:o[e]||"",value:"("+l+", "+c+(f?", "+f:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,o,r){let s=r==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(i,r),h=a.axis,_=l.axis;for(let g=i;g<i+o;g++){let v=e[g],b=!s&&this.getParsed(g),C={},E=C[h]=s?a.getPixelForDecimal(.5):a.getPixelForValue(b[h]),k=C[_]=s?l.getBasePixel():l.getPixelForValue(b[_]);C.skip=isNaN(E)||isNaN(k),f&&(C.options=c||this.resolveDataElementOptions(g,v.active?"active":r),s&&(C.options.radius=0)),this.updateElement(v,g,C,r)}}resolveDataElementOptions(e,i){let o=this.getParsed(e),r=super.resolveDataElementOptions(e,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let s=r.radius;return i!=="active"&&(r.radius=0),r.radius+=Oe(o&&o._custom,s),r}}return n})();function IW(n,t,e){let i=1,o=1,r=0,s=0;if(t<Vt){let a=n,l=a+t,c=Math.cos(a),f=Math.sin(a),h=Math.cos(l),_=Math.sin(l),g=(R,V,L)=>Yl(R,a,l,!0)?1:Math.max(V,V*e,L,L*e),v=(R,V,L)=>Yl(R,a,l,!0)?-1:Math.min(V,V*e,L,L*e),b=g(0,c,h),C=g(en,f,_),E=v(st,c,h),k=v(st+en,f,_);i=(b-E)/2,o=(C-k)/2,r=-(b+E)/2,s=-(C+k)/2}return{ratioX:i,ratioY:o,offsetX:r,offsetY:s}}var _x=(()=>{class n extends ms{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o,color:r}}=e.legend.options;return i.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let o=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=o;else{let s=c=>+o[c];if(Je(o[e])){let{key:c="value"}=this._parsing;s=f=>+kr(o[f],c)}let a,l;for(a=e,l=e+i;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Ui(this.options.rotation-90)}_getCircumference(){return Ui(this.options.circumference)}_getRotationExtents(){let e=Vt,i=-Vt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let r=this.chart.getDatasetMeta(o).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),i=Math.max(i,s+a)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:o}=i,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(o.width,o.height)-a)/2,0),c=Math.min(OT(this.options.cutout,l),1),f=this._getRingWeight(this.index),{circumference:h,rotation:_}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:b,offsetY:C}=IW(_,h,c),E=(o.width-a)/g,k=(o.height-a)/v,R=Math.max(Math.min(E,k)/2,0),V=u1(this.options.radius,R),L=Math.max(V*c,0),j=(V-L)/this._getVisibleDatasetWeightTotal();this.offsetX=b*V,this.offsetY=C*V,r.total=this.calculateTotal(),this.outerRadius=V-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*f,0),this.updateElements(s,0,s.length,e)}_circumference(e,i){let o=this.options,r=this._cachedMeta,s=this._getCircumference();return i&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Vt)}updateElements(e,i,o,r){let s=r==="reset",a=this.chart,l=a.chartArea,f=a.options.animation,h=(l.left+l.right)/2,_=(l.top+l.bottom)/2,g=s&&f.animateScale,v=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:C,includeOptions:E}=this._getSharedOptions(i,r),k=this._getRotation(),R;for(R=0;R<i;++R)k+=this._circumference(R,s);for(R=i;R<i+o;++R){let V=this._circumference(R,s),L=e[R],j={x:h+this.offsetX,y:_+this.offsetY,startAngle:k,endAngle:k+V,circumference:V,outerRadius:b,innerRadius:v};E&&(j.options=C||this.resolveDataElementOptions(R,L.active?"active":r)),k+=V,this.updateElement(L,R,j,r)}}calculateTotal(){let e=this._cachedMeta,i=e.data,o=0,r;for(r=0;r<i.length;r++){let s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(o+=Math.abs(s))}return o}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?Vt*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=Kl(i._parsed[e],o.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let i=0,o=this.chart,r,s,a,l,c;if(!e){for(r=0,s=o.data.datasets.length;r<s;++r)if(o.isDatasetVisible(r)){a=o.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let o=0,r=e.length;o<r;++o){let s=this.resolveDataElementOptions(o);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(i+=this._getRingWeight(o));return i}_getRingWeight(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),kW=(()=>{class n extends ms{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:o,data:r=[],_dataset:s}=i,a=this.chart._animationsDisabled,{start:l,count:c}=C1(i,r,a);this._drawStart=l,this._drawCount=c,x1(i)&&(l=0,c=r.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!s._decimated,o.points=r;let f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:f},e),this.updateElements(r,l,c,e)}updateElements(e,i,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:f}=this._cachedMeta,{sharedOptions:h,includeOptions:_}=this._getSharedOptions(i,r),g=a.axis,v=l.axis,{spanGaps:b,segment:C}=this.options,E=ba(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||r==="none",R=i+o,V=e.length,L=i>0&&this.getParsed(i-1);for(let j=0;j<V;++j){let Z=e[j],G=k?Z:{};if(j<i||j>=R){G.skip=!0;continue}let te=this.getParsed(j),xe=Ze(te[v]),Ie=G[g]=a.getPixelForValue(te[g],j),ke=G[v]=s||xe?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,te,c):te[v],j);G.skip=isNaN(Ie)||isNaN(ke)||xe,G.stop=j>0&&Math.abs(te[g]-L[g])>E,C&&(G.parsed=te,G.raw=f.data[j]),_&&(G.options=h||this.resolveDataElementOptions(j,Z.active?"active":r)),k||this.updateElement(Z,j,G,r),L=te}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,o=i.options&&i.options.borderWidth||0,r=e.data||[];if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n})(),rA=(()=>{class n extends ms{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:o,color:r}}=e.legend.options;return i.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,i,o){o.chart.toggleDataVisibility(i.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=Kl(i._parsed[e].r,o.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,i,o,r){return k1.bind(this)(e,i,o,r)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,r)=>{let s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,o=e.options,r=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(r/2,0),a=Math.max(o.cutoutPercentage?s/100*o.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,o,r){let s=r==="reset",a=this.chart,c=a.options.animation,f=this._cachedMeta.rScale,h=f.xCenter,_=f.yCenter,g=f.getIndexAngle(0)-.5*st,v=g,b,C=360/this.countVisibleElements();for(b=0;b<i;++b)v+=this._computeAngle(b,r,C);for(b=i;b<i+o;b++){let E=e[b],k=v,R=v+this._computeAngle(b,r,C),V=a.getDataVisibility(b)?f.getDistanceFromCenterForValue(this.getParsed(b).r):0;v=R,s&&(c.animateScale&&(V=0),c.animateRotate&&(k=R=g));let L={x:h,y:_,innerRadius:0,outerRadius:V,startAngle:k,endAngle:R,options:this.resolveDataElementOptions(b,E.active?"active":r)};this.updateElement(E,b,L,r)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((o,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&i++}),i}_computeAngle(e,i,o){return this.chart.getDataVisibility(e)?Ui(this.resolveDataElementOptions(e,i).angle||o):0}}return n})(),TW=(()=>{class n extends _x{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),AW=(()=>{class n extends ms{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,o=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(o[i.axis])}}parseObjectData(e,i,o,r){return k1.bind(this)(e,i,o,r)}update(e){let i=this._cachedMeta,o=i.dataset,r=i.data||[],s=i.iScale.getLabels();if(o.points=r,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===r.length,options:a};this.updateElement(o,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,i,o,r){let s=this._cachedMeta.rScale,a=r==="reset";for(let l=i;l<i+o;l++){let c=e[l],f=this.resolveDataElementOptions(l,c.active?"active":r),h=s.getPointPositionForValue(l,this.getParsed(l).r),_=a?s.xCenter:h.x,g=a?s.yCenter:h.y,v={x:_,y:g,angle:h.angle,skip:isNaN(_)||isNaN(g),options:f};this.updateElement(c,l,v,r)}}}return n})(),RW=(()=>{class n extends ms{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=i,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:o[e]||"",value:"("+l+", "+c+")"}}update(e){let i=this._cachedMeta,{data:o=[]}=i,r=this.chart._animationsDisabled,{start:s,count:a}=C1(i,o,r);if(this._drawStart=s,this._drawCount=a,x1(i)&&(s=0,a=o.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=o;let f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:f},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(o,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:f}=this._cachedMeta,h=this.resolveDataElementOptions(i,r),_=this.getSharedOptions(h),g=this.includeOptions(r,_),v=a.axis,b=l.axis,{spanGaps:C,segment:E}=this.options,k=ba(C)?C:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||r==="none",V=i>0&&this.getParsed(i-1);for(let L=i;L<i+o;++L){let j=e[L],Z=this.getParsed(L),G=R?j:{},te=Ze(Z[b]),xe=G[v]=a.getPixelForValue(Z[v],L),Ie=G[b]=s||te?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,Z,c):Z[b],L);G.skip=isNaN(xe)||isNaN(Ie)||te,G.stop=L>0&&Math.abs(Z[v]-V[v])>k,E&&(G.parsed=Z,G.raw=f.data[L]),g&&(G.options=_||this.resolveDataElementOptions(L,j.active?"active":r)),R||this.updateElement(j,L,G,r),V=Z}this.updateSharedOptions(_,r,h)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let o=e.dataset,r=o.options&&o.options.borderWidth||0;if(!i.length)return r;let s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}}return n})(),NW=Object.freeze({__proto__:null,BarController:PW,BubbleController:OW,DoughnutController:_x,LineController:kW,PieController:TW,PolarAreaController:rA,RadarController:AW,ScatterController:RW});function Ca(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var X1=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ca()}parse(){return Ca()}format(){return Ca()}add(){return Ca()}diff(){return Ca()}startOf(){return Ca()}endOf(){return Ca()}},FW={_date:X1};function LW(n,t,e,i){let{controller:o,data:r,_sorted:s}=n,a=o._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&s&&r.length){let c=a._reversePixels?NT:qo;if(i){if(o._sharedOptions){let f=r[0],h=typeof f.getRange=="function"&&f.getRange(t);if(h){let _=c(r,t,e-h),g=c(r,t,e+h);return{lo:_.lo,hi:g.hi}}}}else{let f=c(r,t,e);if(l){let{vScale:h}=o._cachedMeta,{_parsed:_}=n,g=_.slice(0,f.lo+1).reverse().findIndex(b=>!Ze(b[h.axis]));f.lo-=Math.max(0,g);let v=_.slice(f.hi).findIndex(b=>!Ze(b[h.axis]));f.hi+=Math.max(0,v)}return f}}return{lo:0,hi:r.length-1}}function hu(n,t,e,i,o){let r=n.getSortedVisibleDatasetMetas(),s=e[t];for(let a=0,l=r.length;a<l;++a){let{index:c,data:f}=r[a],{lo:h,hi:_}=LW(r[a],t,s,o);for(let g=h;g<=_;++g){let v=f[g];v.skip||i(v,c,g)}}}function VW(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,o){let r=t?Math.abs(i.x-o.x):0,s=e?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function z1(n,t,e,i,o){let r=[];return!o&&!n.isPointInArea(t)||hu(n,e,t,function(a,l,c){!o&&!Yo(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function BW(n,t,e,i){let o=[];function r(s,a,l){let{startAngle:c,endAngle:f}=s.getProps(["startAngle","endAngle"],i),{angle:h}=g1(s,{x:t.x,y:t.y});Yl(h,c,f)&&o.push({element:s,datasetIndex:a,index:l})}return hu(n,e,t,r),o}function jW(n,t,e,i,o,r){let s=[],a=VW(e),l=Number.POSITIVE_INFINITY;function c(f,h,_){let g=f.inRange(t.x,t.y,o);if(i&&!g)return;let v=f.getCenterPoint(o);if(!(!!r||n.isPointInArea(v))&&!g)return;let C=a(t,v);C<l?(s=[{element:f,datasetIndex:h,index:_}],l=C):C===l&&s.push({element:f,datasetIndex:h,index:_})}return hu(n,e,t,c),s}function $1(n,t,e,i,o,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!i?BW(n,t,e,o):jW(n,t,e,i,o,r)}function f2(n,t,e,i,o){let r=[],s=e==="x"?"inXRange":"inYRange",a=!1;return hu(n,e,t,(l,c,f)=>{l[s]&&l[s](t[e],o)&&(r.push({element:l,datasetIndex:c,index:f}),a=a||l.inRange(t.x,t.y,o))}),i&&!a?[]:r}var HW={evaluateInteractionItems:hu,modes:{index(n,t,e,i){let o=ps(t,n),r=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?z1(n,o,r,i,s):$1(n,o,r,!1,i,s),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{let f=a[0].index,h=c.data[f];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:f})}),l):[]},dataset(n,t,e,i){let o=ps(t,n),r=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?z1(n,o,r,i,s):$1(n,o,r,!1,i,s);if(a.length>0){let l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let f=0;f<c.length;++f)a.push({element:c[f],datasetIndex:l,index:f})}return a},point(n,t,e,i){let o=ps(t,n),r=e.axis||"xy",s=e.includeInvisible||!1;return z1(n,o,r,i,s)},nearest(n,t,e,i){let o=ps(t,n),r=e.axis||"xy",s=e.includeInvisible||!1;return $1(n,o,r,e.intersect,i,s)},x(n,t,e,i){let o=ps(t,n);return f2(n,o,"x",e.intersect,i)},y(n,t,e,i){let o=ps(t,n);return f2(n,o,"y",e.intersect,i)}}},sA=["left","top","right","bottom"];function ru(n,t){return n.filter(e=>e.pos===t)}function p2(n,t){return n.filter(e=>sA.indexOf(e.pos)===-1&&e.box.axis===t)}function su(n,t){return n.sort((e,i)=>{let o=t?i:e,r=t?e:i;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function UW(n){let t=[],e,i,o,r,s,a;for(e=0,i=(n||[]).length;e<i;++e)o=n[e],{position:r,options:{stack:s,stackWeight:a=1}}=o,t.push({index:e,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&r+s,stackWeight:a});return t}function zW(n){let t={};for(let e of n){let{stack:i,pos:o,stackWeight:r}=e;if(!i||!sA.includes(o))continue;let s=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return t}function $W(n,t){let e=zW(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=t,r,s,a;for(r=0,s=n.length;r<s;++r){a=n[r];let{fullSize:l}=a.box,c=e[a.stack],f=c&&a.stackWeight/c.weight;a.horizontal?(a.width=f?f*i:l&&t.availableWidth,a.height=o):(a.width=i,a.height=f?f*o:l&&t.availableHeight)}return e}function GW(n){let t=UW(n),e=su(t.filter(c=>c.box.fullSize),!0),i=su(ru(t,"left"),!0),o=su(ru(t,"right")),r=su(ru(t,"top"),!0),s=su(ru(t,"bottom")),a=p2(t,"x"),l=p2(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:ru(t,"chartArea"),vertical:i.concat(o).concat(l),horizontal:r.concat(s).concat(a)}}function h2(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function aA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function WW(n,t,e,i){let{pos:o,box:r}=e,s=n.maxPadding;if(!Je(o)){e.size&&(n[o]-=e.size);let h=i[e.stack]||{size:0,count:1};h.size=Math.max(h.size,e.horizontal?r.height:r.width),e.size=h.size/h.count,n[o]+=e.size}r.getPadding&&aA(s,r.getPadding());let a=Math.max(0,t.outerWidth-h2(s,n,"left","right")),l=Math.max(0,t.outerHeight-h2(s,n,"top","bottom")),c=a!==n.w,f=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:f}:{same:f,other:c}}function qW(n){let t=n.maxPadding;function e(i){let o=Math.max(t[i]-n[i],0);return n[i]+=o,o}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function YW(n,t){let e=t.maxPadding;function i(o){let r={left:0,top:0,right:0,bottom:0};return o.forEach(s=>{r[s]=Math.max(t[s],e[s])}),r}return i(n?["left","right"]:["top","bottom"])}function cu(n,t,e,i){let o=[],r,s,a,l,c,f;for(r=0,s=n.length,c=0;r<s;++r){a=n[r],l=a.box,l.update(a.width||t.w,a.height||t.h,YW(a.horizontal,t));let{same:h,other:_}=WW(t,e,a,i);c|=h&&o.length,f=f||_,l.fullSize||o.push(a)}return c&&cu(o,t,e,i)||f}function pg(n,t,e,i,o){n.top=e,n.left=t,n.right=t+i,n.bottom=e+o,n.width=i,n.height=o}function m2(n,t,e,i){let o=e.padding,{x:r,y:s}=t;for(let a of n){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},f=a.stackWeight/c.weight||1;if(a.horizontal){let h=t.w*f,_=c.size||l.height;Wl(c.start)&&(s=c.start),l.fullSize?pg(l,o.left,s,e.outerWidth-o.right-o.left,_):pg(l,t.left+c.placed,s,h,_),c.start=s,c.placed+=h,s=l.bottom}else{let h=t.h*f,_=c.size||l.width;Wl(c.start)&&(r=c.start),l.fullSize?pg(l,r,o.top,_,e.outerHeight-o.bottom-o.top):pg(l,r,t.top+c.placed,_,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=s}var zn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;let o=kn(n.options.layout.padding),r=Math.max(t-o.width,0),s=Math.max(e-o.height,0),a=GW(n.boxes),l=a.vertical,c=a.horizontal;vt(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});let f=l.reduce((b,C)=>C.box.options&&C.box.options.display===!1?b:b+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:e,padding:o,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/f,hBoxMaxHeight:s/2}),_=Object.assign({},o);aA(_,kn(i));let g=Object.assign({maxPadding:_,w:r,h:s,x:o.left,y:o.top},o),v=$W(l.concat(c),h);cu(a.fullSize,g,h,v),cu(l,g,h,v),cu(c,g,h,v)&&cu(l,g,h,v),qW(g),m2(a.leftAndTop,g,h,v),g.x+=g.w,g.y+=g.h,m2(a.rightAndBottom,g,h,v),n.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},vt(a.chartArea,b=>{let C=b.box;Object.assign(C,n.chartArea),C.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},xg=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,o){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):i)}}isAttached(t){return!0}updateConfig(t){}},J1=class extends xg{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},bg="$chartjs",KW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},g2=n=>n===null||n==="";function ZW(n,t){let e=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[bg]={initial:{height:i,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",g2(o)){let r=A1(n,"width");r!==void 0&&(n.width=r)}if(g2(i))if(n.style.height==="")n.height=n.width/(t||2);else{let r=A1(n,"height");r!==void 0&&(n.height=r)}return n}var lA=XT?{passive:!0}:!1;function QW(n,t,e){n&&n.addEventListener(t,e,lA)}function XW(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,lA)}function JW(n,t){let e=KW[n.type]||n.type,{x:i,y:o}=ps(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:o!==void 0?o:null}}function wg(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function eq(n,t,e){let i=n.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||wg(a.addedNodes,i),s=s&&!wg(a.removedNodes,i);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function tq(n,t,e){let i=n.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||wg(a.removedNodes,i),s=s&&!wg(a.addedNodes,i);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}var uu=new Map,_2=0;function cA(){let n=window.devicePixelRatio;n!==_2&&(_2=n,uu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function nq(n,t){uu.size||window.addEventListener("resize",cA),uu.set(n,t)}function iq(n){uu.delete(n),uu.size||window.removeEventListener("resize",cA)}function oq(n,t,e){let i=n.canvas,o=i&&ug(i);if(!o)return;let r=y1((a,l)=>{let c=o.clientWidth;e(a,l),c<o.clientWidth&&e()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,f=l.contentRect.height;c===0&&f===0||r(c,f)});return s.observe(o),nq(n,r),s}function G1(n,t,e){e&&e.disconnect(),t==="resize"&&iq(n)}function rq(n,t,e){let i=n.canvas,o=y1(r=>{n.ctx!==null&&e(JW(r,n))},n);return QW(i,t,o),o}var ex=class extends xg{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(ZW(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[bg])return!1;let i=e[bg].initial;["height","width"].forEach(r=>{let s=i[r];Ze(s)?e.removeAttribute(r):e.setAttribute(r,s)});let o=i.style||{};return Object.keys(o).forEach(r=>{e.style[r]=o[r]}),e.width=e.width,delete e[bg],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let o=t.$proxies||(t.$proxies={}),s={attach:eq,detach:tq,resize:oq}[e]||rq;o[e]=s(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),o=i[e];if(!o)return;({attach:G1,detach:G1,resize:G1}[e]||XW)(t,e,o),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,o){return QT(t,e,i,o)}isAttached(t){let e=t&&ug(t);return!!(e&&e.isConnected)}};function sq(n){return!dg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?J1:ex}var go=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ba(this.x)&&ba(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let o={};return t.forEach(r=>{o[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),o}};function aq(n,t){let e=n.options.ticks,i=lq(n),o=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?dq(t):[],s=r.length,a=r[0],l=r[s-1],c=[];if(s>o)return uq(t,c,r,s/o),c;let f=cq(r,t,o);if(s>0){let h,_,g=s>1?Math.round((l-a)/(s-1)):null;for(hg(t,c,f,Ze(g)?0:a-g,a),h=0,_=s-1;h<_;h++)hg(t,c,f,r[h],r[h+1]);return hg(t,c,f,l,Ze(g)?t.length:l+g),c}return hg(t,c,f),c}function lq(n){let t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),o=n._maxLength/e;return Math.floor(Math.min(i,o))}function cq(n,t,e){let i=fq(n),o=t.length/e;if(!i)return Math.max(o,1);let r=TT(i);for(let s=0,a=r.length-1;s<a;s++){let l=r[s];if(l>o)return l}return Math.max(o,1)}function dq(n){let t=[],e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function uq(n,t,e,i){let o=0,r=e[0],s;for(i=Math.ceil(i),s=0;s<n.length;s++)s===r&&(t.push(n[s]),o++,r=e[o*i])}function hg(n,t,e,i,o){let r=Oe(i,0),s=Math.min(Oe(o,n.length),n.length),a=0,l,c,f;for(e=Math.ceil(e),o&&(l=o-i,e=l/Math.floor(l/e)),f=r;f<0;)a++,f=Math.round(r+a*e);for(c=Math.max(r,0);c<s;c++)c===f&&(t.push(n[c]),a++,f=Math.round(r+a*e))}function fq(n){let t=n.length,e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}var pq=n=>n==="left"?"right":n==="right"?"left":n,v2=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,b2=(n,t)=>Math.min(t||n,n);function y2(n,t){let e=[],i=n.length/t,o=n.length,r=0;for(;r<o;r+=i)e.push(n[Math.floor(r)]);return e}function hq(n,t,e){let i=n.ticks.length,o=Math.min(t,i-1),r=n._startPixel,s=n._endPixel,a=1e-6,l=n.getPixelForTick(o),c;if(!(e&&(i===1?c=Math.max(l-r,s-l):t===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(o-1))/2,l+=o<t?c:-c,l<r-a||l>s+a)))return l}function mq(n,t){vt(n,e=>{let i=e.gc,o=i.length/2,r;if(o>t){for(r=0;r<o;++r)delete e.data[i[r]];i.splice(0,o)}})}function au(n){return n.drawTicks?n.tickLength:0}function C2(n,t){if(!n.display)return 0;let e=un(n.font,t),i=kn(n.padding);return(Lt(n.text)?n.text.length:1)*e.lineHeight+i.height}function gq(n,t){return Tr(n,{scale:t,type:"scale"})}function _q(n,t,e){return Tr(n,{tick:e,index:t,type:"tick"})}function vq(n,t,e){let i=rg(n);return(e&&t!=="right"||!e&&t==="right")&&(i=pq(i)),i}function bq(n,t,e,i){let{top:o,left:r,bottom:s,right:a,chart:l}=n,{chartArea:c,scales:f}=l,h=0,_,g,v,b=s-o,C=a-r;if(n.isHorizontal()){if(g=In(i,r,a),Je(e)){let E=Object.keys(e)[0],k=e[E];v=f[E].getPixelForValue(k)+b-t}else e==="center"?v=(c.bottom+c.top)/2+b-t:v=v2(n,e,t);_=a-r}else{if(Je(e)){let E=Object.keys(e)[0],k=e[E];g=f[E].getPixelForValue(k)-C+t}else e==="center"?g=(c.left+c.right)/2-C+t:g=v2(n,e,t);v=In(i,s,o),h=e==="left"?-en:en}return{titleX:g,titleY:v,maxWidth:_,rotation:h}}var wa=class n extends go{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:o}=this;return t=hi(t,Number.POSITIVE_INFINITY),e=hi(e,Number.NEGATIVE_INFINITY),i=hi(i,Number.POSITIVE_INFINITY),o=hi(o,Number.NEGATIVE_INFINITY),{min:hi(t,i),max:hi(e,o),minDefined:Zt(t),maxDefined:Zt(e)}}getMinMax(t){let{min:e,max:i,minDefined:o,maxDefined:r}=this.getUserBounds(),s;if(o&&r)return{min:e,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,t),o||(e=Math.min(e,s.min)),r||(i=Math.max(i,s.max));return e=r&&e>i?i:e,i=o&&e>i?e:i,{min:hi(e,hi(i,e)),max:hi(i,hi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){At(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:o,grace:r,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=GT(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?y2(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=aq(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){At(this.options.afterUpdate,[this])}beforeSetDimensions(){At(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){At(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),At(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){At(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,o,r;for(i=0,o=t.length;i<o;i++)r=t[i],r.label=At(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){At(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){At(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=b2(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,r=e.maxRotation,s=o,a,l,c;if(!this._isVisible()||!e.display||o>=r||i<=1||!this.isHorizontal()){this.labelRotation=o;return}let f=this._getLabelSizes(),h=f.widest.width,_=f.highest.height,g=bn(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:g/(i-1),h+6>a&&(a=g/(i-(t.offset?.5:1)),l=this.maxHeight-au(t.grid)-e.padding-C2(t.title,this.chart.options.font),c=Math.sqrt(h*h+_*_),s=ig(Math.min(Math.asin(bn((f.highest.height+6)/a,-1,1)),Math.asin(bn(l/c,-1,1))-Math.asin(bn(_/c,-1,1)))),s=Math.max(o,Math.min(r,s))),this.labelRotation=s}afterCalculateLabelRotation(){At(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){At(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:o,grid:r}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=C2(o,e.options.font);if(a?(t.width=this.maxWidth,t.height=au(r)+l):(t.height=this.maxHeight,t.width=au(r)+l),i.display&&this.ticks.length){let{first:c,last:f,widest:h,highest:_}=this._getLabelSizes(),g=i.padding*2,v=Ui(this.labelRotation),b=Math.cos(v),C=Math.sin(v);if(a){let E=i.mirror?0:C*h.width+b*_.height;t.height=Math.min(this.maxHeight,t.height+E+g)}else{let E=i.mirror?0:b*h.width+C*_.height;t.width=Math.min(this.maxWidth,t.width+E+g)}this._calculatePadding(c,f,C,b)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,o){let{ticks:{align:r,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let f=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),_=0,g=0;l?c?(_=o*t.width,g=i*e.height):(_=i*t.height,g=o*e.width):r==="start"?g=e.width:r==="end"?_=t.width:r!=="inner"&&(_=t.width/2,g=e.width/2),this.paddingLeft=Math.max((_-f+s)*this.width/(this.width-f),0),this.paddingRight=Math.max((g-h+s)*this.width/(this.width-h),0)}else{let f=e.height/2,h=t.height/2;r==="start"?(f=0,h=t.height):r==="end"&&(f=e.height,h=0),this.paddingTop=f+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){At(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ze(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=y2(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:o,_longestTextCache:r}=this,s=[],a=[],l=Math.floor(e/b2(e,i)),c=0,f=0,h,_,g,v,b,C,E,k,R,V,L;for(h=0;h<e;h+=l){if(v=t[h].label,b=this._resolveTickFontOptions(h),o.font=C=b.string,E=r[C]=r[C]||{data:{},gc:[]},k=b.lineHeight,R=V=0,!Ze(v)&&!Lt(v))R=Jd(o,E.data,E.gc,R,v),V=k;else if(Lt(v))for(_=0,g=v.length;_<g;++_)L=v[_],!Ze(L)&&!Lt(L)&&(R=Jd(o,E.data,E.gc,R,L),V+=k);s.push(R),a.push(V),c=Math.max(R,c),f=Math.max(V,f)}mq(r,e);let j=s.indexOf(c),Z=a.indexOf(f),G=te=>({width:s[te]||0,height:a[te]||0});return{first:G(0),last:G(e-1),widest:G(j),highest:G(Z),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return RT(this._alignToPixels?ds(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=_q(this.getContext(),t,i))}return this.$context||(this.$context=gq(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Ui(this.labelRotation),i=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,a=r?r.widest.width+s:0,l=r?r.highest.height+s:0;return this.isHorizontal()?l*i>a*o?a/i:l/o:l*o<a*i?l/i:a/o}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,o=this.options,{grid:r,position:s,border:a}=o,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),_=au(r),g=[],v=a.setContext(this.getContext()),b=v.display?v.width:0,C=b/2,E=function(Q){return ds(i,Q,b)},k,R,V,L,j,Z,G,te,xe,Ie,ke,nn;if(s==="top")k=E(this.bottom),Z=this.bottom-_,te=k-C,Ie=E(t.top)+C,nn=t.bottom;else if(s==="bottom")k=E(this.top),Ie=t.top,nn=E(t.bottom)-C,Z=k+C,te=this.top+_;else if(s==="left")k=E(this.right),j=this.right-_,G=k-C,xe=E(t.left)+C,ke=t.right;else if(s==="right")k=E(this.left),xe=t.left,ke=E(t.right)-C,j=k+C,G=this.left+_;else if(e==="x"){if(s==="center")k=E((t.top+t.bottom)/2+.5);else if(Je(s)){let Q=Object.keys(s)[0],X=s[Q];k=E(this.chart.scales[Q].getPixelForValue(X))}Ie=t.top,nn=t.bottom,Z=k+C,te=Z+_}else if(e==="y"){if(s==="center")k=E((t.left+t.right)/2);else if(Je(s)){let Q=Object.keys(s)[0],X=s[Q];k=E(this.chart.scales[Q].getPixelForValue(X))}j=k-C,G=j-_,xe=t.left,ke=t.right}let Tn=Oe(o.ticks.maxTicksLimit,h),lt=Math.max(1,Math.ceil(h/Tn));for(R=0;R<h;R+=lt){let Q=this.getContext(R),X=r.setContext(Q),oe=a.setContext(Q),ge=X.lineWidth,Bt=X.color,Gn=oe.dash||[],an=oe.dashOffset,Xn=X.tickWidth,ct=X.tickColor,Fr=X.tickBorderDash||[],ir=X.tickBorderDashOffset;V=hq(this,R,l),V!==void 0&&(L=ds(i,V,ge),c?j=G=xe=ke=L:Z=te=Ie=nn=L,g.push({tx1:j,ty1:Z,tx2:G,ty2:te,x1:xe,y1:Ie,x2:ke,y2:nn,width:ge,color:Bt,borderDash:Gn,borderDashOffset:an,tickWidth:Xn,tickColor:ct,tickBorderDash:Fr,tickBorderDashOffset:ir}))}return this._ticksLength=h,this._borderValue=k,g}_computeLabelItems(t){let e=this.axis,i=this.options,{position:o,ticks:r}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:f,mirror:h}=r,_=au(i.grid),g=_+f,v=h?-f:g,b=-Ui(this.labelRotation),C=[],E,k,R,V,L,j,Z,G,te,xe,Ie,ke,nn="middle";if(o==="top")j=this.bottom-v,Z=this._getXAxisLabelAlignment();else if(o==="bottom")j=this.top+v,Z=this._getXAxisLabelAlignment();else if(o==="left"){let lt=this._getYAxisLabelAlignment(_);Z=lt.textAlign,L=lt.x}else if(o==="right"){let lt=this._getYAxisLabelAlignment(_);Z=lt.textAlign,L=lt.x}else if(e==="x"){if(o==="center")j=(t.top+t.bottom)/2+g;else if(Je(o)){let lt=Object.keys(o)[0],Q=o[lt];j=this.chart.scales[lt].getPixelForValue(Q)+g}Z=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")L=(t.left+t.right)/2-g;else if(Je(o)){let lt=Object.keys(o)[0],Q=o[lt];L=this.chart.scales[lt].getPixelForValue(Q)}Z=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(l==="start"?nn="top":l==="end"&&(nn="bottom"));let Tn=this._getLabelSizes();for(E=0,k=a.length;E<k;++E){R=a[E],V=R.label;let lt=r.setContext(this.getContext(E));G=this.getPixelForTick(E)+r.labelOffset,te=this._resolveTickFontOptions(E),xe=te.lineHeight,Ie=Lt(V)?V.length:1;let Q=Ie/2,X=lt.color,oe=lt.textStrokeColor,ge=lt.textStrokeWidth,Bt=Z;s?(L=G,Z==="inner"&&(E===k-1?Bt=this.options.reverse?"left":"right":E===0?Bt=this.options.reverse?"right":"left":Bt="center"),o==="top"?c==="near"||b!==0?ke=-Ie*xe+xe/2:c==="center"?ke=-Tn.highest.height/2-Q*xe+xe:ke=-Tn.highest.height+xe/2:c==="near"||b!==0?ke=xe/2:c==="center"?ke=Tn.highest.height/2-Q*xe:ke=Tn.highest.height-Ie*xe,h&&(ke*=-1),b!==0&&!lt.showLabelBackdrop&&(L+=xe/2*Math.sin(b))):(j=G,ke=(1-Ie)*xe/2);let Gn;if(lt.showLabelBackdrop){let an=kn(lt.backdropPadding),Xn=Tn.heights[E],ct=Tn.widths[E],Fr=ke-an.top,ir=0-an.left;switch(nn){case"middle":Fr-=Xn/2;break;case"bottom":Fr-=Xn;break}switch(Z){case"center":ir-=ct/2;break;case"right":ir-=ct;break;case"inner":E===k-1?ir-=ct:E>0&&(ir-=ct/2);break}Gn={left:ir,top:Fr,width:ct+an.width,height:Xn+an.height,color:lt.backdropColor}}C.push({label:V,font:te,textOffset:ke,options:{rotation:b,color:X,strokeColor:oe,strokeWidth:ge,textAlign:Bt,textBaseline:nn,translation:[L,j],backdrop:Gn}})}return C}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Ui(this.labelRotation))return t==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:o,padding:r}}=this.options,s=this._getLabelSizes(),a=t+r,l=s.widest.width,c,f;return e==="left"?o?(f=this.right+r,i==="near"?c="left":i==="center"?(c="center",f+=l/2):(c="right",f+=l)):(f=this.right-a,i==="near"?c="right":i==="center"?(c="center",f-=l/2):(c="left",f=this.left)):e==="right"?o?(f=this.left+r,i==="near"?c="right":i==="center"?(c="center",f-=l/2):(c="left",f-=l)):(f=this.left+a,i==="near"?c="left":i==="center"?(c="center",f+=l/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:o,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,o,r,s),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let o=this.ticks.findIndex(r=>r.value===t);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),r,s,a=(l,c,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(r=0,s=o.length;r<s;++r){let l=o[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:o}}=this,r=i.setContext(this.getContext()),s=i.display?r.width:0;if(!s)return;let a=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,f,h,_;this.isHorizontal()?(c=ds(t,this.left,s)-s/2,f=ds(t,this.right,a)+a/2,h=_=l):(h=ds(t,this.top,s)-s/2,_=ds(t,this.bottom,a)+a/2,c=f=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,h),e.lineTo(f,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,o=this._computeLabelArea();o&&nu(i,o);let r=this.getLabelItems(t);for(let s of r){let a=s.options,l=s.font,c=s.label,f=s.textOffset;us(i,c,0,f,l,a)}o&&iu(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:o}}=this;if(!i.display)return;let r=un(i.font),s=kn(i.padding),a=i.align,l=r.lineHeight/2;e==="bottom"||e==="center"||Je(e)?(l+=s.bottom,Lt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:c,titleY:f,maxWidth:h,rotation:_}=bq(this,l,e,a);us(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:_,textAlign:vq(a,e,o),textBaseline:"middle",translation:[c,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=Oe(t.grid&&t.grid.z,-1),o=Oe(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[],r,s;for(r=0,s=e.length;r<s;++r){let a=e[r];a[i]===this.id&&(!t||a.type===t)&&o.push(a)}return o}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return un(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Jl=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;xq(e)&&(i=this.register(e));let o=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in o||(o[r]=t,yq(t,s,i),this.override&&Ht.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,o=this.scope;i in e&&delete e[i],o&&i in Ht[o]&&(delete Ht[o][i],this.override&&delete cs[i])}};function yq(n,t,e){let i=zl(Object.create(null),[e?Ht.get(e):{},Ht.get(t),n.defaults]);Ht.set(t,i),n.defaultRoutes&&Cq(t,n.defaultRoutes),n.descriptors&&Ht.describe(t,n.descriptors)}function Cq(n,t){Object.keys(t).forEach(e=>{let i=e.split("."),o=i.pop(),r=[n].concat(i).join("."),s=t[e].split("."),a=s.pop(),l=s.join(".");Ht.route(r,o,l,a)})}function xq(n){return"id"in n&&"defaults"in n}var tx=class{constructor(){this.controllers=new Jl(ms,"datasets",!0),this.elements=new Jl(go,"elements"),this.plugins=new Jl(Object,"plugins"),this.scales=new Jl(wa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(o=>{let r=i||this._getRegistryForType(o);i||r.isForType(o)||r===this.plugins&&o.id?this._exec(t,r,o):vt(o,s=>{let a=i||this._getRegistryForType(s);this._exec(t,a,s)})})}_exec(t,e,i){let o=ng(t);At(i["before"+o],[],i),e[t](i),At(i["after"+o],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let o=e.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return o}},Xo=new tx,nx=class{constructor(){this._init=[]}notify(t,e,i,o){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let r=o?this._descriptors(t).filter(o):this._descriptors(t),s=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,i,o){o=o||{};for(let r of t){let s=r.plugin,a=s[i],l=[e,o,r.options];if(At(a,l,s)===!1&&o.cancelable)return!1}return!0}invalidate(){Ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,o=Oe(i.options&&i.options.plugins,{}),r=wq(i);return o===!1&&!e?[]:Eq(t,r,o,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,o=(r,s)=>r.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(o(e,i),t,"stop"),this._notify(o(i,e),t,"start")}};function wq(n){let t={},e=[],i=Object.keys(Xo.plugins.items);for(let r=0;r<i.length;r++)e.push(Xo.getPlugin(i[r]));let o=n.plugins||[];for(let r=0;r<o.length;r++){let s=o[r];e.indexOf(s)===-1&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function Mq(n,t){return!t&&n===!1?null:n===!0?{}:n}function Eq(n,{plugins:t,localIds:e},i,o){let r=[],s=n.getContext();for(let a of t){let l=a.id,c=Mq(i[l],o);c!==null&&r.push({plugin:a,options:Dq(n.config,{plugin:a,local:e[l]},c,s)})}return r}function Dq(n,{plugin:t,local:e},i,o){let r=n.pluginScopeKeys(t),s=n.getOptionScopes(i,r);return e&&t.defaults&&s.push(t.defaults),n.createResolver(s,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ix(n,t){let e=Ht.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Sq(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Pq(n,t){return n===t?"_index_":"_value_"}function x2(n){if(n==="x"||n==="y"||n==="r")return n}function Oq(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ox(n,...t){if(x2(n))return n;for(let e of t){let i=e.axis||Oq(e.position)||n.length>1&&x2(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function w2(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Iq(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return w2(n,"x",e[0])||w2(n,"y",e[0])}return{}}function kq(n,t){let e=cs[n.type]||{scales:{}},i=t.scales||{},o=ix(n.type,t),r=Object.create(null);return Object.keys(i).forEach(s=>{let a=i[s];if(!Je(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=ox(s,a,Iq(s,n),Ht.scales[a.type]),c=Pq(l,o),f=e.scales||{};r[s]=Gl(Object.create(null),[{axis:l},a,f[l],f[c]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,l=s.indexAxis||ix(a,t),f=(cs[a]||{}).scales||{};Object.keys(f).forEach(h=>{let _=Sq(h,l),g=s[_+"AxisID"]||_;r[g]=r[g]||Object.create(null),Gl(r[g],[{axis:_},i[g],f[h]])})}),Object.keys(r).forEach(s=>{let a=r[s];Gl(a,[Ht.scales[a.type],Ht.scale])}),r}function dA(n){let t=n.options||(n.options={});t.plugins=Oe(t.plugins,{}),t.scales=kq(n,t)}function uA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Tq(n){return n=n||{},n.data=uA(n.data),dA(n),n}var M2=new Map,fA=new Set;function mg(n,t){let e=M2.get(n);return e||(e=t(),M2.set(n,e),fA.add(e)),e}var lu=(n,t,e)=>{let i=kr(t,e);i!==void 0&&n.add(i)},rx=class{constructor(t){this._config=Tq(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=uA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),dA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return mg(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return mg(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return mg(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return mg(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,o=i.get(t);return(!o||e)&&(o=new Map,i.set(t,o)),o}getOptionScopes(t,e,i){let{options:o,type:r}=this,s=this._cachedScopes(t,i),a=s.get(e);if(a)return a;let l=new Set;e.forEach(f=>{t&&(l.add(t),f.forEach(h=>lu(l,t,h))),f.forEach(h=>lu(l,o,h)),f.forEach(h=>lu(l,cs[r]||{},h)),f.forEach(h=>lu(l,Ht,h)),f.forEach(h=>lu(l,sg,h))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),fA.has(e)&&s.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,cs[e]||{},Ht.datasets[e]||{},{type:e},Ht,sg]}resolveNamedOptions(t,e,i,o=[""]){let r={$shared:!0},{resolver:s,subPrefixes:a}=E2(this._resolverCache,t,o),l=s;if(Rq(s,e)){r.$shared=!1,i=Or(i)?i():i;let c=this.createResolver(t,i,a);l=va(s,i,c)}for(let c of e)r[c]=l[c];return r}createResolver(t,e,i=[""],o){let{resolver:r}=E2(this._resolverCache,t,i);return Je(e)?va(r,e,void 0,o):r}};function E2(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));let o=e.join(),r=i.get(o);return r||(r={resolver:cg(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(o,r)),r}var Aq=n=>Je(n)&&Object.getOwnPropertyNames(n).some(t=>Or(n[t]));function Rq(n,t){let{isScriptable:e,isIndexable:i}=P1(n);for(let o of t){let r=e(o),s=i(o),a=(s||r)&&n[o];if(r&&(Or(a)||Aq(a))||s&&Lt(a))return!0}return!1}var Nq="4.5.0",Fq=["top","bottom","left","right","chartArea"];function D2(n,t){return n==="top"||n==="bottom"||Fq.indexOf(n)===-1&&t==="x"}function S2(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function P2(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),At(e&&e.onComplete,[n],t)}function Lq(n){let t=n.chart,e=t.options.animation;At(e&&e.onProgress,[n],t)}function pA(n){return dg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var yg={},O2=n=>{let t=pA(n);return Object.values(yg).filter(e=>e.canvas===t).pop()};function Vq(n,t,e){let i=Object.keys(n);for(let o of i){let r=+o;if(r>=t){let s=n[o];delete n[o],(e>0||r>t)&&(n[r+e]=s)}}}function Bq(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var tn=(()=>{class n{static defaults=Ht;static instances=yg;static overrides=cs;static registry=Xo;static version=Nq;static getChart=O2;static register(...e){Xo.add(...e),I2()}static unregister(...e){Xo.remove(...e),I2()}constructor(e,i){let o=this.config=new rx(i),r=pA(e),s=O2(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||sq(r)),this.platform.updateConfig(o);let l=this.platform.acquireContext(r,a.aspectRatio),c=l&&l.canvas,f=c&&c.height,h=c&&c.width;if(this.id=PT(),this.ctx=l,this.canvas=c,this.width=h,this.height=f,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=BT(_=>this.update(_),a.resizeDelay||0),this._dataChanges=[],yg[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ar.listen(this,"complete",P2),Ar.listen(this,"progress",Lq),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:o,height:r,_aspectRatio:s}=this;return Ze(e)?i&&s?s:r?o/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():T1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return E1(this.canvas,this.ctx),this}stop(){return Ar.stop(this),this}resize(e,i){Ar.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let o=this.options,r=this.canvas,s=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,i,s),l=o.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,T1(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),At(o.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};vt(i,(o,r)=>{o.id=r})}buildOrUpdateScales(){let e=this.options,i=e.scales,o=this.scales,r=Object.keys(o).reduce((a,l)=>(a[l]=!1,a),{}),s=[];i&&(s=s.concat(Object.keys(i).map(a=>{let l=i[a],c=ox(a,l),f=c==="r",h=c==="x";return{options:l,dposition:f?"chartArea":h?"bottom":"left",dtype:f?"radialLinear":h?"category":"linear"}}))),vt(s,a=>{let l=a.options,c=l.id,f=ox(c,l),h=Oe(l.type,a.dtype);(l.position===void 0||D2(l.position,f)!==D2(a.dposition))&&(l.position=a.dposition),r[c]=!0;let _=null;if(c in o&&o[c].type===h)_=o[c];else{let g=Xo.getScale(h);_=new g({id:c,type:h,ctx:this.ctx,chart:this}),o[_.id]=_}_.init(l,e)}),vt(r,(a,l)=>{a||delete o[l]}),vt(o,a=>{zn.configure(this,a,a.options),zn.addBox(this,a)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,o=e.length;if(e.sort((r,s)=>r.index-s.index),o>i){for(let r=i;r<o;++r)this._destroyDatasetMeta(r);e.splice(i,o-i)}this._sortedMetasets=e.slice(0).sort(S2("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((o,r)=>{i.filter(s=>s===o._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,o,r;for(this._removeUnreferencedMetasets(),o=0,r=i.length;o<r;o++){let s=i[o],a=this.getDatasetMeta(o),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=l,a.indexAxis=s.indexAxis||ix(l,this.options),a.order=s.order||0,a.index=o,a.label=""+s.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{let c=Xo.getController(l),{datasetElementType:f,dataElementType:h}=Ht.datasets[l];Object.assign(c,{dataElementType:Xo.getElement(h),datasetElementType:f&&Xo.getElement(f)}),a.controller=new c(this,o),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){vt(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let o=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let f=0,h=this.data.datasets.length;f<h;f++){let{controller:_}=this.getDatasetMeta(f),g=!r&&s.indexOf(_)===-1;_.buildOrUpdateElements(g),a=Math.max(+_.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),r||vt(s,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(S2("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){vt(this.scales,e=>{zn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!f1(i,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:o,start:r,count:s}of i){let a=o==="_removeElements"?-s:s;Vq(e,r,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,o=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=o(0);for(let s=1;s<i;s++)if(!f1(r,o(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zn.update(this,this.width,this.height,e);let i=this.chartArea,o=i.width<=0||i.height<=0;this._layers=[],vt(this.boxes,r=>{o&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,o=this.data.datasets.length;i<o;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,o=this.data.datasets.length;i<o;++i)this._updateDataset(i,Or(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let o=this.getDatasetMeta(e),r={meta:o,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(o.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ar.has(this)?this.attached&&!Ar.running(this)&&Ar.start(this):(this.draw(),P2({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:o,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,o=[],r,s;for(r=0,s=i.length;r<s;++r){let a=i[r];(!e||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,o={meta:e,index:e.index,cancelable:!0},r=V1(this,e);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&nu(i,r),e.controller.draw(),r&&iu(i),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Yo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,o,r){let s=HW.modes[i];return typeof s=="function"?s(this,e,o,r):[]}getDatasetMeta(e){let i=this.data.datasets[e],o=this._metasets,r=o.filter(s=>s&&s._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},o.push(r)),r}getContext(){return this.$context||(this.$context=Tr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!i.hidden}setDatasetVisibility(e,i){let o=this.getDatasetMeta(e);o.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,o){let r=o?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);Wl(i)?(s.data[i].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),a.update(s,{visible:o}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Ar.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),E1(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete yg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,o=(s,a)=>{i.addEventListener(this,s,a),e[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};vt(this.options.events,s=>o(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,o=(c,f)=>{i.addEventListener(this,c,f),e[c]=f},r=(c,f)=>{e[c]&&(i.removeEventListener(this,c,f),delete e[c])},s=(c,f)=>{this.canvas&&this.resize(c,f)},a,l=()=>{r("attach",l),this.attached=!0,this.resize(),o("resize",s),o("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),o("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){vt(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},vt(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,o){let r=o?"set":"remove",s,a,l,c;for(i==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let f=a&&this.getDatasetMeta(a.datasetIndex).controller;f&&f[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],o=e.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!eu(o,i)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,i))}notifyPlugins(e,i,o){return this._plugins.notify(this,e,i,o)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,o){let r=this.options.hover,s=(c,f)=>c.filter(h=>!f.some(_=>h.datasetIndex===_.datasetIndex&&h.index===_.index)),a=s(i,e),l=o?e:s(e,i);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,i){let o={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,r)===!1)return;let s=this._handleEvent(e,i,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,r),(s||o.changed)&&this.render(),this}_handleEvent(e,i,o){let{_active:r=[],options:s}=this,a=i,l=this._getActiveElements(e,r,o,a),c=kT(e),f=Bq(e,this._lastEvent,o,c);o&&(this._lastEvent=null,At(s.onHover,[e,l,this],this),c&&At(s.onClick,[e,l,this],this));let h=!eu(l,r);return(h||i)&&(this._active=l,this._updateHoverStyles(l,r,i)),this._lastEvent=f,h}_getActiveElements(e,i,o,r){if(e.type==="mouseout")return[];if(!o)return i;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}return n})();function I2(){return vt(tn.instances,n=>n._plugins.invalidate())}function jq(n,t,e){let{startAngle:i,x:o,y:r,outerRadius:s,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:f}=l,h=Math.min(c/s,On(i-e));if(n.beginPath(),n.arc(o,r,s-c/2,i+h/2,e-h/2),a>0){let _=Math.min(c/a,On(i-e));n.arc(o,r,a+c/2,e-_/2,i+_/2,!0)}else{let _=Math.min(c/2,s*On(i-e));if(f==="round")n.arc(o,r,_,e-st/2,i+st/2,!0);else if(f==="bevel"){let g=2*_*_,v=-g*Math.cos(e+st/2)+o,b=-g*Math.sin(e+st/2)+r,C=g*Math.cos(i+st/2)+o,E=g*Math.sin(i+st/2)+r;n.lineTo(v,b),n.lineTo(C,E)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Hq(n,t,e){let{startAngle:i,pixelMargin:o,x:r,y:s,outerRadius:a,innerRadius:l}=t,c=o/a;n.beginPath(),n.arc(r,s,a,i-c,e+c),l>o?(c=o/l,n.arc(r,s,l,e+c,i-c,!0)):n.arc(r,s,o,e+en,i-en),n.closePath(),n.clip()}function Uq(n){return lg(n,["outerStart","outerEnd","innerStart","innerEnd"])}function zq(n,t,e,i){let o=Uq(n.options.borderRadius),r=(e-t)/2,s=Math.min(r,i*t/2),a=l=>{let c=(e-Math.min(r,l))*i/2;return bn(l,0,Math.min(r,c))};return{outerStart:a(o.outerStart),outerEnd:a(o.outerEnd),innerStart:bn(o.innerStart,0,s),innerEnd:bn(o.innerEnd,0,s)}}function Xl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Mg(n,t,e,i,o,r){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:f}=t,h=Math.max(t.outerRadius+i+e-c,0),_=f>0?f+i+e+c:0,g=0,v=o-l;if(i){let lt=f>0?f-i:0,Q=h>0?h-i:0,X=(lt+Q)/2,oe=X!==0?v*X/(X+i):v;g=(v-oe)/2}let b=Math.max(.001,v*h-e/st)/h,C=(v-b)/2,E=l+C+g,k=o-C-g,{outerStart:R,outerEnd:V,innerStart:L,innerEnd:j}=zq(t,_,h,k-E),Z=h-R,G=h-V,te=E+R/Z,xe=k-V/G,Ie=_+L,ke=_+j,nn=E+L/Ie,Tn=k-j/ke;if(n.beginPath(),r){let lt=(te+xe)/2;if(n.arc(s,a,h,te,lt),n.arc(s,a,h,lt,xe),V>0){let ge=Xl(G,xe,s,a);n.arc(ge.x,ge.y,V,xe,k+en)}let Q=Xl(ke,k,s,a);if(n.lineTo(Q.x,Q.y),j>0){let ge=Xl(ke,Tn,s,a);n.arc(ge.x,ge.y,j,k+en,Tn+Math.PI)}let X=(k-j/_+(E+L/_))/2;if(n.arc(s,a,_,k-j/_,X,!0),n.arc(s,a,_,X,E+L/_,!0),L>0){let ge=Xl(Ie,nn,s,a);n.arc(ge.x,ge.y,L,nn+Math.PI,E-en)}let oe=Xl(Z,E,s,a);if(n.lineTo(oe.x,oe.y),R>0){let ge=Xl(Z,te,s,a);n.arc(ge.x,ge.y,R,E-en,te)}}else{n.moveTo(s,a);let lt=Math.cos(te)*h+s,Q=Math.sin(te)*h+a;n.lineTo(lt,Q);let X=Math.cos(xe)*h+s,oe=Math.sin(xe)*h+a;n.lineTo(X,oe)}n.closePath()}function $q(n,t,e,i,o){let{fullCircles:r,startAngle:s,circumference:a}=t,l=t.endAngle;if(r){Mg(n,t,e,i,l,o);for(let c=0;c<r;++c)n.fill();isNaN(a)||(l=s+(a%Vt||Vt))}return Mg(n,t,e,i,l,o),n.fill(),l}function Gq(n,t,e,i,o){let{fullCircles:r,startAngle:s,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:f,borderDash:h,borderDashOffset:_,borderRadius:g}=l,v=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=_,v?(n.lineWidth=c*2,n.lineJoin=f||"round"):(n.lineWidth=c,n.lineJoin=f||"bevel");let b=t.endAngle;if(r){Mg(n,t,e,i,b,o);for(let C=0;C<r;++C)n.stroke();isNaN(a)||(b=s+(a%Vt||Vt))}v&&Hq(n,t,b),l.selfJoin&&b-s>=st&&g===0&&f!=="miter"&&jq(n,t,b),r||(Mg(n,t,e,i,b,o),n.stroke())}var sx=class extends go{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let o=this.getProps(["x","y"],i),{angle:r,distance:s}=g1(o,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),_=(this.options.spacing+this.options.borderWidth)/2,g=Oe(h,l-a),v=Yl(r,a,l)&&a!==l,b=g>=Vt||v,C=Zo(s,c+_,f+_);return b&&C}getCenterPoint(t){let{x:e,y:i,startAngle:o,endAngle:r,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,f=(o+r)/2,h=(s+a+c+l)/2;return{x:e+Math.cos(f)*h,y:i+Math.sin(f)*h}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,o=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Vt?Math.floor(i/Vt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*o,Math.sin(a)*o);let l=1-Math.sin(Math.min(st,i||0)),c=o*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,$q(t,this,c,r,s),Gq(t,this,c,r,s),t.restore()}};function hA(n,t,e=t){n.lineCap=Oe(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Oe(e.borderDash,t.borderDash)),n.lineDashOffset=Oe(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Oe(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Oe(e.borderWidth,t.borderWidth),n.strokeStyle=Oe(e.borderColor,t.borderColor)}function Wq(n,t,e){n.lineTo(e.x,e.y)}function qq(n){return n.stepped?zT:n.tension||n.cubicInterpolationMode==="monotone"?$T:Wq}function mA(n,t,e={}){let i=n.length,{start:o=0,end:r=i-1}=e,{start:s,end:a}=t,l=Math.max(o,s),c=Math.min(r,a),f=o<s&&r<s||o>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!f?i+c-l:c-l}}function Yq(n,t,e,i){let{points:o,options:r}=t,{count:s,start:a,loop:l,ilen:c}=mA(o,e,i),f=qq(r),{move:h=!0,reverse:_}=i||{},g,v,b;for(g=0;g<=c;++g)v=o[(a+(_?c-g:g))%s],!v.skip&&(h?(n.moveTo(v.x,v.y),h=!1):f(n,b,v,_,r.stepped),b=v);return l&&(v=o[(a+(_?c:0))%s],f(n,b,v,_,r.stepped)),!!l}function Kq(n,t,e,i){let o=t.points,{count:r,start:s,ilen:a}=mA(o,e,i),{move:l=!0,reverse:c}=i||{},f=0,h=0,_,g,v,b,C,E,k=V=>(s+(c?a-V:V))%r,R=()=>{b!==C&&(n.lineTo(f,C),n.lineTo(f,b),n.lineTo(f,E))};for(l&&(g=o[k(0)],n.moveTo(g.x,g.y)),_=0;_<=a;++_){if(g=o[k(_)],g.skip)continue;let V=g.x,L=g.y,j=V|0;j===v?(L<b?b=L:L>C&&(C=L),f=(h*f+V)/++h):(R(),n.lineTo(V,L),v=j,h=0,b=C=L),E=L}R()}function ax(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Kq:Yq}function Zq(n){return n.stepped?JT:n.tension||n.cubicInterpolationMode==="monotone"?e2:ls}function Qq(n,t,e,i){let o=t._path;o||(o=t._path=new Path2D,t.path(o,e,i)&&o.closePath()),hA(n,t.options),n.stroke(o)}function Xq(n,t,e,i){let{segments:o,options:r}=t,s=ax(t);for(let a of o)hA(n,r,a.style),n.beginPath(),s(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}var Jq=typeof Path2D=="function";function eY(n,t,e,i){Jq&&!t.options.segment?Qq(n,t,e,i):Xq(n,t,e,i)}var Sg=(()=>{class n extends go{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let r=o.spanGaps?this._loop:this._fullLoop;ZT(this._points,o,e,r,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=n2(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,o=e.length;return o&&i[e[o-1].end]}interpolate(e,i){let o=this.options,r=e[i],s=this.points,a=L1(this,{property:i,start:r,end:r});if(!a.length)return;let l=[],c=Zq(o),f,h;for(f=0,h=a.length;f<h;++f){let{start:_,end:g}=a[f],v=s[_],b=s[g];if(v===b){l.push(v);continue}let C=Math.abs((r-v[i])/(b[i]-v[i])),E=c(v,b,C,o.stepped);E[i]=e[i],l.push(E)}return l.length===1?l[0]:l}pathSegment(e,i,o){return ax(this)(e,this,i,o)}path(e,i,o){let r=this.segments,s=ax(this),a=this._loop;i=i||0,o=o||this.points.length-i;for(let l of r)a&=s(e,this,l,{start:i,end:i+o-1});return!!a}draw(e,i,o,r){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),eY(e,this,o,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function k2(n,t,e,i){let o=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<o.radius+o.hitRadius}var tY=(()=>{class n extends go{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,o){let r=this.options,{x:s,y:a}=this.getProps(["x","y"],o);return Math.pow(e-s,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return k2(this,e,"x",i)}inYRange(e,i){return k2(this,e,"y",i)}getCenterPoint(e){let{x:i,y:o}=this.getProps(["x","y"],e);return{x:i,y:o}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let o=i&&e.borderWidth||0;return(i+o)*2}draw(e,i){let o=this.options;this.skip||o.radius<.1||!Yo(this,i,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,ag(e,o,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return n})();function gA(n,t){let{x:e,y:i,base:o,width:r,height:s}=n.getProps(["x","y","base","width","height"],t),a,l,c,f,h;return n.horizontal?(h=s/2,a=Math.min(e,o),l=Math.max(e,o),c=i-h,f=i+h):(h=r/2,a=e-h,l=e+h,c=Math.min(i,o),f=Math.max(i,o)),{left:a,top:c,right:l,bottom:f}}function hs(n,t,e,i){return n?0:bn(t,e,i)}function nY(n,t,e){let i=n.options.borderWidth,o=n.borderSkipped,r=S1(i);return{t:hs(o.top,r.top,0,e),r:hs(o.right,r.right,0,t),b:hs(o.bottom,r.bottom,0,e),l:hs(o.left,r.left,0,t)}}function iY(n,t,e){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,r=fs(o),s=Math.min(t,e),a=n.borderSkipped,l=i||Je(o);return{topLeft:hs(!l||a.top||a.left,r.topLeft,0,s),topRight:hs(!l||a.top||a.right,r.topRight,0,s),bottomLeft:hs(!l||a.bottom||a.left,r.bottomLeft,0,s),bottomRight:hs(!l||a.bottom||a.right,r.bottomRight,0,s)}}function oY(n){let t=gA(n),e=t.right-t.left,i=t.bottom-t.top,o=nY(n,e/2,i/2),r=iY(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+o.l,y:t.top+o.t,w:e-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function W1(n,t,e,i){let o=t===null,r=e===null,a=n&&!(o&&r)&&gA(n,i);return a&&(o||Zo(t,a.left,a.right))&&(r||Zo(e,a.top,a.bottom))}function rY(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function sY(n,t){n.rect(t.x,t.y,t.w,t.h)}function q1(n,t,e={}){let i=n.x!==e.x?-t:0,o=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-i,s=(n.y+n.h!==e.y+e.h?t:0)-o;return{x:n.x+i,y:n.y+o,w:n.w+r,h:n.h+s,radius:n.radius}}var lx=class extends go{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:o}}=this,{inner:r,outer:s}=oY(this),a=rY(s.radius)?Zl:sY;t.save(),(s.w!==r.w||s.h!==r.h)&&(t.beginPath(),a(t,q1(s,e,r)),t.clip(),a(t,q1(r,-e,s)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,q1(r,e)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,e,i){return W1(this,t,e,i)}inXRange(t,e){return W1(this,t,null,e)}inYRange(t,e){return W1(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+o)/2:e,y:r?i:(i+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},aY=Object.freeze({__proto__:null,ArcElement:sx,BarElement:lx,LineElement:Sg,PointElement:tY}),cx=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],T2=cx.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function _A(n){return cx[n%cx.length]}function vA(n){return T2[n%T2.length]}function lY(n,t){return n.borderColor=_A(t),n.backgroundColor=vA(t),++t}function cY(n,t){return n.backgroundColor=n.data.map(()=>_A(t++)),t}function dY(n,t){return n.backgroundColor=n.data.map(()=>vA(t++)),t}function uY(n){let t=0;return(e,i)=>{let o=n.getDatasetMeta(i).controller;o instanceof _x?t=cY(e,t):o instanceof rA?t=dY(e,t):o&&(t=lY(e,t))}}function A2(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function fY(n){return n&&(n.borderColor||n.backgroundColor)}function pY(){return Ht.borderColor!=="rgba(0,0,0,0.1)"||Ht.backgroundColor!=="rgba(0,0,0,0.1)"}var hY={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:i},options:o}=n.config,{elements:r}=o,s=A2(i)||fY(o)||r&&A2(r)||pY();if(!e.forceOverride&&s)return;let a=uY(n);i.forEach(a)}};function mY(n,t,e,i,o){let r=o.samples||i;if(r>=e)return n.slice(t,t+e);let s=[],a=(e-2)/(r-2),l=0,c=t+e-1,f=t,h,_,g,v,b;for(s[l++]=n[f],h=0;h<r-2;h++){let C=0,E=0,k,R=Math.floor((h+1)*a)+1+t,V=Math.min(Math.floor((h+2)*a)+1,e)+t,L=V-R;for(k=R;k<V;k++)C+=n[k].x,E+=n[k].y;C/=L,E/=L;let j=Math.floor(h*a)+1+t,Z=Math.min(Math.floor((h+1)*a)+1,e)+t,{x:G,y:te}=n[f];for(g=v=-1,k=j;k<Z;k++)v=.5*Math.abs((G-C)*(n[k].y-te)-(G-n[k].x)*(E-te)),v>g&&(g=v,_=n[k],b=k);s[l++]=_,f=b}return s[l++]=n[c],s}function gY(n,t,e,i){let o=0,r=0,s,a,l,c,f,h,_,g,v,b,C=[],E=t+e-1,k=n[t].x,V=n[E].x-k;for(s=t;s<t+e;++s){a=n[s],l=(a.x-k)/V*i,c=a.y;let L=l|0;if(L===f)c<v?(v=c,h=s):c>b&&(b=c,_=s),o=(r*o+a.x)/++r;else{let j=s-1;if(!Ze(h)&&!Ze(_)){let Z=Math.min(h,_),G=Math.max(h,_);Z!==g&&Z!==j&&C.push(pe(B({},n[Z]),{x:o})),G!==g&&G!==j&&C.push(pe(B({},n[G]),{x:o}))}s>0&&j!==g&&C.push(n[j]),C.push(a),f=L,r=0,v=b=c,h=_=g=s}}return C}function bA(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function R2(n){n.data.datasets.forEach(t=>{bA(t)})}function _Y(n,t){let e=t.length,i=0,o,{iScale:r}=n,{min:s,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=bn(qo(t,r.axis,s).lo,0,e-1)),c?o=bn(qo(t,r.axis,a).hi+1,i,e)-i:o=e-i,{start:i,count:o}}var vY={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){R2(n);return}let i=n.width;n.data.datasets.forEach((o,r)=>{let{_data:s,indexAxis:a}=o,l=n.getDatasetMeta(r),c=s||o.data;if(Ql([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let f=n.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||n.options.parsing)return;let{start:h,count:_}=_Y(l,c),g=e.threshold||4*i;if(_<=g){bA(o);return}Ze(s)&&(o._data=c,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let v;switch(e.algorithm){case"lttb":v=mY(c,h,_,i,e);break;case"min-max":v=gY(c,h,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=v})},destroy(n){R2(n)}};function bY(n,t,e){let i=n.segments,o=n.points,r=t.points,s=[];for(let a of i){let{start:l,end:c}=a;c=Pg(l,c,o);let f=dx(e,o[l],o[c],a.loop);if(!t.segments){s.push({source:a,target:f,start:o[l],end:o[c]});continue}let h=L1(t,f);for(let _ of h){let g=dx(e,r[_.start],r[_.end],_.loop),v=F1(a,o,g);for(let b of v)s.push({source:b,target:_,start:{[e]:N2(f,g,"start",Math.max)},end:{[e]:N2(f,g,"end",Math.min)}})}}return s}function dx(n,t,e,i){if(i)return;let o=t[n],r=e[n];return n==="angle"&&(o=On(o),r=On(r)),{property:n,start:o,end:r}}function yY(n,t){let{x:e=null,y:i=null}=n||{},o=t.points,r=[];return t.segments.forEach(({start:s,end:a})=>{a=Pg(s,a,o);let l=o[s],c=o[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function Pg(n,t,e){for(;t>n;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function N2(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function yA(n,t){let e=[],i=!1;return Lt(n)?(i=!0,e=n):e=yY(n,t),e.length?new Sg({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function F2(n){return n&&n.fill!==!1}function CY(n,t,e){let o=n[t].fill,r=[t],s;if(!e)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!Zt(o))return o;if(s=n[o],!s)return!1;if(s.visible)return o;r.push(o),o=s.fill}return!1}function xY(n,t,e){let i=DY(n);if(Je(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return Zt(o)&&Math.floor(o)===o?wY(i[0],t,o,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function wY(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function MY(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Je(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function EY(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Je(n)?i=n.value:i=t.getBaseValue(),i}function DY(n){let t=n.options,e=t.fill,i=Oe(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function SY(n){let{scale:t,index:e,line:i}=n,o=[],r=i.segments,s=i.points,a=PY(t,e);a.push(yA({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){let c=r[l];for(let f=c.start;f<=c.end;f++)OY(o,s[f],a)}return new Sg({points:o,options:{}})}function PY(n,t){let e=[],i=n.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){let r=i[o];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function OY(n,t,e){let i=[];for(let o=0;o<e.length;o++){let r=e[o],{first:s,last:a,point:l}=IY(r,t,"x");if(!(!l||s&&a)){if(s)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function IY(n,t,e){let i=n.interpolate(t,e);if(!i)return{};let o=i[e],r=n.segments,s=n.points,a=!1,l=!1;for(let c=0;c<r.length;c++){let f=r[c],h=s[f.start][e],_=s[f.end][e];if(Zo(o,h,_)){a=o===h,l=o===_;break}}return{first:a,last:l,point:i}}var Eg=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:o,y:r,radius:s}=this;return e=e||{start:0,end:Vt},t.arc(o,r,s,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:o}=this,r=t.angle;return{x:e+Math.cos(r)*o,y:i+Math.sin(r)*o,angle:r}}};function kY(n){let{chart:t,fill:e,line:i}=n;if(Zt(e))return TY(t,e);if(e==="stack")return SY(n);if(e==="shape")return!0;let o=AY(n);return o instanceof Eg?o:yA(o,i)}function TY(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function AY(n){return(n.scale||{}).getPointPositionForValue?NY(n):RY(n)}function RY(n){let{scale:t={},fill:e}=n,i=MY(e,t);if(Zt(i)){let o=t.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function NY(n){let{scale:t,fill:e}=n,i=t.options,o=t.getLabels().length,r=i.reverse?t.max:t.min,s=EY(e,t,r),a=[];if(i.grid.circular){let l=t.getPointPositionForValue(0,r);return new Eg({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<o;++l)a.push(t.getPointPositionForValue(l,s));return a}function Y1(n,t,e){let i=kY(t),{chart:o,index:r,line:s,scale:a,axis:l}=t,c=s.options,f=c.fill,h=c.backgroundColor,{above:_=h,below:g=h}=f||{},v=o.getDatasetMeta(r),b=V1(o,v);i&&s.points.length&&(nu(n,e),FY(n,{line:s,target:i,above:_,below:g,area:e,scale:a,axis:l,clip:b}),iu(n))}function FY(n,t){let{line:e,target:i,above:o,below:r,area:s,scale:a,clip:l}=t,c=e._loop?"angle":t.axis;n.save();let f=r;r!==o&&(c==="x"?(L2(n,i,s.top),K1(n,{line:e,target:i,color:o,scale:a,property:c,clip:l}),n.restore(),n.save(),L2(n,i,s.bottom)):c==="y"&&(V2(n,i,s.left),K1(n,{line:e,target:i,color:r,scale:a,property:c,clip:l}),n.restore(),n.save(),V2(n,i,s.right),f=o)),K1(n,{line:e,target:i,color:f,scale:a,property:c,clip:l}),n.restore()}function L2(n,t,e){let{segments:i,points:o}=t,r=!0,s=!1;n.beginPath();for(let a of i){let{start:l,end:c}=a,f=o[l],h=o[Pg(l,c,o)];r?(n.moveTo(f.x,f.y),r=!1):(n.lineTo(f.x,e),n.lineTo(f.x,f.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(h.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function V2(n,t,e){let{segments:i,points:o}=t,r=!0,s=!1;n.beginPath();for(let a of i){let{start:l,end:c}=a,f=o[l],h=o[Pg(l,c,o)];r?(n.moveTo(f.x,f.y),r=!1):(n.lineTo(e,f.y),n.lineTo(f.x,f.y)),s=!!t.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(e,h.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function K1(n,t){let{line:e,target:i,property:o,color:r,scale:s,clip:a}=t,l=bY(e,i,o);for(let{source:c,target:f,start:h,end:_}of l){let{style:{backgroundColor:g=r}={}}=c,v=i!==!0;n.save(),n.fillStyle=g,LY(n,s,a,v&&dx(o,h,_)),n.beginPath();let b=!!e.pathSegment(n,c),C;if(v){b?n.closePath():B2(n,i,_,o);let E=!!i.pathSegment(n,f,{move:b,reverse:!0});C=b&&E,C||B2(n,i,h,o)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function LY(n,t,e,i){let o=t.chart.chartArea,{property:r,start:s,end:a}=i||{};if(r==="x"||r==="y"){let l,c,f,h;r==="x"?(l=s,c=o.top,f=a,h=o.bottom):(l=o.left,c=s,f=o.right,h=a),n.beginPath(),e&&(l=Math.max(l,e.left),f=Math.min(f,e.right),c=Math.max(c,e.top),h=Math.min(h,e.bottom)),n.rect(l,c,f-l,h-c),n.clip()}}function B2(n,t,e,i){let o=t.interpolate(e,i);o&&n.lineTo(o.x,o.y)}var VY={id:"filler",afterDatasetsUpdate(n,t,e){let i=(n.data.datasets||[]).length,o=[],r,s,a,l;for(s=0;s<i;++s)r=n.getDatasetMeta(s),a=r.dataset,l=null,a&&a.options&&a instanceof Sg&&(l={visible:n.isDatasetVisible(s),index:s,fill:xY(a,s,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,o.push(l);for(s=0;s<i;++s)l=o[s],!(!l||l.fill===!1)&&(l.fill=CY(o,s,e.propagate))},beforeDraw(n,t,e){let i=e.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let s=o.length-1;s>=0;--s){let a=o[s].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Y1(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){let r=i[o].$filler;F2(r)&&Y1(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){let i=t.meta.$filler;!F2(i)||e.drawTime!=="beforeDatasetDraw"||Y1(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},j2=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},BY=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,Dg=class extends go{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=At(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,o)=>t.sort(i,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,o=un(i.font),r=o.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=j2(i,r),c,f;e.font=o.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(s,r,a,l)+10):(f=this.maxHeight,c=this._fitCols(s,o,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,o){let{ctx:r,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],f=o+a,h=t;r.textAlign="left",r.textBaseline="middle";let _=-1,g=-f;return this.legendItems.forEach((v,b)=>{let C=i+e/2+r.measureText(v.text).width;(b===0||c[c.length-1]+C+2*a>s)&&(h+=f,c[c.length-(b>0?0:1)]=0,g+=f,_++),l[b]={left:0,top:g,row:_,width:C,height:o},c[c.length-1]+=C+a}),h}_fitCols(t,e,i,o){let{ctx:r,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],f=s-t,h=a,_=0,g=0,v=0,b=0;return this.legendItems.forEach((C,E)=>{let{itemWidth:k,itemHeight:R}=jY(i,e,r,C,o);E>0&&g+R+2*a>f&&(h+=_+a,c.push({width:_,height:g}),v+=_+a,b++,_=g=0),l[E]={left:v,top:g,col:b,width:k,height:R},_=Math.max(_,k),g+=R+a}),h+=_,c.push({width:_,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:o},rtl:r}}=this,s=ya(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=In(i,this.left+o,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=In(i,this.left+o,this.right-this.lineWidths[a])),c.top+=this.top+t+o,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+o}else{let a=0,l=In(i,this.top+t+o,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=In(i,this.top+t+o,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+o,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;nu(t,this),this._draw(),iu(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:o}=this,{align:r,labels:s}=t,a=Ht.color,l=ya(t.rtl,this.left,this.width),c=un(s.font),{padding:f}=s,h=c.size,_=h/2,g;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;let{boxWidth:v,boxHeight:b,itemHeight:C}=j2(s,h),E=function(j,Z,G){if(isNaN(v)||v<=0||isNaN(b)||b<0)return;o.save();let te=Oe(G.lineWidth,1);if(o.fillStyle=Oe(G.fillStyle,a),o.lineCap=Oe(G.lineCap,"butt"),o.lineDashOffset=Oe(G.lineDashOffset,0),o.lineJoin=Oe(G.lineJoin,"miter"),o.lineWidth=te,o.strokeStyle=Oe(G.strokeStyle,a),o.setLineDash(Oe(G.lineDash,[])),s.usePointStyle){let xe={radius:b*Math.SQRT2/2,pointStyle:G.pointStyle,rotation:G.rotation,borderWidth:te},Ie=l.xPlus(j,v/2),ke=Z+_;D1(o,xe,Ie,ke,s.pointStyleWidth&&v)}else{let xe=Z+Math.max((h-b)/2,0),Ie=l.leftForLtr(j,v),ke=fs(G.borderRadius);o.beginPath(),Object.values(ke).some(nn=>nn!==0)?Zl(o,{x:Ie,y:xe,w:v,h:b,radius:ke}):o.rect(Ie,xe,v,b),o.fill(),te!==0&&o.stroke()}o.restore()},k=function(j,Z,G){us(o,G.text,j,Z+C/2,c,{strikethrough:G.hidden,textAlign:l.textAlign(G.textAlign)})},R=this.isHorizontal(),V=this._computeTitleHeight();R?g={x:In(r,this.left+f,this.right-i[0]),y:this.top+f+V,line:0}:g={x:this.left+f,y:In(r,this.top+V+f,this.bottom-e[0].height),line:0},R1(this.ctx,t.textDirection);let L=C+f;this.legendItems.forEach((j,Z)=>{o.strokeStyle=j.fontColor,o.fillStyle=j.fontColor;let G=o.measureText(j.text).width,te=l.textAlign(j.textAlign||(j.textAlign=s.textAlign)),xe=v+_+G,Ie=g.x,ke=g.y;l.setWidth(this.width),R?Z>0&&Ie+xe+f>this.right&&(ke=g.y+=L,g.line++,Ie=g.x=In(r,this.left+f,this.right-i[g.line])):Z>0&&ke+L>this.bottom&&(Ie=g.x=Ie+e[g.line].width+f,g.line++,ke=g.y=In(r,this.top+V+f,this.bottom-e[g.line].height));let nn=l.x(Ie);if(E(nn,ke,j),Ie=jT(te,Ie+v+_,R?Ie+xe:this.right,t.rtl),k(l.x(Ie),ke,j),R)g.x+=xe+f;else if(typeof j.text!="string"){let Tn=c.lineHeight;g.y+=CA(j,Tn)+f}else g.y+=L}),N1(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=un(e.font),o=kn(e.padding);if(!e.display)return;let r=ya(t.rtl,this.left,this.width),s=this.ctx,a=e.position,l=i.size/2,c=o.top+l,f,h=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),f=this.top+c,h=In(t.align,h,this.right-_);else{let v=this.columnSizes.reduce((b,C)=>Math.max(b,C.height),0);f=c+In(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}let g=In(a,h,h+_);s.textAlign=r.textAlign(rg(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=i.string,us(s,e.text,g,f,i)}_computeTitleHeight(){let t=this.options.title,e=un(t.font),i=kn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,o,r;if(Zo(t,this.left,this.right)&&Zo(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(o=r[i],Zo(t,o.left,o.left+o.width)&&Zo(e,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!zY(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let o=this._hoveredItem,r=BY(o,i);o&&!r&&At(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!r&&At(e.onHover,[t,i,this],this)}else i&&At(e.onClick,[t,i,this],this)}};function jY(n,t,e,i,o){let r=HY(i,n,t,e),s=UY(o,i,t.lineHeight);return{itemWidth:r,itemHeight:s}}function HY(n,t,e,i){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((r,s)=>r.length>s.length?r:s)),t+e.size/2+i.measureText(o).width}function UY(n,t,e){let i=n;return typeof t.text!="string"&&(i=CA(t,e)),i}function CA(n,t){let e=n.text?n.text.length:0;return t*e}function zY(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var $Y={id:"legend",_element:Dg,start(n,t,e){let i=n.legend=new Dg({ctx:n.ctx,options:e,chart:n});zn.configure(n,i,e),zn.addBox(n,i)},stop(n){zn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let i=n.legend;zn.configure(n,i,e),i.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let i=t.datasetIndex,o=e.chart;o.isDatasetVisible(i)?(o.hide(i),t.hidden=!0):(o.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:o,color:r,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),f=kn(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},fu=class extends go{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let o=Lt(i.text)?i.text.length:1;this._padding=kn(i.padding);let r=o*un(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:o,right:r,options:s}=this,a=s.align,l=0,c,f,h;return this.isHorizontal()?(f=In(a,i,r),h=e+t,c=r-i):(s.position==="left"?(f=i+t,h=In(a,o,e),l=st*-.5):(f=r-t,h=In(a,e,o),l=st*.5),c=o-e),{titleX:f,titleY:h,maxWidth:c,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=un(e.font),r=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);us(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:rg(e.align),textBaseline:"middle",translation:[s,a]})}};function GY(n,t){let e=new fu({ctx:n.ctx,options:t,chart:n});zn.configure(n,e,t),zn.addBox(n,e),n.titleBlock=e}var WY={id:"title",_element:fu,start(n,t,e){GY(n,e)},stop(n){let t=n.titleBlock;zn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let i=n.titleBlock;zn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},gg=new WeakMap,qY={id:"subtitle",start(n,t,e){let i=new fu({ctx:n.ctx,options:e,chart:n});zn.configure(n,i,e),zn.addBox(n,i),gg.set(n,i)},stop(n){zn.removeBox(n,gg.get(n)),gg.delete(n)},beforeUpdate(n,t,e){let i=gg.get(n);zn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},du={average(n){if(!n.length)return!1;let t,e,i=new Set,o=0,r=0;for(t=0,e=n.length;t<e;++t){let a=n[t].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),o+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:o/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,o=Number.POSITIVE_INFINITY,r,s,a;for(r=0,s=n.length;r<s;++r){let l=n[r].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),f=eg(t,c);f<o&&(o=f,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function Qo(n,t){return t&&(Lt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Rr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function YY(n,t){let{element:e,datasetIndex:i,index:o}=t,r=n.getDatasetMeta(i).controller,{label:s,value:a}=r.getLabelAndValue(o);return{chart:n,label:s,parsed:r.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:a,dataset:r.getDataset(),dataIndex:o,datasetIndex:i,element:e}}function H2(n,t){let e=n.chart.ctx,{body:i,footer:o,title:r}=n,{boxWidth:s,boxHeight:a}=t,l=un(t.bodyFont),c=un(t.titleFont),f=un(t.footerFont),h=r.length,_=o.length,g=i.length,v=kn(t.padding),b=v.height,C=0,E=i.reduce((V,L)=>V+L.before.length+L.lines.length+L.after.length,0);if(E+=n.beforeBody.length+n.afterBody.length,h&&(b+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),E){let V=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;b+=g*V+(E-g)*l.lineHeight+(E-1)*t.bodySpacing}_&&(b+=t.footerMarginTop+_*f.lineHeight+(_-1)*t.footerSpacing);let k=0,R=function(V){C=Math.max(C,e.measureText(V).width+k)};return e.save(),e.font=c.string,vt(n.title,R),e.font=l.string,vt(n.beforeBody.concat(n.afterBody),R),k=t.displayColors?s+2+t.boxPadding:0,vt(i,V=>{vt(V.before,R),vt(V.lines,R),vt(V.after,R)}),k=0,e.font=f.string,vt(n.footer,R),e.restore(),C+=v.width,{width:C,height:b}}function KY(n,t){let{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function ZY(n,t,e,i){let{x:o,width:r}=i,s=e.caretSize+e.caretPadding;if(n==="left"&&o+r+s>t.width||n==="right"&&o-r-s<0)return!0}function QY(n,t,e,i){let{x:o,width:r}=e,{width:s,chartArea:{left:a,right:l}}=n,c="center";return i==="center"?c=o<=(a+l)/2?"left":"right":o<=r/2?c="left":o>=s-r/2&&(c="right"),ZY(c,n,t,e)&&(c="center"),c}function U2(n,t,e){let i=e.yAlign||t.yAlign||KY(n,e);return{xAlign:e.xAlign||t.xAlign||QY(n,t,e,i),yAlign:i}}function XY(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function JY(n,t,e){let{y:i,height:o}=n;return t==="top"?i+=e:t==="bottom"?i-=o+e:i-=o/2,i}function z2(n,t,e,i){let{caretSize:o,caretPadding:r,cornerRadius:s}=n,{xAlign:a,yAlign:l}=e,c=o+r,{topLeft:f,topRight:h,bottomLeft:_,bottomRight:g}=fs(s),v=XY(t,a),b=JY(t,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(f,_)+o:a==="right"&&(v+=Math.max(h,g)+o),{x:bn(v,0,i.width-t.width),y:bn(b,0,i.height-t.height)}}function _g(n,t,e){let i=kn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function $2(n){return Qo([],Rr(n))}function eK(n,t,e){return Tr(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function G2(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var xA={beforeTitle:Ko,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ko,beforeBody:Ko,beforeLabel:Ko,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return Ze(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ko,afterBody:Ko,beforeFooter:Ko,footer:Ko,afterFooter:Ko};function mi(n,t,e,i){let o=n[t].call(e,i);return typeof o>"u"?xA[t].call(e,i):o}var W2=(()=>{class n extends go{static positioners=du;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,o=this.options.setContext(this.getContext()),r=o.enabled&&i.options.animation&&o.animations,s=new Cg(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=eK(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:o}=i,r=mi(o,"beforeTitle",this,e),s=mi(o,"title",this,e),a=mi(o,"afterTitle",this,e),l=[];return l=Qo(l,Rr(r)),l=Qo(l,Rr(s)),l=Qo(l,Rr(a)),l}getBeforeBody(e,i){return $2(mi(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:o}=i,r=[];return vt(e,s=>{let a={before:[],lines:[],after:[]},l=G2(o,s);Qo(a.before,Rr(mi(l,"beforeLabel",this,s))),Qo(a.lines,mi(l,"label",this,s)),Qo(a.after,Rr(mi(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,i){return $2(mi(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:o}=i,r=mi(o,"beforeFooter",this,e),s=mi(o,"footer",this,e),a=mi(o,"afterFooter",this,e),l=[];return l=Qo(l,Rr(r)),l=Qo(l,Rr(s)),l=Qo(l,Rr(a)),l}_createItems(e){let i=this._active,o=this.chart.data,r=[],s=[],a=[],l=[],c,f;for(c=0,f=i.length;c<f;++c)l.push(YY(this.chart,i[c]));return e.filter&&(l=l.filter((h,_,g)=>e.filter(h,_,g,o))),e.itemSort&&(l=l.sort((h,_)=>e.itemSort(h,_,o))),vt(l,h=>{let _=G2(e.callbacks,h);r.push(mi(_,"labelColor",this,h)),s.push(mi(_,"labelPointStyle",this,h)),a.push(mi(_,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){let o=this.options.setContext(this.getContext()),r=this._active,s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{let l=du[o.position].call(this,r,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);let c=this._size=H2(this,o),f=Object.assign({},l,c),h=U2(this.chart,o,f),_=z2(o,f,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:_.x,y:_.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,o,r){let s=this.getCaretPosition(e,o,r);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(e,i,o){let{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=o,{topLeft:c,topRight:f,bottomLeft:h,bottomRight:_}=fs(l),{x:g,y:v}=e,{width:b,height:C}=i,E,k,R,V,L,j;return s==="center"?(L=v+C/2,r==="left"?(E=g,k=E-a,V=L+a,j=L-a):(E=g+b,k=E+a,V=L-a,j=L+a),R=E):(r==="left"?k=g+Math.max(c,h)+a:r==="right"?k=g+b-Math.max(f,_)-a:k=this.caretX,s==="top"?(V=v,L=V-a,E=k-a,R=k+a):(V=v+C,L=V+a,E=k+a,R=k-a),j=V),{x1:E,x2:k,x3:R,y1:V,y2:L,y3:j}}drawTitle(e,i,o){let r=this.title,s=r.length,a,l,c;if(s){let f=ya(o.rtl,this.x,this.width);for(e.x=_g(this,o.titleAlign,o),i.textAlign=f.textAlign(o.titleAlign),i.textBaseline="middle",a=un(o.titleFont),l=o.titleSpacing,i.fillStyle=o.titleColor,i.font=a.string,c=0;c<s;++c)i.fillText(r[c],f.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=o.titleMarginBottom-l)}}_drawColorBox(e,i,o,r,s){let a=this.labelColors[o],l=this.labelPointStyles[o],{boxHeight:c,boxWidth:f}=s,h=un(s.bodyFont),_=_g(this,"left",s),g=r.x(_),v=c<h.lineHeight?(h.lineHeight-c)/2:0,b=i.y+v;if(s.usePointStyle){let C={radius:Math.min(f,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},E=r.leftForLtr(g,f)+f/2,k=b+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,ag(e,C,E,k),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ag(e,C,E,k)}else{e.lineWidth=Je(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let C=r.leftForLtr(g,f),E=r.leftForLtr(r.xPlus(g,1),f-2),k=fs(a.borderRadius);Object.values(k).some(R=>R!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Zl(e,{x:C,y:b,w:f,h:c,radius:k}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Zl(e,{x:E,y:b+1,w:f-2,h:c-2,radius:k}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(C,b,f,c),e.strokeRect(C,b,f,c),e.fillStyle=a.backgroundColor,e.fillRect(E,b+1,f-2,c-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,i,o){let{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:f,boxPadding:h}=o,_=un(o.bodyFont),g=_.lineHeight,v=0,b=ya(o.rtl,this.x,this.width),C=function(te){i.fillText(te,b.x(e.x+v),e.y+g/2),e.y+=g+s},E=b.textAlign(a),k,R,V,L,j,Z,G;for(i.textAlign=a,i.textBaseline="middle",i.font=_.string,e.x=_g(this,E,o),i.fillStyle=o.bodyColor,vt(this.beforeBody,C),v=l&&E!=="right"?a==="center"?f/2+h:f+2+h:0,L=0,Z=r.length;L<Z;++L){for(k=r[L],R=this.labelTextColors[L],i.fillStyle=R,vt(k.before,C),V=k.lines,l&&V.length&&(this._drawColorBox(i,e,L,b,o),g=Math.max(_.lineHeight,c)),j=0,G=V.length;j<G;++j)C(V[j]),g=_.lineHeight;vt(k.after,C)}v=0,g=_.lineHeight,vt(this.afterBody,C),e.y-=s}drawFooter(e,i,o){let r=this.footer,s=r.length,a,l;if(s){let c=ya(o.rtl,this.x,this.width);for(e.x=_g(this,o.footerAlign,o),e.y+=o.footerMarginTop,i.textAlign=c.textAlign(o.footerAlign),i.textBaseline="middle",a=un(o.footerFont),i.fillStyle=o.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o.footerSpacing}}drawBackground(e,i,o,r){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:f,height:h}=o,{topLeft:_,topRight:g,bottomLeft:v,bottomRight:b}=fs(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(l+_,c),a==="top"&&this.drawCaret(e,i,o,r),i.lineTo(l+f-g,c),i.quadraticCurveTo(l+f,c,l+f,c+g),a==="center"&&s==="right"&&this.drawCaret(e,i,o,r),i.lineTo(l+f,c+h-b),i.quadraticCurveTo(l+f,c+h,l+f-b,c+h),a==="bottom"&&this.drawCaret(e,i,o,r),i.lineTo(l+v,c+h),i.quadraticCurveTo(l,c+h,l,c+h-v),a==="center"&&s==="left"&&this.drawCaret(e,i,o,r),i.lineTo(l,c+_),i.quadraticCurveTo(l,c,l+_,c),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,o=this.$animations,r=o&&o.x,s=o&&o.y;if(r||s){let a=du[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=H2(this,e),c=Object.assign({},a,this._size),f=U2(i,e,c),h=z2(e,c,f,i);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(i);let r={width:this.width,height:this.height},s={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let a=kn(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(e.save(),e.globalAlpha=o,this.drawBackground(s,e,r,i),R1(e,i.textDirection),s.y+=a.top,this.drawTitle(s,e,i),this.drawBody(s,e,i),this.drawFooter(s,e,i),N1(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let o=this._active,r=e.map(({datasetIndex:l,index:c})=>{let f=this.chart.getDatasetMeta(l);if(!f)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:f.data[c],index:c}}),s=!eu(o,r),a=this._positionChanged(r,i);(s||a)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,s=this._active||[],a=this._getActiveElements(e,s,i,o),l=this._positionChanged(a,e),c=i||!eu(a,s)||l;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),c}_getActiveElements(e,i,o,r){let s=this.options;if(e.type==="mouseout")return[];if(!r)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,o);return s.reverse&&a.reverse(),a}_positionChanged(e,i){let{caretX:o,caretY:r,options:s}=this,a=du[s.position].call(this,e,i);return a!==!1&&(o!==a.x||r!==a.y)}}return n})(),tK={id:"tooltip",_element:W2,positioners:du,afterInit(n,t,e){e&&(n.tooltip=new W2({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",pe(B({},e),{cancelable:!0}))===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},nK=Object.freeze({__proto__:null,Colors:hY,Decimation:vY,Filler:VY,Legend:$Y,SubTitle:qY,Title:WY,Tooltip:tK}),iK=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function oK(n,t,e,i){let o=n.indexOf(t);if(o===-1)return iK(n,t,e,i);let r=n.lastIndexOf(t);return o!==r?e:o}var rK=(n,t)=>n===null?null:bn(Math.round(n),0,t);function q2(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var sK=(()=>{class n extends wa{static id="category";static defaults={ticks:{callback:q2}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let o=this.getLabels();for(let{index:r,label:s}of i)o[r]===s&&o.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(Ze(e))return null;let o=this.getLabels();return i=isFinite(i)&&o[i]===e?i:oK(o,e,Oe(i,e),this._addedLabels),rK(i,o.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:o,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),i||(r=this.getLabels().length-1)),this.min=o,this.max=r}buildTicks(){let e=this.min,i=this.max,o=this.options.offset,r=[],s=this.getLabels();s=e===0&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let a=e;a<=i;a++)r.push({value:a});return r}getLabelForValue(e){return q2.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function aK(n,t){let e=[],{bounds:o,step:r,min:s,max:a,precision:l,count:c,maxTicks:f,maxDigits:h,includeBounds:_}=n,g=r||1,v=f-1,{min:b,max:C}=t,E=!Ze(s),k=!Ze(a),R=!Ze(c),V=(C-b)/(h+1),L=p1((C-b)/v/g)*g,j,Z,G,te;if(L<1e-14&&!E&&!k)return[{value:b},{value:C}];te=Math.ceil(C/L)-Math.floor(b/L),te>v&&(L=p1(te*L/v/g)*g),Ze(l)||(j=Math.pow(10,l),L=Math.ceil(L*j)/j),o==="ticks"?(Z=Math.floor(b/L)*L,G=Math.ceil(C/L)*L):(Z=b,G=C),E&&k&&r&&AT((a-s)/r,L/1e3)?(te=Math.round(Math.min((a-s)/L,f)),L=(a-s)/te,Z=s,G=a):R?(Z=E?s:Z,G=k?a:G,te=c-1,L=(G-Z)/te):(te=(G-Z)/L,ql(te,Math.round(te),L/1e3)?te=Math.round(te):te=Math.ceil(te));let xe=Math.max(m1(L),m1(Z));j=Math.pow(10,Ze(l)?xe:l),Z=Math.round(Z*j)/j,G=Math.round(G*j)/j;let Ie=0;for(E&&(_&&Z!==s?(e.push({value:s}),Z<s&&Ie++,ql(Math.round((Z+Ie*L)*j)/j,s,Y2(s,V,n))&&Ie++):Z<s&&Ie++);Ie<te;++Ie){let ke=Math.round((Z+Ie*L)*j)/j;if(k&&ke>a)break;e.push({value:ke})}return k&&_&&G!==a?e.length&&ql(e[e.length-1].value,a,Y2(a,V,n))?e[e.length-1].value=a:e.push({value:a}):(!k||G===a)&&e.push({value:G}),e}function Y2(n,t,{horizontal:e,minRotation:i}){let o=Ui(i),r=(e?Math.sin(o):Math.cos(o))||.001,s=.75*t*(""+n).length;return Math.min(t/r,s)}var ec=class extends wa{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ze(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:o,max:r}=this,s=l=>o=e?o:l,a=l=>r=i?r:l;if(t){let l=mo(o),c=mo(r);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(o===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||s(o-l)}this.min=o,this.max=r}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let o={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,s=aK(o,r);return t.bounds==="ticks"&&h1(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let o=(i-e)/Math.max(t.length-1,1)/2;e-=o,i+=o}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Kl(t,this.chart.options.locale,this.options.ticks.format)}},ux=class extends ec{static id="linear";static defaults={ticks:{callback:tu.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Zt(t)?t:0,this.max=Zt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=Ui(this.options.ticks.minRotation),o=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},pu=n=>Math.floor(Ir(n)),xa=(n,t)=>Math.pow(10,pu(n)+t);function K2(n){return n/Math.pow(10,pu(n))===1}function Z2(n,t,e){let i=Math.pow(10,e),o=Math.floor(n/i);return Math.ceil(t/i)-o}function lK(n,t){let e=t-n,i=pu(e);for(;Z2(n,t,i)>10;)i++;for(;Z2(n,t,i)<10;)i--;return Math.min(i,pu(n))}function cK(n,{min:t,max:e}){t=hi(n.min,t);let i=[],o=pu(t),r=lK(t,e),s=r<0?Math.pow(10,Math.abs(r)):1,a=Math.pow(10,r),l=o>r?Math.pow(10,o):0,c=Math.round((t-l)*s)/s,f=Math.floor((t-l)/a/10)*a*10,h=Math.floor((c-f)/Math.pow(10,r)),_=hi(n.min,Math.round((l+f+h*Math.pow(10,r))*s)/s);for(;_<e;)i.push({value:_,major:K2(_),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,s=r>=0?1:s),_=Math.round((l+f+h*Math.pow(10,r))*s)/s;let g=hi(n.max,_);return i.push({value:g,major:K2(g),significand:h}),i}var fx=class extends wa{static id="logarithmic";static defaults={ticks:{callback:tu.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=ec.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Zt(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Zt(t)?Math.max(0,t):null,this.max=Zt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zt(this._userMin)&&(this.min=t===xa(this.min,0)?xa(this.min,-1):xa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,o=this.max,r=a=>i=t?i:a,s=a=>o=e?o:a;i===o&&(i<=0?(r(1),s(10)):(r(xa(i,-1)),s(xa(o,1)))),i<=0&&r(xa(o,-1)),o<=0&&s(xa(i,1)),this.min=i,this.max=o}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=cK(e,this);return t.bounds==="ticks"&&h1(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Kl(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Ir(t),this._valueRange=Ir(this.max)-Ir(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ir(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function px(n){let t=n.ticks;if(t.display&&n.display){let e=kn(t.backdropPadding);return Oe(t.font&&t.font.size,Ht.font.size)+e.height}return 0}function dK(n,t,e){return e=Lt(e)?e:[e],{w:UT(n,t.string,e),h:e.length*t.lineHeight}}function Q2(n,t,e,i,o){return n===i||n===o?{start:t-e/2,end:t+e/2}:n<i||n>o?{start:t-e,end:t}:{start:t,end:t+e}}function uK(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],o=[],r=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?st/r:0;for(let l=0;l<r;l++){let c=s.setContext(n.getPointLabelContext(l));o[l]=c.padding;let f=n.getPointPosition(l,n.drawingArea+o[l],a),h=un(c.font),_=dK(n.ctx,h,n._pointLabels[l]);i[l]=_;let g=On(n.getIndexAngle(l)+a),v=Math.round(ig(g)),b=Q2(v,f.x,_.w,0,180),C=Q2(v,f.y,_.h,90,270);fK(e,t,g,b,C)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=mK(n,i,o)}function fK(n,t,e,i,o){let r=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),o.start<t.t?(l=(t.t-o.start)/s,n.t=Math.min(n.t,t.t-l)):o.end>t.b&&(l=(o.end-t.b)/s,n.b=Math.max(n.b,t.b+l))}function pK(n,t,e){let i=n.drawingArea,{extra:o,additionalAngle:r,padding:s,size:a}=e,l=n.getPointPosition(t,i+o+s,r),c=Math.round(ig(On(l.angle+en))),f=vK(l.y,a.h,c),h=gK(c),_=_K(l.x,a.w,h);return{visible:!0,x:l.x,y:f,textAlign:h,left:_,top:f,right:_+a.w,bottom:f+a.h}}function hK(n,t){if(!t)return!0;let{left:e,top:i,right:o,bottom:r}=n;return!(Yo({x:e,y:i},t)||Yo({x:e,y:r},t)||Yo({x:o,y:i},t)||Yo({x:o,y:r},t))}function mK(n,t,e){let i=[],o=n._pointLabels.length,r=n.options,{centerPointLabels:s,display:a}=r.pointLabels,l={extra:px(r)/2,additionalAngle:s?st/o:0},c;for(let f=0;f<o;f++){l.padding=e[f],l.size=t[f];let h=pK(n,f,l);i.push(h),a==="auto"&&(h.visible=hK(h,c),h.visible&&(c=h))}return i}function gK(n){return n===0||n===180?"center":n<180?"left":"right"}function _K(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function vK(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function bK(n,t,e){let{left:i,top:o,right:r,bottom:s}=e,{backdropColor:a}=t;if(!Ze(a)){let l=fs(t.borderRadius),c=kn(t.backdropPadding);n.fillStyle=a;let f=i-c.left,h=o-c.top,_=r-i+c.width,g=s-o+c.height;Object.values(l).some(v=>v!==0)?(n.beginPath(),Zl(n,{x:f,y:h,w:_,h:g,radius:l}),n.fill()):n.fillRect(f,h,_,g)}}function yK(n,t){let{ctx:e,options:{pointLabels:i}}=n;for(let o=t-1;o>=0;o--){let r=n._pointLabelItems[o];if(!r.visible)continue;let s=i.setContext(n.getPointLabelContext(o));bK(e,s,r);let a=un(s.font),{x:l,y:c,textAlign:f}=r;us(e,n._pointLabels[o],l,c+a.lineHeight/2,a,{color:s.color,textAlign:f,textBaseline:"middle"})}}function wA(n,t,e,i){let{ctx:o}=n;if(e)o.arc(n.xCenter,n.yCenter,t,0,Vt);else{let r=n.getPointPosition(0,t);o.moveTo(r.x,r.y);for(let s=1;s<i;s++)r=n.getPointPosition(s,t),o.lineTo(r.x,r.y)}}function CK(n,t,e,i,o){let r=n.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!i||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(o.dash||[]),r.lineDashOffset=o.dashOffset,r.beginPath(),wA(n,e,s,i),r.closePath(),r.stroke(),r.restore())}function xK(n,t,e){return Tr(n,{label:e,index:t,type:"pointLabel"})}var hx=class extends ec{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=kn(px(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Zt(t)&&!isNaN(t)?t:0,this.max=Zt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/px(this.options))}generateTickLabels(t){ec.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let o=At(this.options.pointLabels.callback,[e,i],this);return o||o===0?o:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?uK(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,o){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,o))}getIndexAngle(t){let e=Vt/(this._pointLabels.length||1),i=this.options.startAngle||0;return On(t*e+Ui(i))}getDistanceFromCenterForValue(t){if(Ze(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ze(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return xK(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let o=this.getIndexAngle(t)-en+i;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:o,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:o,bottom:r}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),wA(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:o,border:r}=e,s=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&yK(this,s),o.display&&this.ticks.forEach((f,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);let _=this.getContext(h),g=o.setContext(_),v=r.setContext(_);CK(this,g,l,s,v)}}),i.display){for(t.save(),a=s-1;a>=0;a--){let f=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:_}=f;!_||!h||(t.lineWidth=_,t.strokeStyle=h,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let o=this.getIndexAngle(0),r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=i.setContext(this.getContext(l)),f=un(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=f.string,s=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let h=kn(c.backdropPadding);t.fillRect(-s/2-h.left,-r-f.size/2-h.top,s+h.width,f.size+h.height)}us(t,a.label,0,-r,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},Og={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gi=Object.keys(Og);function X2(n,t){return n-t}function J2(n,t){if(Ze(t))return null;let e=n._adapter,{parser:i,round:o,isoWeekday:r}=n._parseOpts,s=t;return typeof i=="function"&&(s=i(s)),Zt(s)||(s=typeof i=="string"?e.parse(s,i):e.parse(s)),s===null?null:(o&&(s=o==="week"&&(ba(r)||r===!0)?e.startOf(s,"isoWeek",r):e.startOf(s,o)),+s)}function eA(n,t,e,i){let o=gi.length;for(let r=gi.indexOf(n);r<o-1;++r){let s=Og[gi[r]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-t)/(a*s.size))<=i)return gi[r]}return gi[o-1]}function wK(n,t,e,i,o){for(let r=gi.length-1;r>=gi.indexOf(e);r--){let s=gi[r];if(Og[s].common&&n._adapter.diff(o,i,s)>=t-1)return s}return gi[e?gi.indexOf(e):0]}function MK(n){for(let t=gi.indexOf(n)+1,e=gi.length;t<e;++t)if(Og[gi[t]].common)return gi[t]}function tA(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:i,hi:o}=og(e,t),r=e[i]>=t?e[i]:e[o];n[r]=!0}}function EK(n,t,e,i){let o=n._adapter,r=+o.startOf(t[0].value,i),s=t[t.length-1].value,a,l;for(a=r;a<=s;a=+o.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function nA(n,t,e){let i=[],o={},r=t.length,s,a;for(s=0;s<r;++s)a=t[s],o[a]=s,i.push({value:a,major:!1});return r===0||!e?i:EK(n,i,o,e)}var mx=(()=>{class n extends wa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let o=e.time||(e.time={}),r=this._adapter=new FW._date(e.adapters.date);r.init(i),Gl(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:J2(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,o=e.time.unit||"day",{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(f){!a&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!l&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Zt(r)&&!isNaN(r)?r:+i.startOf(Date.now(),o),s=Zt(s)&&!isNaN(s)?s:+i.endOf(Date.now(),o)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],o=e[e.length-1]),{min:i,max:o}}buildTicks(){let e=this.options,i=e.time,o=e.ticks,r=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let s=this.min,a=this.max,l=FT(r,s,a);return this._unit=i.unit||(o.autoSkip?eA(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):wK(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:MK(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),nA(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,o=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?i=1-r:i=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?o=s:o=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;i=bn(i,0,a),o=bn(o,0,a),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){let e=this._adapter,i=this.min,o=this.max,r=this.options,s=r.time,a=s.unit||eA(s.minUnit,i,o,this._getLabelCapacity(i)),l=Oe(r.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,f=ba(c)||c===!0,h={},_=i,g,v;if(f&&(_=+e.startOf(_,"isoWeek",c)),_=+e.startOf(_,f?"day":a),e.diff(o,i,a)>1e5*l)throw new Error(i+" and "+o+" are too far apart with stepSize of "+l+" "+a);let b=r.ticks.source==="data"&&this.getDataTimestamps();for(g=_,v=0;g<o;g=+e.add(g,l,a),v++)tA(h,g,b);return(g===o||r.bounds==="ticks"||v===1)&&tA(h,g,b),Object.keys(h).sort(X2).map(C=>+C)}getLabelForValue(e){let i=this._adapter,o=this.options.time;return o.tooltipFormat?i.format(e,o.tooltipFormat):i.format(e,o.displayFormats.datetime)}format(e,i){let r=this.options.time.displayFormats,s=this._unit,a=i||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,i,o,r){let s=this.options,a=s.ticks.callback;if(a)return At(a,[e,i,o],this);let l=s.time.displayFormats,c=this._unit,f=this._majorUnit,h=c&&l[c],_=f&&l[f],g=o[i],v=f&&_&&g&&g.major;return this._adapter.format(e,r||(v?_:h))}generateTickLabels(e){let i,o,r;for(i=0,o=e.length;i<o;++i)r=e[i],r.label=this._tickFormatFunction(r.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(e){let i=this._offsets,o=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,o=this.ctx.measureText(e).width,r=Ui(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:o*s+l*a,h:o*a+l*s}}_getLabelCapacity(e){let i=this.options.time,o=i.displayFormats,r=o[i.unit]||o.millisecond,s=this._tickFormatFunction(e,0,nA(this,[e],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],i,o;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,o=r.length;i<o;++i)e=e.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,o;if(e.length)return e;let r=this.getLabels();for(i=0,o=r.length;i<o;++i)e.push(J2(this,r[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return v1(e.sort(X2))}}return n})();function vg(n,t,e){let i=0,o=n.length-1,r,s,a,l;e?(t>=n[i].pos&&t<=n[o].pos&&({lo:i,hi:o}=qo(n,"pos",t)),{pos:r,time:a}=n[i],{pos:s,time:l}=n[o]):(t>=n[i].time&&t<=n[o].time&&({lo:i,hi:o}=qo(n,"time",t)),{time:r,pos:a}=n[i],{time:s,pos:l}=n[o]);let c=s-r;return c?a+(l-a)*(t-r)/c:a}var gx=class extends mx{static id="timeseries";static defaults=mx.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=vg(e,this.min),this._tableRange=vg(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,o=[],r=[],s,a,l,c,f;for(s=0,a=t.length;s<a;++s)c=t[s],c>=e&&c<=i&&o.push(c);if(o.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(s=0,a=o.length;s<a;++s)f=o[s+1],l=o[s-1],c=o[s],Math.round((f+l)/2)!==c&&r.push({time:c,pos:s/(a-1)});return r}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((o,r)=>o-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(vg(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return vg(this._table,i*this._tableRange+this._minPos,!0)}},DK=Object.freeze({__proto__:null,CategoryScale:sK,LinearScale:ux,LogarithmicScale:fx,RadialLinearScale:hx,TimeScale:mx,TimeSeriesScale:gx}),Jo=[NW,aY,nK,DK];var SK=["barChartCanvas"],PK=["pieChartCanvas"],OK=()=>[_n];function IK(n,t){if(n&1&&(u(0,"h3"),p(1),d()),n&2){let e=w();m(),A(e.hotelDashBoard.bookings==null?null:e.hotelDashBoard.bookings.length)}}function kK(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function TK(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function AK(n,t){if(n&1&&(u(0,"h3"),p(1),d()),n&2){let e=w();m(),T("$",e.profit,"")}}function RK(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function NK(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function FK(n,t){if(n&1&&(u(0,"h3"),p(1),d()),n&2){let e=w();m(),A(e.hotelDashBoard.rooms==null?null:e.hotelDashBoard.rooms.length)}}function LK(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function VK(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function BK(n,t){if(n&1&&(u(0,"h3"),p(1),d()),n&2){let e=w();m(),T("",e.hotelDashBoard.averageRating," \u2605")}}function jK(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function HK(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function UK(n,t){if(n&1&&(u(0,"tr",57)(1,"td"),p(2),d(),u(3,"td"),p(4),_t(5,"date"),d(),u(6,"td"),p(7),d(),u(8,"td"),p(9),d()()),n&2){let e=t.$implicit,i=t.$index;rn("--row-index: ",i,";"),m(2),A(e.packageName),m(2),A(zt(5,7,e.bookingDate,"shortDate")),m(3),A(e.touristEmail),m(2),A(e.status)}}function zK(n,t){if(n&1){let e=U();u(0,"div",50)(1,"div",34)(2,"h5",42),p(3,"Filter Bookings"),d(),u(4,"div",51)(5,"button",52),I("click",function(){P(e);let o=w();return O(o.filterBookings("Pending"))}),p(6,"Pending"),d(),u(7,"button",53),I("click",function(){P(e);let o=w();return O(o.filterBookings("Confirmed"))}),p(8,"Confirmed"),d(),u(9,"button",54),I("click",function(){P(e);let o=w();return O(o.filterBookings("Cancelled"))}),p(10,"Cancelled"),d()()(),u(11,"table",55)(12,"thead")(13,"tr")(14,"th"),p(15,"Tour"),d(),u(16,"th"),p(17,"Date"),d(),u(18,"th"),p(19,"Customer"),d(),u(20,"th"),p(21,"Status"),d()()(),u(22,"tbody"),ue(23,UK,10,10,"tr",56,Ge),d()()()}if(n&2){let e=w();m(5),tt("active",e.filteredStatus==="Pending"),m(2),tt("active",e.filteredStatus==="Confirmed"),m(2),tt("active",e.filteredStatus==="Cancelled"),m(14),fe(e.filteredBookings)}}function $K(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function GK(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}tn.register(...Jo);var Ig=class n{constructor(t,e){this.matDialog=t;this.platformId=e}authService=y(Ce);chartInstance=null;pieChartInstance=null;barChartCanvas;pieChartCanvas;service=y(Un);isHotelReqFinished=!1;map;hotelDashBoard;toastService=y(ae);profit=0;filteredStatus="";filteredBookings=[];filterBookings(t){this.filteredStatus=t,this.filteredBookings=[],this.hotelDashBoard.bookings.map(e=>{e.status==t&&this.filteredBookings.push(e)}),console.log(`list with ${t} is ${this.filteredBookings}`)}ngOnInit(){this.service.hotelDashBoard$.subscribe({next:t=>nt(this,null,function*(){if(this.hotelDashBoard=t,this.isHotelReqFinished=!0,t.bookings?.map(e=>{this.profit+=e.totalPrice,console.log("this.profit + "+this.profit)}),this.drawChart(),console.log("profit"+this.profit),this.filteredStatus="Pending",this.filteredBookings=this.hotelDashBoard.bookings.filter(e=>e.status===this.filteredStatus),this.profit=this.profit*9/10,Fi(this.platformId)){let e=yield import("./chunk-47TYZLIO.js");try{let o=yield(yield fetch(`https://us1.locationiq.com/v1/search?key=pk.bc35f990c1e814b1b565b73a70a93e5d&q=${this.hotelDashBoard.hotel?.address}&format=json&accept-language=en`)).json(),r=parseFloat(o[0].lat),s=parseFloat(o[0].lon),a=e.map("map").setView([r,s],13);e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(a),e.marker([r,s]).addTo(a).bindPopup(this.hotelDashBoard.hotel?.address||"Hotel Location").openPopup()}catch(i){console.error("Failed to initialize map:",i)}}}),error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.matDialog.open($m,{data:{title:"Error",message:e}})}}),this.service.getHotelDashBoard()}drawChart(){let t=[],e=[],i=0,o=0,r=0;this.hotelDashBoard.reviews&&this.hotelDashBoard.reviews.map(s=>{s.reviewDate.split("T")[0].split("-")[1]=="07"?t.push(s):e.push(s)}),this.hotelDashBoard?.bookings&&this.hotelDashBoard.bookings.forEach(s=>{s.status==="Pending"?i++:s.status==="Confirmed"?o++:s.status==="Cancelled"&&r++}),this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),this.pieChartInstance&&(this.pieChartInstance.destroy(),this.pieChartInstance=null),this.barChartCanvas?.nativeElement&&(this.chartInstance=new tn(this.barChartCanvas.nativeElement,{type:"bar",data:{labels:["Jul","Aug"],datasets:[{label:"Reviews",data:[t.length,e.length],backgroundColor:"goldenrod",borderColor:"#000000",borderWidth:1,barThickness:30}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:3,color:"#000000"}},x:{ticks:{color:"#000000"}}},plugins:{legend:{labels:{color:"#000000"}},title:{display:!0,text:"Monthly Packages",color:"#000000"}}}})),this.pieChartCanvas?.nativeElement&&(this.pieChartInstance=new tn(this.pieChartCanvas.nativeElement,{type:"pie",data:{labels:["Pending","Confirmed","Cancelled"],datasets:[{label:"Booking Status",data:[i,o,r],backgroundColor:["goldenrod","green","red"],borderColor:"#000000",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#000000"}},title:{display:!0,text:"Booking Status Distribution",color:"#000000"}}}}))}ngOnDestroy(){this.chartInstance&&this.chartInstance.destroy()}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||n)(D(ne),D(Bn))};static \u0275cmp=F({type:n,selectors:[["app-hotel-dashboard"]],viewQuery:function(e,i){if(e&1&&(Tt(SK,7),Tt(PK,7)),e&2){let o;Ct(o=xt())&&(i.barChartCanvas=o.first),Ct(o=xt())&&(i.pieChartCanvas=o.first)}},decls:113,vars:5,consts:[["barChartCanvas",""],["pieChartCanvas",""],[3e3,null],[1,"navbar","navbar-expand-lg","fancy-navbar","sticky-top","shadow-sm"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center","gap-2"],[1,"bi","bi-globe2"],["type","button","data-bs-toggle","collapse","data-bs-target","#topNavbar","aria-controls","topNavbar","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","topNavbar",1,"collapse","navbar-collapse","justify-content-between"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/hotel/rooms",1,"fancy-btn"],["routerLink","/hotel/new-room",1,"fancy-btn"],[1,"btn","fancy-btn","d-flex","align-items-center","gap-1",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"container-fluid","fancy-fade-in"],[1,"row"],[1,"col-md-3","sidebar-container"],[1,"card","shadow-lg","h-100","fancy-sidebar","p-4"],[1,"fw-bold","mb-4","border-bottom","pb-2"],[1,"d-grid","gap-3"],["routerLink","/hotel/profile",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","1"],["routerLink","/hotel/rooms",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","2"],["routerLink","/hotel/new-room",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","3"],[1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","4",3,"click"],[1,"col-md-9","pt-5","px-4","main-content","my-5"],[1,"row","mb-4","g-3"],[1,"col-md-4"],[1,"fancy-card","text-center",2,"--card-index","1"],[1,"fancy-card","text-center",2,"--card-index","2"],[1,"fancy-card","text-center",2,"--card-index","3"],[1,"fancy-card","text-center",2,"--card-index","4"],[1,"row","mb-4"],[1,"col-12"],[1,"card","fancy-card"],[1,"card-body"],[1,"card-title"],[1,"table-responsive"],[1,"col-md-6"],["id","map",1,"map-container","rounded"],[1,"col-md-6","quick-actions"],[1,"section-heading"],[1,"d-grid","gap-2"],["routerLink","/hotel/new-room",1,"btn","fancy-btn"],["routerLink","/hotel/rooms",1,"btn","fancy-btn"],[1,"col-md-6","mb-4"],[1,"card-title","text-center"],[1,"loading-container"],["mode","indeterminate","diameter","40","color","accent"],[1,"row","mb-5"],["role","group",1,"btn-group","mb-3"],[1,"btn","btn-outline","bg-success","fancy-btn","mx-1",3,"click"],[1,"btn","btn-outline","bg-warning","fancy-btn","mx-1",3,"click"],[1,"btn","btn-outline","bg-danger","fancy-btn","mx-1",3,"click"],[1,"table","fancy-table"],[1,"fancy-table-row",3,"style"],[1,"fancy-table-row"]],template:function(e,i){if(e&1){let o=U();u(0,"nav",3)(1,"div",4)(2,"a",5),M(3,"i",6),p(4," Egypt Trip "),d(),u(5,"button",7),M(6,"span",8),d(),u(7,"div",9)(8,"ul",10)(9,"li",11)(10,"button",12),p(11,"Rooms"),d()(),u(12,"li",11)(13,"button",13),p(14,"New Room"),d()()(),u(15,"button",14),I("click",function(){return P(o),O(i.logout())}),M(16,"i",15),p(17," Logout "),d()()()(),u(18,"div",16)(19,"div",17)(20,"div",18)(21,"div",19)(22,"h4",20),p(23,"\u{1F3E8} Hotel Dashboard"),d(),u(24,"div",21)(25,"a",22),p(26," \u{1F464} Profile "),d(),u(27,"a",23),p(28," \u{1F6CF}\uFE0F Rooms "),d(),u(29,"a",24),p(30," \u2795 New Room "),d(),u(31,"button",25),I("click",function(){return P(o),O(i.logout())}),p(32," \u{1F6AA} Logout "),d()()()(),u(33,"div",26)(34,"div",27)(35,"div",28)(36,"div",29)(37,"h6"),p(38,"Total Bookings"),d(),S(39,IK,2,1)(40,kK,2,0)(41,TK,2,0),Ee(42,39,null,40,41,null,2,null,Me),d()(),u(44,"div",28)(45,"div",30)(46,"h6"),p(47,"Profit"),d(),S(48,AK,2,1)(49,RK,2,0)(50,NK,2,0),Ee(51,48,null,49,50,null,2,null,Me),d()(),u(53,"div",28)(54,"div",31)(55,"h6"),p(56,"Number Of Rooms"),d(),S(57,FK,2,1)(58,LK,2,0)(59,VK,2,0),Ee(60,57,null,58,59,null,2,null,Me),d()(),u(62,"div",28)(63,"div",32)(64,"h6"),p(65,"Rating"),d(),S(66,BK,2,1)(67,jK,2,0)(68,HK,2,0),Ee(69,66,null,67,68,null,2,null,Me),d()()(),u(71,"div",33)(72,"div",34)(73,"div",35)(74,"div",36)(75,"h5",37),p(76,"Recent Bookings"),d(),u(77,"div",38),S(78,zK,25,6)(79,$K,2,0)(80,GK,2,0),Ee(81,78,OK,79,80,null,2,null,Me),d()()()()(),u(83,"div",33)(84,"div",39)(85,"div",35)(86,"div",36)(87,"h5",37),p(88,"Map Preview"),d(),M(89,"div",40),d()()(),u(90,"div",41)(91,"h5",42),p(92,"Quick Actions"),d(),u(93,"div",43)(94,"button",44),p(95,"Create New Room"),d(),u(96,"button",45),p(97,"View Your Rooms"),d()()()(),u(98,"div",17)(99,"div",46)(100,"div",35)(101,"div",36)(102,"h5",47),p(103,"Monthly Packages"),d(),M(104,"canvas",null,0),d()()(),u(106,"div",46)(107,"div",35)(108,"div",36)(109,"h5",47),p(110,"Booking Status Distribution"),d(),M(111,"canvas",null,1),d()()()()()()()}e&2&&(m(42),De(i.isHotelReqFinished),m(9),De(i.isHotelReqFinished),m(9),De(i.isHotelReqFinished),m(9),De(i.isHotelReqFinished),m(12),De(i.isHotelReqFinished))},dependencies:[J,Le,ie,yn,Pt],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0;background:#fff;min-height:100vh;overflow-y:auto}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]{padding-top:12px;min-height:100px;background:none}.navbar-toggler[_ngcontent-%COMP%]{margin-right:10px}}.fancy-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease forwards;opacity:0}.fancy-sidebar[_ngcontent-%COMP%]{background-color:#daa520;border:1px solid rgba(255,255,255,.2);animation:_ngcontent-%COMP%_slideInLeft .8s ease-out;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);min-height:100vh}.fancy-sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;border-bottom:2px solid #9c27b0;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.fancy-sidebar[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;animation-delay:calc(var(--btn-index) * .1s)}.fancy-navbar[_ngcontent-%COMP%]{background:#daa520;box-shadow:0 8px 20px #0000004d;animation:_ngcontent-%COMP%_slideInDown .8s ease-out;padding:10px 15px;position:sticky;top:0;z-index:1000;width:100vw}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#000!important;transition:transform .3s ease,text-shadow .3s ease}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.05);text-shadow:0 0 12px goldenrod}.fancy-nav-link[_ngcontent-%COMP%]{color:#000!important;font-weight:500;transition:color .3s cubic-bezier(.4,0,.2,1),transform .3s ease,text-shadow .3s ease}.fancy-nav-link[_ngcontent-%COMP%]:hover{color:#9c27b0!important;transform:translateY(-2px)}.fancy-card[_ngcontent-%COMP%]{background:#ffffff4d;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:#000;padding:15px;border-radius:15px;box-shadow:0 8px 25px #0006;transition:transform .4s cubic-bezier(.4,0,.2,1),box-shadow .4s ease,background .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out;animation-delay:calc(var(--card-index) * .2s)}.fancy-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 35px #00000080;background:#ffffff59;animation:_ngcontent-%COMP%_glowPulse 1.5s ease-in-out infinite}.fancy-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:10px;color:#000}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000}.card-body[_ngcontent-%COMP%]{padding:15px}.fancy-btn[_ngcontent-%COMP%]{background:#fff;border:none;color:#000;font-weight:600;letter-spacing:.5px;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;border-radius:50px;margin:20px 0;padding:8px}.fancy-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 30px #daa520;background:#f8f9fa}.quick-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#daa520;color:#fff}.fancy-table[_ngcontent-%COMP%]{color:#000}.fancy-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff3}.fancy-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#000}.fancy-table-row[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;animation-delay:calc(var(--row-index) * .1s)}.fancy-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff1a}.section-heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px;color:#000;border-left:5px solid #9c27b0;padding-left:12px}.map-container[_ngcontent-%COMP%]{height:250px;background:#dee2e6;border-radius:10px;box-shadow:0 8px 25px #0000004d;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}canvas[_ngcontent-%COMP%]{max-width:100%;height:250px!important;border-radius:10px;box-shadow:0 8px 25px #0000004d;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-height:80px}mat-progress-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1.5s linear infinite}.main-content[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;max-height:calc(100vh - 120px)}@media (max-width: 767px){.sidebar-container[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.main-content[_ngcontent-%COMP%]{padding:15px}}@media (min-width: 768px){.navbar[_ngcontent-%COMP%]{display:none}}@media (max-width: 576px){.container-fluid[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]{padding:10px;margin:10px 0}.fancy-card[_ngcontent-%COMP%]{padding:10px}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem}.section-heading[_ngcontent-%COMP%]{font-size:1.2rem}.fancy-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem}.fancy-nav-link[_ngcontent-%COMP%]{font-size:.9rem}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_glowPulse{0%{box-shadow:0 12px 35px #0006}50%{box-shadow:0 12px 30px #daa520}to{box-shadow:0 12px 35px #0006}}"]})};var kg=()=>[Xe,Pe,et];function WK(n,t){if(n&1&&(u(0,"div",14),M(1,"img",15),d()),n&2){let e=t.$implicit;m(),x("src",e,ce)}}function qK(n,t){if(n&1&&(u(0,"div",13),ue(1,WK,2,1,"div",14,Ge),d()),n&2){let e=w();m(),fe(e.hotel.photoUrls)}}function YK(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function KK(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function ZK(n,t){if(n&1){let e=U();u(0,"div",7)(1,"label"),p(2,"Hotel Name"),d(),u(3,"input",18),Y("ngModelChange",function(o){P(e);let r=w();return K(r.hotel.hotelName,o)||(r.hotel.hotelName=o),O(o)}),d()()}if(n&2){let e=w();m(3),q("ngModel",e.hotel.hotelName)}}function QK(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function XK(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function JK(n,t){if(n&1){let e=U();u(0,"div",9)(1,"label"),p(2,"Hotel Description"),d(),u(3,"textarea",19),Y("ngModelChange",function(o){P(e);let r=w();return K(r.hotel.description,o)||(r.hotel.description=o),O(o)}),d()()}if(n&2){let e=w();m(3),q("ngModel",e.hotel.description)}}function eZ(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function tZ(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function nZ(n,t){if(n&1){let e=U();u(0,"div",20)(1,"label"),p(2,"Hotel Email"),d(),u(3,"input",21),Y("ngModelChange",function(o){P(e);let r=w();return K(r.hotel.contactEmail,o)||(r.hotel.contactEmail=o),O(o)}),d()()}if(n&2){let e=w();m(3),q("ngModel",e.hotel.contactEmail)}}function iZ(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function oZ(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function rZ(n,t){if(n&1){let e=U();u(0,"div",20)(1,"label"),p(2,"Hotel Phone"),d(),u(3,"input",22),Y("ngModelChange",function(o){P(e);let r=w();return K(r.hotel.contactPhone,o)||(r.hotel.contactPhone=o),O(o)}),d()()}if(n&2){let e=w();m(3),q("ngModel",e.hotel.contactPhone)}}function sZ(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function aZ(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}var Tg=class n{constructor(t,e,i){this.route=t;this.matDialog=e;this.platformId=i}service=y(Un);photos=[];hotel;isHotelReqFinished=!1;toastService=y(ae);ngOnInit(){this.service.profileDashBoard$.subscribe({next:t=>nt(this,null,function*(){if(this.hotel=t,this.isHotelReqFinished=!0,Fi(this.platformId)&&this.isHotelReqFinished){let e=yield import("./chunk-47TYZLIO.js");e.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});let o=yield(yield fetch(`https://us1.locationiq.com/v1/search?key=pk.bc35f990c1e814b1b565b73a70a93e5d&q=${this.hotel.address}&format=json&accept-language=en`)).json(),r=e.map("map").setView([o[0].lat,o[0].lon],13);e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(r),e.marker([o[0].lat,o[0].lon]).addTo(r).bindPopup(this.hotel.address||"Hotel Location").openPopup();let s=null;r.on("click",a=>nt(this,null,function*(){let{lat:l,lng:c}=a.latlng;s&&r.removeLayer(s),s=e.marker([l,c]).addTo(r).bindPopup(`Selected Location:<br>Lat: ${l.toFixed(5)}, Lng: ${c.toFixed(5)}`).openPopup(),console.log("Picked coordinates:",l,c);let _=(yield(yield fetch(`https://us1.locationiq.com/v1/reverse?key=pk.bc35f990c1e814b1b565b73a70a93e5d&lat=${l}&lon=${c}&format=json`)).json()).display_name;this.hotel.address=_,this.service.hotelDashBoardSubject.value.hotel.address=this.hotel.address}))}}),error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.service.getHotelProfile()}editProfile(){let t=new FormData;t.append("HotelName",this.hotel.hotelName),t.append("Address",this.hotel.address),t.append("Description",this.hotel.description),t.append("ContactEmail",this.hotel.contactEmail),t.append("ContactPhone",this.hotel.contactPhone),console.log(this.hotel.photoUrls),this.photos.map(i=>{t.append("Photos",i)});let e=this.matDialog.open(We,{disableClose:!0});this.service.editProfile(t,this.hotel.hotelID).subscribe({next:i=>{e.close(),this.hotel=i,this.toastService.success("Profile Updated Successfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),y(ee).navigate(["/hotel/profile"])},error:i=>{e.close();let o="";i.error.errors.map(r=>o+=r+`
`),this.toastService.error(o,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}toFormData(t){let e=new FormData;return Object.entries(t).forEach(([i,o])=>{o!=null&&e.append(i,o.toString())}),e}addPhotosToForm(t){this.photos=[];let e=t.target;if(e.files!=null&&e.files.length>0)for(let i=0;i<e.files.length;i++)this.photos.push(e.files[i]);console.log("number of photos : "+this.photos.length)}static \u0275fac=function(e){return new(e||n)(D(Se),D(ne),D(Bn))};static \u0275cmp=F({type:n,selectors:[["app-manage-hotel-profile"]],decls:45,vars:5,consts:[[3e3,null],[1,"manage-profile","py-5"],[1,"container","bg-white","p-5","rounded-4","shadow-lg","animate__animated","animate__fadeIn"],[1,"text-center","text-primary","fw-bold","mb-3"],[1,"text-center","text-muted","mb-5"],[1,"text-secondary","fw-semibold","mb-4"],[1,"row","g-4",3,"ngSubmit"],[1,"col-md-12"],["id","map",1,"fancy-map","rounded"],[1,"col-12"],["type","file","multiple","",1,"form-control","file-input-fancy",3,"change"],[1,"text-end","mt-4"],["type","submit",1,"btn","btn-primary","px-4","py-2","rounded-pill","shadow"],[1,"photo-slider","mb-4"],[1,"photo"],["alt","Profile Photo",3,"src"],[1,"spinner"],["diameter","40","color","accent","mode","indeterminate"],["type","text","placeholder","Enter Hotel Name","name","hotel",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","Enter Description","rows","3","name","description",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["type","email","placeholder","Enter Email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["type","tel","placeholder","Enter Phone","name","phone",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,i){e&1&&(u(0,"div",1)(1,"div",2)(2,"h1",3),p(3,"\u{1F3E8} Hotel Profile"),d(),u(4,"p",4),p(5,"Manage your hotel details and photos"),d(),S(6,qK,3,0)(7,YK,2,0)(8,KK,2,0),Ee(9,6,null,7,8,null,0,null,Me),u(11,"h2",5),p(12,"\u{1F5BC} Profile Images"),d(),u(13,"form",6),I("ngSubmit",function(){return i.editProfile()}),S(14,ZK,4,1)(15,QK,2,0)(16,XK,2,0),Ee(17,14,kg,15,16,null,0,null,Me),u(19,"div",7)(20,"label"),p(21,"Hotel Address"),d(),M(22,"div",8),d(),S(23,JK,4,1)(24,eZ,2,0)(25,tZ,2,0),Ee(26,23,kg,24,25,null,0,null,Me),S(28,nZ,4,1)(29,iZ,2,0)(30,oZ,2,0),Ee(31,28,kg,29,30,null,0,null,Me),S(33,rZ,4,1)(34,sZ,2,0)(35,aZ,2,0),Ee(36,33,kg,34,35,null,0,null,Me),u(38,"div",9)(39,"label"),p(40,"Upload Photos"),d(),u(41,"input",10),I("change",function(r){return i.addPhotosToForm(r)}),d()(),u(42,"div",11)(43,"button",12),p(44,"\u{1F4BE} Save Changes"),d()()()()()),e&2&&(m(9),De(i.isHotelReqFinished),m(8),De(i.isHotelReqFinished),m(9),De(i.isHotelReqFinished),m(5),De(i.isHotelReqFinished),m(5),De(i.isHotelReqFinished))},dependencies:[Ke,Ye,qe,wt,Pt],styles:[".manage-profile[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e0eaff);min-height:100vh;padding:3rem 1rem;animation:_ngcontent-%COMP%_fadeInPage .7s ease-in-out}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#333;font-weight:700;letter-spacing:.5px;margin-bottom:1rem;animation:_ngcontent-%COMP%_fadeSlideIn .6s ease}label[_ngcontent-%COMP%]{margin-top:12px;color:#333;font-weight:600;font-size:.95rem;transition:color .3s ease}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=tel][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{border-radius:12px;border:1px solid #ccc;padding:10px 14px;font-size:.95rem;transition:all .3s ease;box-shadow:0 1px 3px #0000000d}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#0d6efd;box-shadow:0 0 0 4px #0d6efd33}.file-input-fancy[_ngcontent-%COMP%]{height:auto;padding:12px;background:#f1f4ff;border:1px dashed #0d6efd;border-radius:12px;transition:background .3s ease}.file-input-fancy[_ngcontent-%COMP%]:hover{background:#e6f0ff}button[_ngcontent-%COMP%]{font-weight:600;padding:10px 20px;border-radius:8px;transition:background .3s ease,transform .2s ease}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.spinner[_ngcontent-%COMP%]{width:100%;position:relative}.spinner[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:150px;left:50%;transform:translate(-50%)}.photo-slider[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:1rem;animation:_ngcontent-%COMP%_fadeInSlider .8s ease-in-out}.photo-slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100px;object-fit:cover;border-radius:8px;border:2px solid #0d6efd;transition:transform .3s ease-in-out,box-shadow .3s ease}.photo-slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.07);box-shadow:0 6px 15px #00000026}.photo[_ngcontent-%COMP%]{position:relative;animation:_ngcontent-%COMP%_fadeInPhoto .4s ease}.photo-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;padding:2px 6px;border-radius:6px;background-color:#000000b3;border:none;cursor:pointer;transition:background .3s ease}.photo-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000000e6}.photo-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;fill:#fff}.fancy-map[_ngcontent-%COMP%]{height:250px;background:#dee2e6;box-shadow:0 0 12px #0003}@keyframes _ngcontent-%COMP%_fadeInPage{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeSlideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInSlider{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeInPhoto{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}"]})};var lZ=["barChartCanvas"],cZ=["pieChartCanvas"];tn.register(...Jo);var Ag=class n{constructor(t){this.matDialog=t}logout(){this.authSerivce.logout()}dashBoard;profit=0;chartInstance=null;pieChartInstance=null;service=y(Uo);barChartCanvas;authSerivce=y(Ce);pieChartCanvas;toastService=y(ae);ngOnInit(){this.service.dashboard$.subscribe({next:t=>{this.dashBoard=t,this.dashBoard.bookings?.map(e=>{this.profit+=e.totalPrice}),this.profit=this.profit*9/10,this.drawChart()},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.service.getTourGuideDashBoard()}drawChart(){let t=[],e=[],i=0,o=0,r=0;this.dashBoard.bookings&&this.dashBoard.bookings.map(s=>{s.bookingDate.split("T")[0].split("-")[1]=="07"?t.push(s):e.push(s)}),this.service.dashboardSubject.value&&this.service.dashboardSubject.value.bookings.forEach(s=>{s.status==="Pending"?i++:s.status==="Confirmed"?o++:s.status==="Cancelled"&&r++}),this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),this.pieChartInstance&&(this.pieChartInstance.destroy(),this.pieChartInstance=null),this.barChartCanvas?.nativeElement&&(this.chartInstance=new tn(this.barChartCanvas.nativeElement,{type:"bar",data:{labels:["Jul","Aug"],datasets:[{label:"Bookings",data:[t.length,e.length],backgroundColor:"goldenrod",borderColor:"#000000",borderWidth:1,barThickness:30}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:3,color:"#000000"}},x:{ticks:{color:"#000000"}}},plugins:{legend:{labels:{color:"#000000"}},title:{display:!0,text:"Monthly Packages",color:"#000000"}}}})),this.pieChartCanvas?.nativeElement&&(this.pieChartInstance=new tn(this.pieChartCanvas.nativeElement,{type:"pie",data:{labels:["Pending","Confirmed","Cancelled"],datasets:[{label:"Booking Status",data:[i,o,r],backgroundColor:["goldenrod","green","red"],borderColor:"#000000",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#000000"}},title:{display:!0,text:"Booking Status Distribution",color:"#000000"}}}}))}ngOnDestroy(){this.chartInstance&&this.chartInstance.destroy()}static \u0275fac=function(e){return new(e||n)(D(ne))};static \u0275cmp=F({type:n,selectors:[["app-overview"]],viewQuery:function(e,i){if(e&1&&(Tt(lZ,7),Tt(cZ,7)),e&2){let o;Ct(o=xt())&&(i.barChartCanvas=o.first),Ct(o=xt())&&(i.pieChartCanvas=o.first)}},decls:69,vars:3,consts:[["barChartCanvas",""],["pieChartCanvas",""],[1,"container-fluid","fancy-fade-in"],[1,"row"],[1,"navbar","navbar-expand-lg","fancy-navbar","sticky-top","shadow-sm"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center","gap-2"],[1,"bi","bi-globe2"],["type","button","data-bs-toggle","collapse","data-bs-target","#topNavbar","aria-controls","topNavbar","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","topNavbar",1,"collapse","navbar-collapse","justify-content-between"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/tour-guide/dashboard",1,"nav-link","fancy-nav-link"],["routerLink","/tour-guide/profile",1,"nav-link","fancy-nav-link"],["routerLink","/tour-guide/bookings",1,"nav-link","fancy-nav-link"],[1,"btn","fancy-btn","d-flex","align-items-center","gap-1",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"col-md-3","sidebar-container"],[1,"card","shadow-lg","h-100","fancy-sidebar","p-4"],[1,"fw-bold","mb-4","border-bottom","pb-2"],[1,"d-grid","gap-3"],["routerLink","/tour-guide/profile",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","1"],["routerLink","/tour-guide/bookings",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","2"],[1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","3",3,"click"],[1,"col-md-9","pt-5","px-4","main-content","my-5"],[1,"row","mb-4","g-3"],[1,"col-md-4"],[1,"fancy-card","text-center",2,"--card-index","1"],[1,"fancy-card","text-center",2,"--card-index","2"],[1,"fancy-card","text-center",2,"--card-index","3"],[1,"col-md-6","mb-4"],[1,"card","fancy-card"],[1,"card-body"],[1,"card-title","text-center"]],template:function(e,i){if(e&1){let o=U();u(0,"div",2)(1,"div",3)(2,"nav",4)(3,"div",5)(4,"a",6),M(5,"i",7),p(6," Egypt Trip "),d(),u(7,"button",8),M(8,"span",9),d(),u(9,"div",10)(10,"ul",11)(11,"li",12)(12,"a",13),p(13,"Dashboard"),d()(),u(14,"li",12)(15,"a",14),p(16,"Profile"),d()(),u(17,"li",12)(18,"a",15),p(19,"Bookings"),d()()(),u(20,"button",16),I("click",function(){return P(o),O(i.logout())}),M(21,"i",17),p(22," Logout "),d()()()(),u(23,"div",18)(24,"div",19)(25,"h4",20),p(26,"\u{1F3E8} Tour Guide Dashboard"),d(),u(27,"div",21)(28,"a",22),p(29," \u{1F4D6} Profile "),d(),u(30,"a",23),p(31," \u{1F4D6} Bookings "),d(),u(32,"button",24),I("click",function(){return P(o),O(i.logout())}),p(33," \u{1F6AA} Logout "),d()()()(),u(34,"div",25)(35,"div",26)(36,"div",27)(37,"div",28)(38,"h6"),p(39,"All Bookings"),d(),u(40,"h3"),p(41),d()()(),u(42,"div",27)(43,"div",29)(44,"h6"),p(45,"Number Of Packages"),d(),u(46,"h3"),p(47),d()()(),u(48,"div",27)(49,"div",30)(50,"h6"),p(51,"Profit"),d(),u(52,"h3"),p(53),d()()()(),u(54,"div",3)(55,"div",31)(56,"div",32)(57,"div",33)(58,"h5",34),p(59,"Packages"),d(),M(60,"canvas",null,0),d()()(),u(62,"div",31)(63,"div",32)(64,"div",33)(65,"h5",34),p(66,"Bookings"),d(),M(67,"canvas",null,1),d()()()()()()()}e&2&&(m(41),A(i.dashBoard.bookings==null?null:i.dashBoard.bookings.length),m(6),A(i.dashBoard.averageRating),m(6),A(i.profit))},dependencies:[J,ie],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0;background:#fff;min-height:100vh;overflow-y:auto}.fancy-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease forwards;opacity:0}.fancy-sidebar[_ngcontent-%COMP%]{background-color:#daa520;border:1px solid rgba(255,255,255,.2);animation:_ngcontent-%COMP%_slideInLeft .8s ease-out;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);min-height:100vh}.fancy-sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;border-bottom:2px solid #9c27b0;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.fancy-sidebar[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;animation-delay:calc(var(--btn-index) * .1s);background:#fff;color:#000;border:none}.fancy-navbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7b2cbf,#6a1b9a);box-shadow:0 8px 20px #0000004d;animation:_ngcontent-%COMP%_slideInDown .8s ease-out;padding:10px 15px;position:sticky;top:0;z-index:1000;width:100vw}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#fff!important;transition:transform .3s ease,text-shadow .3s ease}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.05);text-shadow:0 0 12px goldenrod}.fancy-nav-link[_ngcontent-%COMP%]{color:#fff!important;font-weight:500;transition:color .3s cubic-bezier(.4,0,.2,1),transform .3s ease,text-shadow .3s ease}.fancy-nav-link[_ngcontent-%COMP%]:hover{color:#9c27b0!important;transform:translateY(-2px);text-shadow:0 0 10px rgba(156,39,176,.6)}.fancy-card[_ngcontent-%COMP%]{background:#ffffff4d;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:#000;padding:15px;border-radius:15px;box-shadow:0 8px 25px #0006;transition:transform .4s cubic-bezier(.4,0,.2,1),box-shadow .4s ease,background .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out;animation-delay:calc(var(--card-index) * .2s)}.fancy-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 35px #00000080;background:#ffffff59;animation:_ngcontent-%COMP%_glowPulse 3.5s ease-in-out infinite}.fancy-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:10px;color:#000}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000}.card-body[_ngcontent-%COMP%]{padding:15px}.fancy-btn[_ngcontent-%COMP%]{background:#fff;color:#000;font-weight:600;letter-spacing:.5px;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;border-radius:50px;box-shadow:0 0 5px #fff}.fancy-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);color:#000}.section-heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px;color:#000;border-left:5px solid #9c27b0;padding-left:12px}canvas[_ngcontent-%COMP%]{max-width:100%;height:250px!important;border-radius:10px;box-shadow:0 8px 25px #0000004d;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.main-content[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;max-height:calc(100vh - 120px)}@media (max-width: 767px){.sidebar-container[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.main-content[_ngcontent-%COMP%]{padding:15px}}@media (min-width: 768px){.navbar[_ngcontent-%COMP%]{display:none}}@media (max-width: 576px){.container-fluid[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]{padding:10px;margin:10px 0}.fancy-card[_ngcontent-%COMP%]{padding:10px}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem}.section-heading[_ngcontent-%COMP%]{font-size:1.2rem}.fancy-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem}.fancy-nav-link[_ngcontent-%COMP%]{font-size:.9rem}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_glowPulse{0%{box-shadow:0 12px 35px #0006}20%{box-shadow:0 12px 30px #daa520}50%{box-shadow:0 12px 35px #0006}70%{box-shadow:0 12px 30px #daa520}to{box-shadow:0 12px 35px #0006}}"]})};var dZ=()=>[Ye,Xe,Pe,qe,et,wt];function uZ(n,t){if(n&1&&(u(0,"div",8),M(1,"img",24),d()),n&2){let e=t.$implicit;m(),x("src",e,ce)}}function fZ(n,t){if(n&1){let e=U();u(0,"div",14)(1,"input",25),I("change",function(){let o=P(e).$implicit,r=w(2);return O(r.editLanguages(o))}),d(),u(2,"label"),p(3),d()()}if(n&2){let e=t.$implicit,i=w(2);m(),x("value",e)("checked",i.myLanguages.includes(e)),m(2),A(e)}}function pZ(n,t){if(n&1){let e=U();u(0,"div",16)(1,"input",26),I("change",function(){let o=P(e).$implicit,r=w(2);return O(r.editDestination(o))}),d(),u(2,"label"),p(3),d()()}if(n&2){let e=t.$implicit,i=w(2);m(),x("value",e)("checked",i.myDestinations.includes(e)),m(2),A(e)}}function hZ(n,t){if(n&1){let e=U();u(0,"div",7),ue(1,uZ,2,1,"div",8,Ge),d(),u(3,"h2",9),p(4,"\u{1F5BC} Profile Images"),d(),u(5,"form",10),I("ngSubmit",function(){P(e);let o=w();return O(o.editProfile())}),u(6,"div",11)(7,"label"),p(8,"Tour Guide Name"),d(),u(9,"input",12),Y("ngModelChange",function(o){P(e);let r=w();return K(r.tourGuide.guideName,o)||(r.tourGuide.guideName=o),O(o)}),d()(),u(10,"div",11)(11,"label"),p(12,"Tour Guide Licesne"),d(),u(13,"input",12),Y("ngModelChange",function(o){P(e);let r=w();return K(r.tourGuide.licenseNumber,o)||(r.tourGuide.licenseNumber=o),O(o)}),d()(),u(14,"div",11)(15,"label"),p(16,"Languages"),d(),u(17,"div",13),ue(18,fZ,4,3,"div",14,Ge),d()(),u(20,"div",11)(21,"label"),p(22,"Languages"),d(),u(23,"div",15),ue(24,pZ,4,3,"div",16,Ge),d()(),u(26,"div",11)(27,"label"),p(28,"Price Per Hour"),d(),u(29,"input",12),Y("ngModelChange",function(o){P(e);let r=w();return K(r.tourGuide.pricePerHour,o)||(r.tourGuide.pricePerHour=o),O(o)}),d()(),u(30,"div",17)(31,"label"),p(32,"Tour Guide Email"),d(),u(33,"input",18),Y("ngModelChange",function(o){P(e);let r=w();return K(r.tourGuide.contactEmail,o)||(r.tourGuide.contactEmail=o),O(o)}),d()(),u(34,"div",17)(35,"label"),p(36,"Tour Guide Phone"),d(),u(37,"input",19),Y("ngModelChange",function(o){P(e);let r=w();return K(r.tourGuide.contactPhone,o)||(r.tourGuide.contactPhone=o),O(o)}),d()(),u(38,"div",20)(39,"label"),p(40,"Upload Photos"),d(),u(41,"input",21),I("change",function(o){P(e);let r=w();return O(r.addPhotosToForm(o))}),d()(),u(42,"div",22)(43,"button",23),p(44,"\u{1F4BE} Save Changes"),d()()()}if(n&2){let e=w();m(),fe(e.tourGuide.photoUrls),m(8),q("ngModel",e.tourGuide.guideName),m(4),q("ngModel",e.tourGuide.licenseNumber),m(5),fe(e.allLanguages),m(6),fe(e.allDestinations),m(5),q("ngModel",e.tourGuide.pricePerHour),m(4),q("ngModel",e.tourGuide.contactEmail),m(4),q("ngModel",e.tourGuide.contactPhone)}}function mZ(n,t){n&1&&(u(0,"div",27),M(1,"mat-progress-spinner",28),d())}function gZ(n,t){n&1&&(u(0,"div",27),M(1,"mat-progress-spinner",28),d())}var Rg=class n{constructor(t,e){this.route=t;this.matDialog=e}service=y(Uo);allLanguages=["Arabic","English","French","German","Russian","Spanish","Chinese","Japanese"];myLanguages=[];allDestinations=[];myDestinations=[];photos=[];isGuideReqFinished=!1;router=y(ee);toastService=y(ae);ngOnInit(){this.service.getDestinations().subscribe({next:t=>{this.allDestinations=t.map(e=>e.name),this.isGuideReqFinished=!0},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.service.dashboard$.subscribe({next:t=>{this.tourGuide=t.tourGuide,this.myLanguages=this.tourGuide.languages.split(","),this.allDestinations.length>0&&(this.myDestinations=this.tourGuide.areasCovered.split(","))},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.service.getTourGuideDashBoard()}tourGuide;editProfile(){let t=this.toFormData(this.tourGuide);this.photos.map(i=>{t.append("Photos",i)});let e=this.matDialog.open(We,{disableClose:!0});this.service.editTourGuide(t).subscribe({next:i=>{e.close(),this.tourGuide=i,this.photos=[],this.toastService.success("Profile Edit Succesfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.router.navigate(["/tour-guide/dashboard"])},error:i=>{e.close();let o="";i.error.errors.map(r=>o+=r+`
`),this.toastService.error(o,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}editLanguages(t){this.myLanguages.includes(t)?this.myLanguages=this.myLanguages.filter(e=>e!=t):this.myLanguages.push(t),this.tourGuide.languages=this.myLanguages.join(",")}editDestination(t){this.myDestinations.includes(t)?this.myDestinations=this.myDestinations.filter(e=>e!=t):this.myDestinations.push(t),this.tourGuide.areasCovered=this.myDestinations.join(",")}toFormData(t){let e=new FormData;return Object.entries(t).forEach(([i,o])=>{o!=null&&e.append(i,o.toString())}),e}addPhotosToForm(t){this.photos=[];let e=t.target;if(e.files!=null&&e.files.length>0)for(let i=0;i<e.files.length;i++)this.photos.push(e.files[i]);console.log("number of photos : "+this.photos.length)}static \u0275fac=function(e){return new(e||n)(D(Se),D(ne))};static \u0275cmp=F({type:n,selectors:[["app-manager-tour-guide-profile"]],decls:14,vars:1,consts:[[3e3,null],[1,"manage-profile","py-5"],[1,"container","p-5","rounded-4","shadow-lg","animate__animated","animate__fadeIn"],[1,"back-button-container","mb-4"],["routerLink","/tour-guide/dashboard",1,"btn","btn-outline-primary","back-btn"],[1,"text-center","text-primary","fw-bold","mb-3"],[1,"text-center","text-muted","mb-5"],[1,"photo-slider","mb-4"],[1,"photo"],[1,"text-secondary","fw-semibold","mb-4"],[1,"row","g-4",3,"ngSubmit"],[1,"col-md-12"],["type","text","placeholder","Enter Tour Guide Name","name","Tour Guide",1,"form-control",3,"ngModelChange","ngModel"],[1,"language-labels","mt-2"],[1,"language-label"],[1,"destination-labels","mt-2"],[1,"destination-label"],[1,"col-md-6"],["type","email","placeholder","Enter Email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["type","tel","placeholder","Enter Phone","name","phone",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12"],["type","file","multiple","",1,"form-control","file-input-fancy",3,"change"],[1,"text-end","mt-4"],["type","submit",1,"btn","btn-primary","px-4","py-2","rounded-pill","shadow"],["alt","Profile Photo",3,"src"],["type","checkbox","name","languages",3,"change","value","checked"],["type","checkbox","name","destinations",3,"change","value","checked"],[1,"spinner"],["diameter","40","color","accent","mode","indeterminate"]],template:function(e,i){e&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),p(4," \u{1F519} Back to Dashboard "),d()(),u(5,"h1",5),p(6,"\u{1F3E8} Tour Guide Profile"),d(),u(7,"p",6),p(8,"Manage your Details"),d(),S(9,hZ,45,5)(10,mZ,2,0)(11,gZ,2,0),Ee(12,9,dZ,10,11,null,0,null,Me),d()()),e&2&&(m(12),De(i.isGuideReqFinished))},dependencies:[Ke,Pt,ie],styles:[".back-button-container[_ngcontent-%COMP%]{margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInSlide .6s ease-in-out}.back-btn[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;border-radius:50px;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;box-shadow:0 2px 6px #00000014}.back-btn[_ngcontent-%COMP%]:hover{background-color:#e7f1ff;color:#0056b3;transform:translate(-3px)}label[_ngcontent-%COMP%]{margin-top:12px;color:#000}h1[_ngcontent-%COMP%]{font-size:30px;font-weight:700}h2[_ngcontent-%COMP%]{font-size:20px;font-weight:500}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#000}input[_ngcontent-%COMP%]{border:1px solid black;border-radius:8px;padding:8px}textarea[_ngcontent-%COMP%]{resize:none;width:100%;padding:8px}button[_ngcontent-%COMP%]{border-radius:20px;border:1px solid black;background-color:#b2d1e5;padding:10px;font-weight:500}@media (max-width: 767px){.manage-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}.manage-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%], .language-labels[_ngcontent-%COMP%], .destination-labels[_ngcontent-%COMP%]{width:100%}}@media (max-width: 575px){.manage-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%], .language-labels[_ngcontent-%COMP%], .destination-labels[_ngcontent-%COMP%]{width:80%}}@media (min-width: 768px){.manage-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}textarea[_ngcontent-%COMP%]{width:100%}}.spinner[_ngcontent-%COMP%]{width:100%;position:relative}.spinner[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:150px;left:50%;transform:translate(-50%)}.language-labels[_ngcontent-%COMP%], .destination-labels[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;gap:20px}.language-label[_ngcontent-%COMP%], .destination-label[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:5px;align-items:center}.language-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .destination-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px}.language-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .destination-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:0}input[type=file][_ngcontent-%COMP%]{margin-top:10px;width:100%;height:200px}.photo-slider[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px}.photo-slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;border-radius:7px;width:100%;border:1px solid black;object-fit:cover}.photo[_ngcontent-%COMP%]{position:relative}@keyframes _ngcontent-%COMP%_fadeInSlide{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}"]})};var $n=class n{deleteBooking(t){return this.httpClient.delete(this.baseUrl+"/Bookings/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).pipe(we(()=>{let e=this.bookingsSubject.value.filter(i=>i.bookingID!=t);this.bookingsSubject.next(e)}))}packagesSubject=new Ot([]);packages$=this.packagesSubject.asObservable();bookingsSubject=new Ot([]);bookings$=this.bookingsSubject.asObservable();destinationSubject=new Ot([]);destinations$=this.destinationSubject.asObservable();constructor(){}baseUrl="https://fizo.runasp.net/api";httpClient=y(at);companyId=localStorage.getItem("id");getCompanyBookings(){this.httpClient.get(this.baseUrl+"/Bookings/provider/"+localStorage.getItem("email")).subscribe(t=>this.bookingsSubject.next(t))}getCompanyPackages(){this.httpClient.get(this.baseUrl+"/TourPackages/company/"+this.companyId).subscribe(t=>{this.packagesSubject.next(t)})}getPackageById(t){return this.httpClient.get(this.baseUrl+"/TourPackages/"+t)}editPackage(t,e){return this.httpClient.put(this.baseUrl+"/TourPackages/"+e,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}deletePackage(t){return this.httpClient.delete(this.baseUrl+"/TourPackages/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).pipe(we(()=>{let e=this.packagesSubject.value.filter(i=>i.packageId!=t);this.packagesSubject.next(e)}))}createPackage(t){return this.httpClient.post(this.baseUrl+"/TourPackages",t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}getDestinations(){this.httpClient.get(this.baseUrl+"/Destinations").subscribe(t=>{this.destinationSubject.next(t)})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var _Z=["fileInput"];function vZ(n,t){if(n&1){let e=U();u(0,"div",22),M(1,"img",23),u(2,"button",24),I("click",function(){let o=P(e).$index,r=w(2);return O(r.removeImage(o))}),gn(),u(3,"svg",25),M(4,"path",26),d()()()}if(n&2){let e=t.$implicit;m(),x("src",e,ce)}}function bZ(n,t){if(n&1&&(u(0,"h2",12),p(1,"Package Images"),d(),u(2,"div",21),ue(3,vZ,5,1,"div",22,Ge),d()),n&2){let e=w();m(3),fe(e.photoPreviews)}}function yZ(n,t){n&1&&(u(0,"h2",8),p(1,"Package Has No Photos, Add Photos To It!"),d())}function CZ(n,t){if(n&1){let e=U();u(0,"div",16)(1,"input",27),I("change",function(o){let r=P(e).$implicit,s=w();return O(s.addOrRemoveDestination(r.destinationId,o))}),d(),u(2,"label"),p(3),d(),M(4,"br"),d()}if(n&2){let e=t.$implicit;m(3),A(e.name)}}var Ng=class n{constructor(t,e){this.service=t;this.matDialog=e}removeImage(t){this.photoPreviews.splice(t,1),this.photos.splice(t,1),this.photoPreviews.length===0&&(this.fileInput.nativeElement.value="")}fileInput;destinations=[];photos=[];photoPreviews=[];package={packageId:"1",companyId:"e252c219-635c-4d18-bbf9-5c1573c94a77",packageName:"",description:"",price:"",durationDays:0,startDate:"",endDate:"",companyName:"",destinationIds:[]};router=y(ee);toastService=y(ae);ngOnInit(){this.service.destinations$.subscribe({next:t=>{this.destinations=t},error:t=>{this.toastService.error("","\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.service.getDestinations()}createPackage(){this.package.durationDays=this.calculateDaysDifference(this.package.startDate,this.package.endDate);let t=this.toFormData(this.package);this.photos.map(i=>t.append("Photos",i)),this.package.destinationIds.map(i=>t.append("DestinationIds",i.toString())),t.delete("destinationIds");let e=this.matDialog.open(We,{disableClose:!0});this.service.createPackage(t).subscribe({next:i=>{e.close(),this.toastService.success("Package Created Successfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"})},error:i=>{e.close();let o="";console.log(i.errors)}})}calculateDaysDifference(t,e){let i=new Date(t),o=new Date(e),r=1e3*60*60*24,s=o.getTime()-i.getTime();return Math.ceil(s/r)}addOrRemoveDestination(t,e){e.target.checked?this.package.destinationIds?.includes(t)||this.package.destinationIds?.push(t):this.package.destinationIds=this.package.destinationIds?.filter(o=>o!==t),console.log("des changes : "+this.package.destinationIds)}addImagesToPackage(t){this.photos=[];let e=t.target;if(e.files!=null&&e.files.length>0)for(let i=0;i<e.files.length;i++){this.photos.push(e.files[i]);let o=new FileReader;o.onload=()=>{let r=o.result;this.photoPreviews.push(r)},o.readAsDataURL(e.files[i])}console.log("number of photos : "+this.photos.length)}toFormData(t){let e=new FormData;return Object.entries(t).forEach(([i,o])=>{o!=null&&e.append(i,o.toString())}),e}static \u0275fac=function(e){return new(e||n)(D($n),D(ne))};static \u0275cmp=F({type:n,selectors:[["app-create-package"]],viewQuery:function(e,i){if(e&1&&Tt(_Z,5),e&2){let o;Ct(o=xt())&&(i.fileInput=o.first)}},decls:43,vars:6,consts:[["fileInput",""],[1,"create-package","pt-5","mb-2","animate-slide-in"],[1,"container"],[1,"back-button-container","mb-4"],["routerLink","/company/dashboard",1,"btn","btn-outline-primary","back-btn"],[1,"pt-3"],[1,"package-info","pt-3"],[1,"pt-3","pb-5"],[1,"mt-5","mb-5"],[1,"animate-fade-in",3,"ngSubmit"],[1,"mt-4"],["type","text","placeholder","Enter Package Name","name","packageName",3,"ngModelChange","ngModel"],[1,"mt-5"],["rows","10","placeholder","Enter Package Description","name","description",3,"ngModelChange","ngModel"],["type","number","placeholder","Enter Package Price","name","price",3,"ngModelChange","ngModel"],[1,"dest-checkboxes"],[1,"dest-checkbox"],["type","date","name","startDate",3,"ngModelChange","ngModel"],["type","date","name","endDate",3,"ngModelChange","ngModel"],["type","file","multiple","",3,"change"],["type","submit",1,"submit-btn"],[1,"photo-slider"],[1,"photo","animate-zoom-in"],["alt","Profile Photo",3,"src"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["d","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"],["type","checkbox","name","dest",3,"change"]],template:function(e,i){if(e&1){let o=U();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),p(4," \u{1F519} Back to Dashboard "),d()(),u(5,"h1",5),p(6,"Create New Tour Package"),d(),u(7,"p",5),p(8,"Follow the steps below to create a new tour package for your company."),d(),u(9,"div",6)(10,"h2",7),p(11,"Package Information"),d(),u(12,"h2",5),p(13,"Package Photos"),d(),S(14,bZ,5,0)(15,yZ,2,0,"h2",8),u(16,"form",9),I("ngSubmit",function(){return P(o),O(i.createPackage())}),u(17,"label",10),p(18,"Package Name"),d(),u(19,"input",11),Y("ngModelChange",function(s){return P(o),K(i.package.packageName,s)||(i.package.packageName=s),O(s)}),d(),u(20,"label",12),p(21,"Package Description"),d(),u(22,"textarea",13),Y("ngModelChange",function(s){return P(o),K(i.package.description,s)||(i.package.description=s),O(s)}),d(),u(23,"label",12),p(24,"Price"),d(),u(25,"input",14),Y("ngModelChange",function(s){return P(o),K(i.package.price,s)||(i.package.price=s),O(s)}),d(),u(26,"label",12),p(27,"Destinations"),d(),u(28,"div",15),ue(29,CZ,5,1,"div",16,Ge),d(),u(31,"label",12),p(32,"Start Date"),d(),u(33,"input",17),Y("ngModelChange",function(s){return P(o),K(i.package.startDate,s)||(i.package.startDate=s),O(s)}),d(),u(34,"label",12),p(35,"End Date"),d(),u(36,"input",18),Y("ngModelChange",function(s){return P(o),K(i.package.endDate,s)||(i.package.endDate=s),O(s)}),d(),u(37,"label",12),p(38,"Package Images"),d(),u(39,"input",19,0),I("change",function(s){return P(o),O(i.addImagesToPackage(s))}),d(),u(41,"button",20),p(42,"\u{1F680} Next"),d()()()()()}e&2&&(m(14),ze(i.photoPreviews.length!==0?14:15),m(5),q("ngModel",i.package.packageName),m(3),q("ngModel",i.package.description),m(3),q("ngModel",i.package.price),m(4),fe(i.destinations),m(4),q("ngModel",i.package.startDate),m(3),q("ngModel",i.package.endDate))},dependencies:[Ke,Ye,Xe,Pn,Pe,qe,et,wt,J,ie],styles:[".create-package[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{border-radius:20px;padding:20px;animation:_ngcontent-%COMP%_fadeIn .8s ease-in-out}.create-package[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:38px;color:#2c3e50;margin-bottom:10px}.create-package[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;margin-bottom:30px}label[_ngcontent-%COMP%]{display:block;margin-top:25px;color:#333;font-weight:600;font-size:16px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:14px 16px;width:100%;background:#fffc;box-shadow:inset 1px 1px 3px #0000000d;margin-top:10px;transition:all .3s ease;font-size:15px}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;background:#fff;box-shadow:0 0 8px #2980b94d;border:1px solid #3498db}button.submit-btn[_ngcontent-%COMP%]{margin-top:30px;padding:14px 28px;border-radius:50px;background:linear-gradient(135deg,#ff8a00,#e52e71);color:#fff;font-size:16px;font-weight:600;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #ff761466}button.submit-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ff761499}.dest-checkboxes[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-top:15px}.dest-checkbox[_ngcontent-%COMP%]{background:#ffffffe6;padding:10px 16px;border-radius:8px;box-shadow:0 2px 4px #0000000d;display:flex;align-items:center;gap:8px}.dest-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px}.photo-slider[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;margin-top:20px}.photo[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:16px;overflow:hidden;position:relative;animation:_ngcontent-%COMP%_zoomIn .4s ease-in-out;box-shadow:0 6px 15px #00000014;background:#fff}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.photo[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;padding:6px;background:#e74c3c;border:none;border-radius:50%;cursor:pointer;transition:background .3s ease}.photo[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#c0392b}.photo[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;fill:#fff}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}.animate-zoom-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomIn .4s ease-in-out}"]})};var xZ=()=>[Ye,Xe,Pn,Pe,qe,et,wt];function wZ(n,t){if(n&1){let e=U();u(0,"div",18),M(1,"img",19),u(2,"button",20),I("click",function(){let o=P(e).$implicit,r=w(3);return O(r.removeImage(o))}),gn(),u(3,"svg",21),M(4,"path",22),d()()()}if(n&2){let e=t.$implicit;m(),x("src",e,ce)}}function MZ(n,t){if(n&1&&(u(0,"h2",6),p(1,"Package Images"),d(),u(2,"div",17),ue(3,wZ,5,1,"div",18,Ge),d()),n&2){let e=w(2);m(3),fe(e.package.photoUrls)}}function EZ(n,t){n&1&&(u(0,"h2",6),p(1,"Package Has No Photos"),d())}function DZ(n,t){if(n&1){let e=U();u(0,"div",12)(1,"input",23),I("change",function(o){let r=P(e).$implicit,s=w(2);return O(s.addOrRemoveDestination(r.destinationId,o))}),d(),u(2,"label"),p(3),d(),M(4,"br"),d()}if(n&2){let e=t.$implicit,i=w(2);m(),x("checked",i.isDestinationChecked(e.destinationId)),m(2),A(e.name)}}function SZ(n,t){if(n&1){let e=U();S(0,MZ,5,0)(1,EZ,2,0,"h2",6),u(2,"form",7),I("ngSubmit",function(){P(e);let o=w();return O(o.saveData())}),u(3,"label",6),p(4,"Package Name"),d(),u(5,"input",8),Y("ngModelChange",function(o){P(e);let r=w();return K(r.package.packageName,o)||(r.package.packageName=o),O(o)}),d(),u(6,"label",6),p(7,"Package Description"),d(),u(8,"textarea",9),Y("ngModelChange",function(o){P(e);let r=w();return K(r.package.description,o)||(r.package.description=o),O(o)}),d(),u(9,"label",6),p(10,"Price"),d(),u(11,"input",10),Y("ngModelChange",function(o){P(e);let r=w();return K(r.package.price,o)||(r.package.price=o),O(o)}),d(),u(12,"label",6),p(13,"Destinations"),d(),u(14,"div",11),ue(15,DZ,5,2,"div",12,Ge),d(),u(17,"label",6),p(18,"Start Date"),d(),u(19,"input",13),Y("ngModelChange",function(o){P(e);let r=w();return K(r.package.startDate.split("T")[0],o)||(r.package.startDate.split("T")[0]=o),O(o)}),d(),u(20,"label",6),p(21,"End Date"),d(),u(22,"input",14),Y("ngModelChange",function(o){P(e);let r=w();return K(r.package.endDate.split("T")[0],o)||(r.package.endDate.split("T")[0]=o),O(o)}),d(),u(23,"label",6),p(24,"Images"),d(),u(25,"input",15,0),I("change",function(o){P(e);let r=w();return O(r.addToImages(o))}),d(),u(27,"button",16),p(28,"Next"),d()()}if(n&2){let e=w();ze((e.package.photoUrls==null?null:e.package.photoUrls.length)!==0?0:1),m(5),q("ngModel",e.package.packageName),m(3),q("ngModel",e.package.description),m(3),q("ngModel",e.package.price),m(4),fe(e.destinations),m(4),q("ngModel",e.package.startDate.split("T")[0]),m(3),q("ngModel",e.package.endDate.split("T")[0])}}function PZ(n,t){n&1&&(u(0,"div",24),M(1,"mat-progress-spinner",25),d())}function OZ(n,t){n&1&&(u(0,"div",24),M(1,"mat-progress-spinner",25),d())}var Fg=class n{constructor(t,e,i){this.route=t;this.service=e;this.matDialog=i}destinations=[];photos=[];router=y(ee);toastService=y(ae);ngOnInit(){this.service.destinations$.subscribe({next:t=>{this.destinations=t},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.route.data.subscribe(t=>{this.packageId=t.package,this.service.getPackageById(this.packageId).subscribe({next:e=>{this.package=e,this.package.destinationIds=[],this.package.destinationIds=this.package.destinations?.map(i=>i.destinationId),console.log(this.package.destinationIds)},error:e=>{let i="";e.error.errors.map(o=>i+=o+`
`),this.toastService.error(i,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}),this.service.getDestinations()}packageId;package;saveData(){let t=new FormData;t.append("PackageName",this.package.packageName),t.append("Description",this.package.description),t.append("Price",this.package.price),t.append("DurationDays",this.package.durationDays.toString()),t.append("StartDate",this.package.startDate),t.append("EndDate",this.package.endDate),this.package.destinationIds.map(i=>{t.append("DestinationIds",i.toString())}),this.photos.map(i=>{t.append("Photos",i)});let e=this.matDialog.open(We,{disableClose:!0});this.service.editPackage(t,this.package.packageId).subscribe({next:i=>{e.close(),console.log(i),this.package=i,this.package.destinationIds=[],console.log(this.package.destinationIds),this.package.destinations?.map(o=>{this.package.destinationIds?.push(o.destinationId)}),this.service.getPackageById(this.package.packageId).subscribe(o=>{this.package.photoUrls=o.photoUrls}),this.toastService.success("Package Edit Succesfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.router.navigate(["/company/dashboard"]),this.photos=[]},error:i=>{e.close(),this.toastService.error("","\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}isDestinationChecked(t){return this.package.destinationIds?.includes(t)}addOrRemoveDestination(t,e){e.target.checked?this.package.destinationIds?.includes(t)||this.package.destinationIds?.push(t):this.package.destinationIds=this.package.destinationIds?.filter(o=>o!==t)}removeImage(t){this.package.photoUrls=this.package.photoUrls?.filter(e=>e!=t)}addToImages(t){let e=t.target;if(e.files!=null&&e.files.length>0)for(let i=0;i<e.files.length;i++)this.photos.push(e.files[i])}static \u0275fac=function(e){return new(e||n)(D(Se),D($n),D(ne))};static \u0275cmp=F({type:n,selectors:[["app-edit-package"]],decls:14,vars:1,consts:[["fileInput",""],[2e3,null],[1,"create-package","pt-5","mb-2"],[1,"container"],[1,"pt-3"],[1,"package-info","pt-3"],[1,"mt-5"],[3,"ngSubmit"],["type","text","placeholder","Enter Package Name","name","packageName",3,"ngModelChange","ngModel"],["rows","10","placeholder","Enter Package Description","name","description",3,"ngModelChange","ngModel"],["type","number","placeholder","Enter Package Price","name","price",3,"ngModelChange","ngModel"],[1,"dest-checkboxes"],[1,"dest-checkbox"],["type","date","placeholder","Enter Package Start Date","name","startDate",3,"ngModelChange","ngModel"],["type","date","placeholder","Enter Package End Date","name","endDate",3,"ngModelChange","ngModel"],["type","file","placeholder","Add to Your Images","multiple","",3,"change"],[1,"ms-auto"],[1,"photo-slider"],[1,"photo"],["alt","Profile Photo",3,"src"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","width","24","height","24"],["d","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"],["type","checkbox","name","dest",3,"change","checked"],[1,"loading-container","mt-5"],["color","accent","diameter","40","mode","indeterminate"]],template:function(e,i){e&1&&(u(0,"div",2)(1,"div",3)(2,"h1",4),p(3,"Create New Tour Package"),d(),u(4,"p",4),p(5,"Follow the steps below to create a new tour package for your company."),d(),u(6,"div",5)(7,"h2"),p(8,"Package Information"),d(),S(9,SZ,29,6)(10,PZ,2,0)(11,OZ,2,0),Ee(12,9,xZ,10,11,null,1,null,Me),d()()()),e&2&&(m(12),De(i.package))},dependencies:[Le,Ke,Pt],styles:[".package-info[_ngcontent-%COMP%]{position:relative}.create-package[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:10px 50px}.create-package[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.create-package[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .package-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000}.create-package[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:gray}label[_ngcontent-%COMP%]{color:#000}textarea[_ngcontent-%COMP%]{padding:8px;border-radius:8px;resize:none;width:100%;background-color:#faebd7}input[_ngcontent-%COMP%]{border:1px solid black;border-radius:8px;padding:8px}form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{background-color:#faebd7;color:#000;border:1px solid black;padding:8px 30px;margin-top:20px;font-weight:700;border-radius:50px}.dest-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px}.dest-checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:30px}.dest-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:5px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.photo-slider[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px}.photo[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:7px;border:1px solid black;position:relative}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;object-fit:cover}.photo-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;padding:0 5px;border-radius:7px;background-color:#000}.photo-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;fill:#fff}"]})};function IZ(n,t){n&1&&(u(0,"div",6)(1,"h2"),p(2,"No Bookings Were Made"),d()())}function kZ(n,t){if(n&1&&(u(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),p(4),d(),u(5,"p",12)(6,"strong"),p(7,"Booking Date:"),d(),p(8),d(),u(9,"p",13)(10,"strong"),p(11,"Price:"),d(),p(12),d()()()()),n&2){let e=t.$implicit;m(4),T(" ",e.packageName," "),m(4),T(" ",e.bookingDate.split("T")[0]," "),m(4),T(" $",e.totalPrice," ")}}function TZ(n,t){if(n&1&&(u(0,"div",7),ue(1,kZ,13,3,"div",8,Ge),d()),n&2){let e=w(2);m(),fe(e.bookings)}}function AZ(n,t){if(n&1&&S(0,IZ,3,0,"div",6)(1,TZ,3,0,"div",7),n&2){let e=w();ze(e.bookings.length===0?0:1)}}function RZ(n,t){n&1&&(u(0,"div",6),M(1,"mat-progress-spinner",14),d())}var Lg=class n{constructor(t,e){this.route=t;this.matDialog=e}bookingService=y($n);bookings=[];isBookingReqFinished=!1;toastService=y(ae);ngOnInit(){this.bookingService.bookings$.subscribe({next:t=>{this.isBookingReqFinished=!0,this.bookings=t},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.bookingService.getCompanyBookings()}static \u0275fac=function(e){return new(e||n)(D(Se),D(ne))};static \u0275cmp=F({type:n,selectors:[["app-manage-bookings"]],decls:14,vars:1,consts:[[2e3,null],[1,"booking-management","mb-2"],[1,"container"],[1,"back-button-container"],["routerLink","/company/dashboard",1,"btn","btn-outline-primary","back-btn"],[1,"incoming-bookings","mt-5"],[1,"loading-container","mt-5"],[1,"row"],[1,"col-12","mb-3"],[1,"card","package-card","d-flex","flex-row","align-items-center"],[1,"card-body","p-3"],[1,"card-title","mb-1","text-primary"],[1,"card-text","mb-1"],[1,"card-text","mb-0"],["color","accent","diameter","40","mode","indeterminate"]],template:function(e,i){e&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),p(4," \u{1F519} Back to Dashboard "),d()(),u(5,"h1"),p(6,"Booking Management"),d(),u(7,"div",5)(8,"h2"),p(9,"Company Bookings"),d(),S(10,AZ,2,1)(11,RZ,2,0),Ee(12,10,null,11,null,null,0,null,Me),d()()()),e&2&&(m(12),De(i.isBookingReqFinished))},dependencies:[Le,ie,yn,Pt,J],styles:[".back-button-container[_ngcontent-%COMP%]{margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInSlide .6s ease-in-out}.back-btn[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;border-radius:50px;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;box-shadow:0 2px 6px #00000014}.back-btn[_ngcontent-%COMP%]:hover{background-color:#e7f1ff;color:#0056b3;transform:translate(-3px)}.booking-management[_ngcontent-%COMP%]{background:#f9fafb;padding:40px 0;min-height:100vh;animation:_ngcontent-%COMP%_fadeInPage .8s ease-in-out both}@keyframes _ngcontent-%COMP%_fadeInPage{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.booking-management[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .booking-management[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#2c3e50;animation:_ngcontent-%COMP%_fadeInSlide 1s ease-in-out}@keyframes _ngcontent-%COMP%_fadeInSlide{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.package-card[_ngcontent-%COMP%]{height:100px;border:none;border-radius:.75rem;overflow:hidden;background:#fff;display:flex;align-items:center;box-shadow:0 2px 8px #00000012;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_fadeInUp .6s ease-in-out both}.package-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 10px 18px #0000001f}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.package-thumb[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;flex-shrink:0;transition:transform .4s ease}.package-card[_ngcontent-%COMP%]:hover   .package-thumb[_ngcontent-%COMP%]{transform:scale(1.05) rotate(1deg)}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;animation:_ngcontent-%COMP%_fadeInText .8s ease-in-out both}.delete-btn[_ngcontent-%COMP%]{margin-right:8px}@keyframes _ngcontent-%COMP%_fadeInText{0%{opacity:0;transform:translate(15px)}to{opacity:1;transform:translate(0)}}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:.25rem;color:#007bff;transition:color .3s ease}.package-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{color:#0056b3}.card-text[_ngcontent-%COMP%]{font-size:.9rem;color:#555;transition:color .3s ease}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]})};var Vg=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-tourism-company"]],decls:1,vars:0,template:function(e,i){e&1&&M(0,"router-outlet")},dependencies:[Le,fo],encapsulation:2})};var gs=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({imports:[J,St,Le]})};var tc=class n{constructor(t,e,i,o){this.service=t;this.data=e;this.dialogRef=i;this.matDialog=o}ngOnInit(){this.id=this.data.id,this.itemName=this.data.itemName}id;itemName;router=y(ee);toastService=y(ae);confirm(){let t=this.matDialog.open(We,{disableClose:!0});this.service.deletePackage(this.id).subscribe({next:e=>{t.close(),this.toastService.success("Package Deleted Successfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.router.navigate(["/company/dashboard"])},error:e=>{t.close();let i="";e.error.errors.map(o=>i+=o+`
`),this.toastService.error(i,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.dialogRef.close(!0)}cancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||n)(D($n),D(fi),D(Sn),D(ne))};static \u0275cmp=F({type:n,selectors:[["app-delete-package"]],decls:8,vars:1,consts:[[1,"delete-dialog"],[1,"buttons"],[3,"click"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h4"),p(2),d(),u(3,"div",1)(4,"button",2),I("click",function(){return i.confirm()}),p(5,"Delete"),d(),u(6,"button",2),I("click",function(){return i.cancel()}),p(7,"Cancel"),d()()()),e&2&&(m(2),T("Are Sure You want To Delete This ",i.itemName,""))},dependencies:[gs],styles:[".delete-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px}.delete-dialog[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:0 20px;margin:0 auto;height:100px;gap:20px}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:10px;padding:8px;width:100px}.delete-dialog[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:700}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#2196f3;color:#fff}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{color:#000;border:1px solid black;background-color:#fff}"]})};var NZ=["barChartCanvas"],FZ=["pieChartCanvas"];tn.register(...Jo);var Bg=class n{constructor(t,e,i){this.route=t;this.service=e;this.matDialog=i}isBookingsReqFinished=!1;isPackagesReqFinished=!1;chartInstance=null;pieChartInstance=null;pendingCount=0;confirmedCount=0;cancelledCount=0;authService=y(Ce);toastService=y(ae);ngOnInit(){this.service.packages$.subscribe({next:t=>{console.log(t),this.packages=t,this.numberOfPackages=this.packages.length,this.isPackagesReqFinished=!0,this.drawChart()},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.service.bookings$.subscribe({next:t=>{this.activeBookingsNumber=t.length,this.price=0,t.map(e=>{this.price+=e.totalPrice}),this.price=this.price*9/10,this.isBookingsReqFinished=!0},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),console.log(localStorage.getItem("email")),console.log(localStorage.getItem("id")),this.service.getCompanyPackages(),this.service.getCompanyBookings()}barChartCanvas;pieChartCanvas;drawChart(){let t=[],e=[],i=0,o=0,r=0;this.packages&&this.packages.map(s=>{s.startDate.split("T")[0].split("-")[1]=="07"?t.push(s):e.push(s)}),this.service.bookingsSubject.value&&this.service.bookingsSubject.value.forEach(s=>{s.status==="Pending"?i++:s.status==="Confirmed"?o++:s.status==="Cancelled"&&r++}),this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),this.pieChartInstance&&(this.pieChartInstance.destroy(),this.pieChartInstance=null),this.barChartCanvas?.nativeElement&&(this.chartInstance=new tn(this.barChartCanvas.nativeElement,{type:"bar",data:{labels:["Jul","Aug"],datasets:[{label:"Packages",data:[t.length,e.length],backgroundColor:"goldenrod",borderColor:"#000000",borderWidth:1,barThickness:30}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:3,color:"#000000"}},x:{ticks:{color:"#000000"}}},plugins:{legend:{labels:{color:"#000000"}},title:{display:!0,text:"Monthly Packages",color:"#000000"}}}})),this.pieChartCanvas?.nativeElement&&(this.pieChartInstance=new tn(this.pieChartCanvas.nativeElement,{type:"pie",data:{labels:["Pending","Confirmed","Cancelled"],datasets:[{label:"Booking Status",data:[i,o,r],backgroundColor:["goldenrod","green","red"],borderColor:"#000000",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#000000"}},title:{display:!0,text:"Booking Status Distribution",color:"#000000"}}}}))}name="Aisha";packages;activeBookingsNumber=0;price=0;numberOfPackages;openDeleteDialog(t,e){this.matDialog.open(tc,{data:{id:t,itemName:e}})}toFormData(t){let e=new FormData;return Object.entries(t).forEach(([i,o])=>{o!=null&&e.append(i,o.toString())}),e}print(t){console.log(t.packageId)}logout(){this.authService.logout()}ngOnDestroy(){this.chartInstance&&this.chartInstance.destroy()}static \u0275fac=function(e){return new(e||n)(D(Se),D($n),D(ne))};static \u0275cmp=F({type:n,selectors:[["app-dashboard"]],viewQuery:function(e,i){if(e&1&&(Tt(NZ,7),Tt(FZ,7)),e&2){let o;Ct(o=xt())&&(i.barChartCanvas=o.first),Ct(o=xt())&&(i.pieChartCanvas=o.first)}},decls:80,vars:3,consts:[["barChartCanvas",""],["pieChartCanvas",""],[1,"container-fluid","fancy-fade-in"],[1,"row"],[1,"navbar","navbar-expand-lg","fancy-navbar","sticky-top","shadow-sm"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center","gap-2"],[1,"bi","bi-globe2"],["type","button","data-bs-toggle","collapse","data-bs-target","#topNavbar","aria-controls","topNavbar","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","topNavbar",1,"collapse","navbar-collapse","justify-content-between"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/company/dashboard",1,"nav-link","fancy-nav-link"],["routerLink","/company/packages",1,"nav-link","fancy-nav-link"],["routerLink","/company/bookings",1,"nav-link","fancy-nav-link"],[1,"btn","fancy-btn","d-flex","align-items-center","gap-1",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"col-md-3","sidebar-container"],[1,"card","shadow-lg","h-100","fancy-sidebar","p-4"],[1,"fw-bold","mb-4","border-bottom","pb-2"],[1,"d-grid","gap-3"],["routerLink","/company/bookings",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","1"],["routerLink","/company/new-package",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","2"],["routerLink","/company/packages",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","3"],[1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","4",3,"click"],[1,"col-md-9","pt-5","px-4","main-content","my-5"],[1,"row","mb-4","g-3"],[1,"col-md-4"],[1,"fancy-card","text-center",2,"--card-index","1"],[1,"fancy-card","text-center",2,"--card-index","2"],[1,"fancy-card","text-center",2,"--card-index","3"],[1,"row","mb-4","quick-actions"],[1,"col-md-6"],[1,"section-heading"],[1,"d-grid","gap-2"],["routerLink","/company/new-package",1,"btn","fancy-btn"],["routerLink","/company/bookings",1,"btn","fancy-btn"],[1,"col-md-6","mb-4"],[1,"card","fancy-card"],[1,"card-body"],[1,"card-title","text-center"]],template:function(e,i){if(e&1){let o=U();u(0,"div",2)(1,"div",3)(2,"nav",4)(3,"div",5)(4,"a",6),M(5,"i",7),p(6," Egypt Trip "),d(),u(7,"button",8),M(8,"span",9),d(),u(9,"div",10)(10,"ul",11)(11,"li",12)(12,"a",13),p(13,"Dashboard"),d()(),u(14,"li",12)(15,"a",14),p(16,"Packages"),d()(),u(17,"li",12)(18,"a",15),p(19,"Bookings"),d()()(),u(20,"button",16),I("click",function(){return P(o),O(i.logout())}),M(21,"i",17),p(22," Logout "),d()()()(),u(23,"div",18)(24,"div",19)(25,"h4",20),p(26,"\u{1F3E8} Company Dashboard"),d(),u(27,"div",21)(28,"a",22),p(29," \u{1F4D6} Bookings "),d(),u(30,"a",23),p(31," \u2795 New Package "),d(),u(32,"a",24),p(33," \u{1F4E6} Packages "),d(),u(34,"button",25),I("click",function(){return P(o),O(i.logout())}),p(35," \u{1F6AA} Logout "),d()()()(),u(36,"div",26)(37,"div",27)(38,"div",28)(39,"div",29)(40,"h6"),p(41,"Active Bookings"),d(),u(42,"h3"),p(43),d()()(),u(44,"div",28)(45,"div",30)(46,"h6"),p(47,"Number Of Packages"),d(),u(48,"h3"),p(49),d()()(),u(50,"div",28)(51,"div",31)(52,"h6"),p(53,"Profit"),d(),u(54,"h3"),p(55),d()()()(),u(56,"div",32)(57,"div",33)(58,"h5",34),p(59,"Quick Actions"),d(),u(60,"div",35)(61,"button",36),p(62,"Create New Package"),d(),u(63,"button",37),p(64,"View Your Bookings"),d()()()(),u(65,"div",3)(66,"div",38)(67,"div",39)(68,"div",40)(69,"h5",41),p(70,"Monthly Bookings"),d(),M(71,"canvas",null,0),d()()(),u(73,"div",38)(74,"div",39)(75,"div",40)(76,"h5",41),p(77,"Booking Status Distribution"),d(),M(78,"canvas",null,1),d()()()()()()()}e&2&&(m(43),A(i.activeBookingsNumber),m(6),A(i.packages.length),m(6),T("$",i.price,""))},dependencies:[Le,ie,yn,J],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0;background:#fff;min-height:100vh;overflow-y:auto}.fancy-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease forwards;opacity:0}.fancy-sidebar[_ngcontent-%COMP%]{background-color:#daa520;border:1px solid rgba(255,255,255,.2);animation:_ngcontent-%COMP%_slideInLeft .8s ease-out;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);min-height:100vh}.fancy-sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;border-bottom:2px solid #9c27b0;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.fancy-sidebar[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;animation-delay:calc(var(--btn-index) * .1s)}.fancy-navbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7b2cbf,#6a1b9a);box-shadow:0 8px 20px #0000004d;animation:_ngcontent-%COMP%_slideInDown .8s ease-out;padding:10px 15px;position:sticky;top:0;z-index:1000;width:100vw}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#000!important;transition:transform .3s ease,text-shadow .3s ease}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.05);text-shadow:0 0 12px goldenrod}.fancy-nav-link[_ngcontent-%COMP%]{color:#000!important;font-weight:500;transition:color .3s cubic-bezier(.4,0,.2,1),transform .3s ease,text-shadow .3s ease}.fancy-nav-link[_ngcontent-%COMP%]:hover{color:#9c27b0!important;transform:translateY(-2px);text-shadow:0 0 10px rgba(156,39,176,.6)}.fancy-card[_ngcontent-%COMP%]{background:#ffffff4d;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:#000;padding:15px;border-radius:15px;box-shadow:0 8px 25px #0006;transition:transform .4s cubic-bezier(.4,0,.2,1),box-shadow .4s ease,background .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out;animation-delay:calc(var(--card-index) * .2s)}.fancy-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 35px #00000080;background:#ffffff59;animation:_ngcontent-%COMP%_glowPulse 3.5s ease-in-out infinite}.fancy-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:10px;color:#000}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000}.card-body[_ngcontent-%COMP%]{padding:15px}.fancy-btn[_ngcontent-%COMP%]{background:#fff;color:#000;font-weight:600;letter-spacing:.5px;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;border-radius:50px;box-shadow:0 0 5px #fff}.fancy-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);color:#000}.section-heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px;color:#000;border-left:5px solid #9c27b0;padding-left:12px}.quick-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#daa520;color:#fff}canvas[_ngcontent-%COMP%]{max-width:100%;height:250px!important;border-radius:10px;box-shadow:0 8px 25px #0000004d;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.main-content[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;max-height:calc(100vh - 120px)}@media (max-width: 767px){.sidebar-container[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.main-content[_ngcontent-%COMP%]{padding:15px}}@media (min-width: 768px){.navbar[_ngcontent-%COMP%]{display:none}}@media (max-width: 576px){.container-fluid[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]{padding:10px;margin:10px 0}.fancy-card[_ngcontent-%COMP%]{padding:10px}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem}.section-heading[_ngcontent-%COMP%]{font-size:1.2rem}.fancy-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem}.fancy-nav-link[_ngcontent-%COMP%]{font-size:.9rem}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_glowPulse{0%{box-shadow:0 12px 35px #0006}20%{box-shadow:0 12px 30px #daa520}50%{box-shadow:0 12px 35px #0006}70%{box-shadow:0 12px 30px #daa520}to{box-shadow:0 12px 35px #0006}}"]})};var gu=ku(Tu());var jg=class n{ngAfterViewInit(){let t=gu.default.map("map").setView([0,0],2);gu.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(t),navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>nt(this,null,function*(){let i=e.coords.latitude,o=e.coords.longitude;t.setView([i,o],13);let s=yield(yield fetch(`https://us1.locationiq.com/v1/reverse?key=pk.bc35f990c1e814b1b565b73a70a93e5d&lat=${i}&lon=${o}&format=json&accept-language=en`)).json();this.model.address=s.place,gu.default.marker([i,o]).addTo(t).bindPopup("You are here.").openPopup();let a=null;t.on("click",l=>nt(this,null,function*(){let{lat:c,lng:f}=l.latlng;a&&t.removeLayer(a),a=gu.default.marker([c,f]).addTo(t).bindPopup(`Selected Location:<br>Lat: ${c.toFixed(5)}, Lng: ${f.toFixed(5)}`).openPopup(),console.log("Picked coordinates:",c,f);let g=(yield(yield fetch(`https://us1.locationiq.com/v1/reverse?key=pk.bc35f990c1e814b1b565b73a70a93e5d&lat=${c}&lon=${f}&format=json&accept-language=en`)).json()).display_name;this.model.address=g}))}),e=>{console.error("Error getting location:",e),alert("Unable to retrieve your location")}):alert("Geolocation is not supported by your browser")}service=y(Ce);onSubmit(){this.service.register(this.model,"tourguide")}model={address:"",areasCovered:"",contactEmail:"",contactPhone:"",email:"",firstName:"",guideName:"",languages:"",lastName:"",licenseNumber:"",password:"",phoneNumber:"",pricePerHour:0};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-tour-guide-register"]],decls:81,vars:13,consts:[["guideForm","ngForm"],[1,"container","mt-5","animate__animated","animate__fadeIn","tour-guide-container"],[1,"row","justify-content-center"],[1,"col-md-10","col-lg-8"],[1,"card","shadow-lg","border-0","rounded-4"],[1,"card-header","bg-gradient-info","text-white","py-4","rounded-top-4","d-flex","align-items-center"],[1,"fas","fa-user-tie","fa-lg","me-2"],[1,"mb-0"],[1,"card-body","p-4"],["novalidate","",1,"needs-validation",3,"ngSubmit"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-floating"],["type","text","id","firstName","name","firstName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","firstName"],["type","text","id","lastName","name","lastName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","lastName"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],[1,"col-md-12"],["type","tel","id","phoneNumber","name","phoneNumber","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phoneNumber"],["id","map",1,"fancy-map"],["type","text","id","guideName","name","guideName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","guideName"],["type","text","id","licenseNumber","name","licenseNumber","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","licenseNumber"],["type","text","id","languages","name","languages","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","languages"],["type","text","id","areasCovered","name","areasCovered","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","areasCovered"],["type","number","id","pricePerHour","name","pricePerHour","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","pricePerHour"],["type","email","id","contactEmail","name","contactEmail",1,"form-control",3,"ngModelChange","ngModel"],["for","contactEmail"],["type","tel","id","contactPhone","name","contactPhone",1,"form-control",3,"ngModelChange","ngModel"],["for","contactPhone"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-lg","btn-info","px-5","shadow-sm",3,"disabled"],[1,"fas","fa-paper-plane","me-2"]],template:function(e,i){if(e&1){let o=U();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),M(5,"i",6),u(6,"h3",7),p(7,"Tour Guide Registration"),d()(),u(8,"div",8)(9,"form",9,0),I("ngSubmit",function(){return P(o),O(i.onSubmit())}),u(11,"div",10)(12,"div",11)(13,"div",12)(14,"input",13),Y("ngModelChange",function(s){return P(o),K(i.model.firstName,s)||(i.model.firstName=s),O(s)}),d(),u(15,"label",14),p(16,"First Name*"),d()()(),u(17,"div",11)(18,"div",12)(19,"input",15),Y("ngModelChange",function(s){return P(o),K(i.model.lastName,s)||(i.model.lastName=s),O(s)}),d(),u(20,"label",16),p(21,"Last Name*"),d()()(),u(22,"div",11)(23,"div",12)(24,"input",17),Y("ngModelChange",function(s){return P(o),K(i.model.email,s)||(i.model.email=s),O(s)}),d(),u(25,"label",18),p(26,"Email*"),d()()(),u(27,"div",11)(28,"div",12)(29,"input",19),Y("ngModelChange",function(s){return P(o),K(i.model.password,s)||(i.model.password=s),O(s)}),d(),u(30,"label",20),p(31,"Password*"),d()()(),u(32,"div",21)(33,"div",12)(34,"input",22),Y("ngModelChange",function(s){return P(o),K(i.model.phoneNumber,s)||(i.model.phoneNumber=s),O(s)}),d(),u(35,"label",23),p(36,"Phone Number*"),d()()(),u(37,"div",21)(38,"div",12)(39,"h4"),p(40,"Address"),d(),M(41,"div",24),d()(),u(42,"div",11)(43,"div",12)(44,"input",25),Y("ngModelChange",function(s){return P(o),K(i.model.guideName,s)||(i.model.guideName=s),O(s)}),d(),u(45,"label",26),p(46,"Guide Nickname*"),d()()(),u(47,"div",11)(48,"div",12)(49,"input",27),Y("ngModelChange",function(s){return P(o),K(i.model.licenseNumber,s)||(i.model.licenseNumber=s),O(s)}),d(),u(50,"label",28),p(51,"License Number*"),d()()(),u(52,"div",11)(53,"div",12)(54,"input",29),Y("ngModelChange",function(s){return P(o),K(i.model.languages,s)||(i.model.languages=s),O(s)}),d(),u(55,"label",30),p(56,"Languages Spoken*"),d()()(),u(57,"div",11)(58,"div",12)(59,"input",31),Y("ngModelChange",function(s){return P(o),K(i.model.areasCovered,s)||(i.model.areasCovered=s),O(s)}),d(),u(60,"label",32),p(61,"Areas Covered*"),d()()(),u(62,"div",11)(63,"div",12)(64,"input",33),Y("ngModelChange",function(s){return P(o),K(i.model.pricePerHour,s)||(i.model.pricePerHour=s),O(s)}),d(),u(65,"label",34),p(66,"Price Per Hour (USD)*"),d()()(),u(67,"div",11)(68,"div",12)(69,"input",35),Y("ngModelChange",function(s){return P(o),K(i.model.contactEmail,s)||(i.model.contactEmail=s),O(s)}),d(),u(70,"label",36),p(71,"Contact Email*"),d()()(),u(72,"div",11)(73,"div",12)(74,"input",37),Y("ngModelChange",function(s){return P(o),K(i.model.contactPhone,s)||(i.model.contactPhone=s),O(s)}),d(),u(75,"label",38),p(76,"Contact Phone*"),d()()()(),u(77,"div",39)(78,"button",40),M(79,"i",41),p(80,"Register "),d()()()()()()()()}if(e&2){let o=li(10);m(14),q("ngModel",i.model.firstName),m(5),q("ngModel",i.model.lastName),m(5),q("ngModel",i.model.email),m(5),q("ngModel",i.model.password),m(5),q("ngModel",i.model.phoneNumber),m(10),q("ngModel",i.model.guideName),m(5),q("ngModel",i.model.licenseNumber),m(5),q("ngModel",i.model.languages),m(5),q("ngModel",i.model.areasCovered),m(5),q("ngModel",i.model.pricePerHour),m(5),q("ngModel",i.model.contactEmail),m(5),q("ngModel",i.model.contactPhone),m(4),x("disabled",!o.valid)}},dependencies:[Ke,Ye,Xe,Pn,Pe,qe,Kt,et,wt],styles:['@charset "UTF-8";.tour-guide-container[_ngcontent-%COMP%]{width:90%;margin:50px auto}.card[_ngcontent-%COMP%]{box-shadow:0 10px 30px #0000001a;border:none;border-radius:1rem;overflow:hidden;transition:transform .3s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#0dcaf0);color:#fff;padding:1.5rem;border-bottom:none;display:flex;align-items:center;border-top-left-radius:1rem;border-top-right-radius:1rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:700}label[_ngcontent-%COMP%]{font-weight:600;color:#333}input.form-control[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-radius:.5rem;transition:border-color .3s ease-in-out,box-shadow .3s ease-in-out}input.form-control[_ngcontent-%COMP%]:focus, textarea.form-control[_ngcontent-%COMP%]:focus{border-color:#17a2b8;box-shadow:0 0 0 .2rem #17a2b840}.btn-info[_ngcontent-%COMP%]{background:linear-gradient(to right,#17a2b8,#0dcaf0);border:none;padding:.75rem 1.5rem;border-radius:50px;font-size:1.1rem;font-weight:600;transition:all .3s ease-in-out}.btn-info[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#0d8cab,#00b7e3);transform:translateY(-2px);box-shadow:0 8px 20px #17a2b84d}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin:0 15px}.btn[_ngcontent-%COMP%]{width:100%}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}}.fancy-map[_ngcontent-%COMP%]{height:250px;background:#dee2e6;box-shadow:0 0 12px #0003}']})};var _u=ku(Tu());var Hg=class n{ngAfterViewInit(){let t=_u.default.map("map").setView([0,0],2);if(_u.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(t),navigator.geolocation){navigator.geolocation.getCurrentPosition(i=>nt(this,null,function*(){let o=i.coords.latitude,r=i.coords.longitude;t.setView([o,r],13);let a=yield(yield fetch(`https://us1.locationiq.com/v1/reverse?key=pk.bc35f990c1e814b1b565b73a70a93e5d&lat=${o}&lon=${r}&format=json&accept-language=en`)).json();this.model.address=a.place,_u.default.marker([o,r]).addTo(t).bindPopup("You are here.").openPopup()}),i=>{console.error("Error getting location:",i),alert("Unable to retrieve your location")});let e=null;t.on("click",i=>nt(this,null,function*(){let{lat:o,lng:r}=i.latlng;e&&t.removeLayer(e),e=_u.default.marker([o,r]).addTo(t).bindPopup(`Selected Location:<br>Lat: ${o.toFixed(5)}, Lng: ${r.toFixed(5)}`).openPopup(),console.log("Picked coordinates:",o,r);let l=(yield(yield fetch(`https://us1.locationiq.com/v1/reverse?key=pk.bc35f990c1e814b1b565b73a70a93e5d&lat=${o}&lon=${r}&format=json&accept-language=en`)).json()).display_name;this.model.address=l}))}else alert("Geolocation is not supported by your browser")}service=y(Ce);model={firstName:"",lastName:"",email:"",password:"",phoneNumber:"",address:"",preferences:"",favoriteDestinations:""};onSubmit(){this.service.register(this.model,"tourist")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-tourist-registration"]],decls:56,vars:8,consts:[["touristForm","ngForm"],[1,"container","mt-5","animate__animated","animate__fadeIn","tourist-register"],[1,"row","justify-content-center"],[1,"col-md-10","col-lg-8"],[1,"card","shadow-lg","border-0","rounded-4"],[1,"card-header","bg-gradient-primary","text-white","py-4","rounded-top-4"],[1,"mb-0","text-center"],[1,"fas","fa-user-plus","me-2"],[1,"card-body","p-4"],["novalidate","",1,"needs-validation",3,"ngSubmit"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-floating"],["type","text","id","firstName","name","firstName","placeholder","First Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","firstName"],["type","text","id","lastName","name","lastName","placeholder","Last Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","lastName"],[1,"col-md-12"],["type","email","id","email","name","email","placeholder","Email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","password","id","password","name","password","placeholder","Password","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","tel","id","phoneNumber","name","phoneNumber","placeholder","Phone Number","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phoneNumber"],["id","map",1,"fancy-map"],["placeholder","Preferences","id","preferences","name","preferences",1,"form-control",2,"height","100px",3,"ngModelChange","ngModel"],["for","preferences"],["type","text","id","favoriteDestinations","name","favoriteDestinations","placeholder","Favorite Destinations",1,"form-control",3,"ngModelChange","ngModel"],["for","favoriteDestinations"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-lg","btn-primary","px-5","shadow-sm",3,"disabled"],[1,"fas","fa-paper-plane","me-2"]],template:function(e,i){if(e&1){let o=U();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h3",6),M(6,"i",7),p(7,"Tourist Registration "),d()(),u(8,"div",8)(9,"form",9,0),I("ngSubmit",function(){return P(o),O(i.onSubmit())}),u(11,"div",10)(12,"div",11)(13,"div",12)(14,"input",13),Y("ngModelChange",function(s){return P(o),K(i.model.firstName,s)||(i.model.firstName=s),O(s)}),d(),u(15,"label",14),p(16,"First Name"),d()()(),u(17,"div",11)(18,"div",12)(19,"input",15),Y("ngModelChange",function(s){return P(o),K(i.model.lastName,s)||(i.model.lastName=s),O(s)}),d(),u(20,"label",16),p(21,"Last Name"),d()()(),u(22,"div",17)(23,"div",12)(24,"input",18),Y("ngModelChange",function(s){return P(o),K(i.model.email,s)||(i.model.email=s),O(s)}),d(),u(25,"label",19),p(26,"Email"),d()()(),u(27,"div",11)(28,"div",12)(29,"input",20),Y("ngModelChange",function(s){return P(o),K(i.model.password,s)||(i.model.password=s),O(s)}),d(),u(30,"label",21),p(31,"Password"),d()()(),u(32,"div",11)(33,"div",12)(34,"input",22),Y("ngModelChange",function(s){return P(o),K(i.model.phoneNumber,s)||(i.model.phoneNumber=s),O(s)}),d(),u(35,"label",23),p(36,"Phone Number"),d()()(),u(37,"div",17)(38,"div",12)(39,"h4"),p(40,"Address"),d(),M(41,"div",24),d()(),u(42,"div",17)(43,"div",12)(44,"textarea",25),Y("ngModelChange",function(s){return P(o),K(i.model.preferences,s)||(i.model.preferences=s),O(s)}),d(),u(45,"label",26),p(46,"Travel Preferences"),d()()(),u(47,"div",17)(48,"div",12)(49,"input",27),Y("ngModelChange",function(s){return P(o),K(i.model.favoriteDestinations,s)||(i.model.favoriteDestinations=s),O(s)}),d(),u(50,"label",28),p(51,"Favorite Destinations"),d()()()(),u(52,"div",29)(53,"button",30),M(54,"i",31),p(55,"Register "),d()()()()()()()()}if(e&2){let o=li(10);m(14),q("ngModel",i.model.firstName),m(5),q("ngModel",i.model.lastName),m(5),q("ngModel",i.model.email),m(5),q("ngModel",i.model.password),m(5),q("ngModel",i.model.phoneNumber),m(10),q("ngModel",i.model.preferences),m(5),q("ngModel",i.model.favoriteDestinations),m(4),x("disabled",!o.valid)}},dependencies:[Ke,Ye,Xe,Pe,qe,Kt,et,wt],styles:['@charset "UTF-8";.tourist-register[_ngcontent-%COMP%]{transition:all .2s ease-in}.tourist-register[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.card[_ngcontent-%COMP%]{transition:all .3s ease-in-out;background:#fff;box-shadow:0 10px 35px #0000001a;border:none}.bg-gradient-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#00b4ff);color:#fff}.rounded-top-4[_ngcontent-%COMP%]{border-top-left-radius:1rem;border-top-right-radius:1rem}.rounded-4[_ngcontent-%COMP%]{border-radius:1rem}.form-floating[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{color:#555;font-weight:500;transition:all .2s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #007bff40;border-color:#007bff}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%]{color:#007bff}button.btn[_ngcontent-%COMP%]{border-radius:50px;transition:all .3s ease-in-out;font-size:1.1rem;padding:12px 28px}button.btn[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#0056d2,#0af);transform:translateY(-2px);box-shadow:0 8px 20px #007bff4d}label[_ngcontent-%COMP%]{margin-bottom:.3rem}textarea.form-control[_ngcontent-%COMP%]{resize:none}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin:0 15px}.btn[_ngcontent-%COMP%]{width:100%}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}}.fancy-map[_ngcontent-%COMP%]{height:250px;background:#dee2e6;box-shadow:0 0 12px #0003}']})};var vu=ku(Tu());var Ug=class n{ngAfterViewInit(){let t=vu.default.map("map").setView([0,0],2);vu.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(t),navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>nt(this,null,function*(){let i=e.coords.latitude,o=e.coords.longitude;t.setView([i,o],13);let s=yield(yield fetch(`https://us1.locationiq.com/v1/reverse?key=pk.bc35f990c1e814b1b565b73a70a93e5d&lat=${i}&lon=${o}&format=json&accept-language=en`)).json();this.model.address=s.place,vu.default.marker([i,o]).addTo(t).bindPopup("You are here.").openPopup();let a=null;t.on("click",l=>nt(this,null,function*(){let{lat:c,lng:f}=l.latlng;a&&t.removeLayer(a),a=vu.default.marker([c,f]).addTo(t).bindPopup(`Selected Location:<br>Lat: ${c.toFixed(5)}, Lng: ${f.toFixed(5)}`).openPopup(),console.log("Picked coordinates:",c,f);let g=(yield(yield fetch(`https://us1.locationiq.com/v1/reverse?key=pk.bc35f990c1e814b1b565b73a70a93e5d&lat=${c}&lon=${f}&format=json&accept-language=en`)).json()).display_name;this.model.address=g}))}),e=>{console.error("Error getting location:",e),alert("Unable to retrieve your location")}):alert("Geolocation is not supported by your browser")}service=y(Ce);onSubmit(){this.service.register(this.model,"hotel")}model={firstName:"",contactEmail:"",contactPhone:"",description:"",hotelAddress:"",hotelName:"",rating:0,lastName:"",email:"",password:"",phoneNumber:"",address:""};static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-hotel-register"]],decls:71,vars:11,consts:[["hotelForm","ngForm"],[1,"container","mt-5","animate__animated","animate__fadeIn","hotel-container"],[1,"row","justify-content-center"],[1,"col-md-10","col-lg-8"],[1,"card","shadow-lg","border-0","rounded-4"],[1,"card-header","bg-gradient-info","text-white","py-4","rounded-top-4","d-flex","align-items-center"],[1,"fas","fa-user-tie","fa-lg","me-2"],[1,"mb-0"],[1,"card-body","p-4"],["novalidate","",1,"needs-validation",3,"ngSubmit"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-floating"],["type","text","id","firstName","name","firstName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","firstName"],["type","text","id","lastName","name","lastName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","lastName"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],[1,"col-md-12"],["type","tel","id","phoneNumber","name","phoneNumber","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phoneNumber"],["id","map",1,"fancy-map"],["type","text","id","hotel name","name","hotel name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","hotel name"],["placeholder","description","id","description","name","description",1,"form-control",2,"height","100px",3,"ngModelChange","ngModel"],["for","description"],["placeholder","rating","id","rating","name","rating","min","1","max","5",1,"form-control",3,"ngModelChange","ngModel"],["for","rating"],["type","email","id","contactEmail","name","contactEmail",1,"form-control",3,"ngModelChange","ngModel"],["for","contactEmail"],["type","tel","id","contactPhone","name","contactPhone",1,"form-control",3,"ngModelChange","ngModel"],["for","contactPhone"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-lg","btn-info","px-5","shadow-sm",3,"disabled"],[1,"fas","fa-paper-plane","me-2"]],template:function(e,i){if(e&1){let o=U();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),M(5,"i",6),u(6,"h3",7),p(7,"Hotel Registration"),d()(),u(8,"div",8)(9,"form",9,0),I("ngSubmit",function(){return P(o),O(i.onSubmit())}),u(11,"div",10)(12,"div",11)(13,"div",12)(14,"input",13),Y("ngModelChange",function(s){return P(o),K(i.model.firstName,s)||(i.model.firstName=s),O(s)}),d(),u(15,"label",14),p(16,"First Name*"),d()()(),u(17,"div",11)(18,"div",12)(19,"input",15),Y("ngModelChange",function(s){return P(o),K(i.model.lastName,s)||(i.model.lastName=s),O(s)}),d(),u(20,"label",16),p(21,"Last Name*"),d()()(),u(22,"div",11)(23,"div",12)(24,"input",17),Y("ngModelChange",function(s){return P(o),K(i.model.email,s)||(i.model.email=s),O(s)}),d(),u(25,"label",18),p(26,"Email*"),d()()(),u(27,"div",11)(28,"div",12)(29,"input",19),Y("ngModelChange",function(s){return P(o),K(i.model.password,s)||(i.model.password=s),O(s)}),d(),u(30,"label",20),p(31,"Password*"),d()()(),u(32,"div",21)(33,"div",12)(34,"input",22),Y("ngModelChange",function(s){return P(o),K(i.model.phoneNumber,s)||(i.model.phoneNumber=s),O(s)}),d(),u(35,"label",23),p(36,"Phone Number*"),d()()(),u(37,"div",21)(38,"div",12)(39,"h4"),p(40,"Address"),d(),M(41,"div",24),d()(),u(42,"div",21)(43,"div",12)(44,"input",25),Y("ngModelChange",function(s){return P(o),K(i.model.hotelName,s)||(i.model.hotelName=s),O(s)}),d(),u(45,"label",26),p(46,"Hotel Name*"),d()()(),u(47,"div",21)(48,"div",12)(49,"textarea",27),Y("ngModelChange",function(s){return P(o),K(i.model.description,s)||(i.model.description=s),O(s)}),d(),u(50,"label",28),p(51,"Hotel Description*"),d()()(),u(52,"div",21)(53,"div",12)(54,"input",29),Y("ngModelChange",function(s){return P(o),K(i.model.rating,s)||(i.model.rating=s),O(s)}),d(),u(55,"label",30),p(56,"Rating*"),d()()(),u(57,"div",11)(58,"div",12)(59,"input",31),Y("ngModelChange",function(s){return P(o),K(i.model.contactEmail,s)||(i.model.contactEmail=s),O(s)}),d(),u(60,"label",32),p(61,"Contact Email*"),d()()(),u(62,"div",11)(63,"div",12)(64,"input",33),Y("ngModelChange",function(s){return P(o),K(i.model.contactPhone,s)||(i.model.contactPhone=s),O(s)}),d(),u(65,"label",34),p(66,"Contact Phone*"),d()()()(),u(67,"div",35)(68,"button",36),M(69,"i",37),p(70,"Register "),d()()()()()()()()}if(e&2){let o=li(10);m(14),q("ngModel",i.model.firstName),m(5),q("ngModel",i.model.lastName),m(5),q("ngModel",i.model.email),m(5),q("ngModel",i.model.password),m(5),q("ngModel",i.model.phoneNumber),m(10),q("ngModel",i.model.hotelName),m(5),q("ngModel",i.model.description),m(5),q("ngModel",i.model.rating),m(5),q("ngModel",i.model.contactEmail),m(5),q("ngModel",i.model.contactPhone),m(4),x("disabled",!o.valid)}},dependencies:[Ke,Ye,Xe,Pe,qe,Kt,et,wt],styles:['@charset "UTF-8";.hotel-register[_ngcontent-%COMP%]{width:90%;margin:50px auto}.card[_ngcontent-%COMP%]{box-shadow:0 10px 30px #0000001a;border:none;border-radius:1rem;overflow:hidden;transition:transform .3s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#ff6b6b);color:#fff;padding:1.5rem;border-bottom:none;display:flex;align-items:center;border-top-left-radius:1rem;border-top-right-radius:1rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:700}label[_ngcontent-%COMP%]{font-weight:600;color:#333}input.form-control[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-radius:.5rem;transition:border-color .3s ease-in-out,box-shadow .3s ease-in-out}input.form-control[_ngcontent-%COMP%]:focus, textarea.form-control[_ngcontent-%COMP%]:focus{border-color:#17a2b8;box-shadow:0 0 0 .2rem #17a2b840}.btn.btn-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#ff6b6b);border:none;padding:.75rem 1.5rem;border-radius:50px;font-size:1.1rem;font-weight:600;transition:all .3s ease-in-out}.btn.btn-info[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff6b6b,#dc3545);transform:translateY(-2px);box-shadow:0 8px 20px #17a2b84d}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin:0 15px}.btn[_ngcontent-%COMP%]{width:100%}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}}.fancy-map[_ngcontent-%COMP%]{height:250px;background:#dee2e6;box-shadow:0 0 12px #0003}']})};var zg=class n{constructor(t,e,i,o){this.matDialog=t;this.router=e;this.route=i;this.toastService=o;this.user={email:"",password:""}}user;service=y(Ce);isLoggingIn;login(){let t="";if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.user.email)||(t+="Please enter a valid email address "),this.user.password.length<6&&(t+=`

Password must be at least 6 characters long.`),t!=""){this.toastService.error(t,"\u274C Error",{toastClass:"ngx-toastr custom-error"});return}else{let i=this.matDialog.open(We,{disableClose:!0});this.service.login(this.user).subscribe({next:o=>{i.close(),localStorage.setItem("email",this.user.email),console.log(o),this.toastService.success("Login is successful!","\u2705 Success",{toastClass:"ngx-toastr custom-success"})},error:o=>{i.close(),this.toastService.error("Error Logging In,Try Again Later or check your connection then try","\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.service.login(this.user)}}logUser(){console.log(this.user)}loginWithGoogle(){this.service.loginWithGoogle()}static \u0275fac=function(e){return new(e||n)(D(ne),D(ee),D(Se),D(ae))};static \u0275cmp=F({type:n,selectors:[["app-login"]],decls:58,vars:2,consts:[[1,"container-fluid","body-container"],[1,"login-image"],[1,"login-card","card-hotel","text-center"],[1,"card-icon"],[1,"mt-3"],[1,"login-card","card-tourism","text-center"],[1,"login-card","card-guide","text-center"],[1,"login-card","card-custom","text-center"],[1,"login-form","p-5"],[3,"ngSubmit"],[1,"text-center","mb-4"],["routerLink","/register",1,"link-highlight"],[1,"mb-3","input-group"],["for","username",1,"form-label"],["type","email","id","username","placeholder","Enter email","required","","name","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-glow"],[1,"mb-4","input-group"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Enter password","required","","name","password",1,"form-control",3,"ngModelChange","ngModel"],["routerLink","/forgot-password",1,"link-highlight"],["type","submit",1,"btn","btn-gradient-purple","w-100","py-2"],["type","button",1,"btn","btn-gradient-red","w-100","py-2","mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640"],["d","M386.3 292.5C388.1 302.2 389.4 311.9 389.4 324.5C389.4 434.3 315.8 512 205 512C98.9 512 13 426.1 13 320C13 213.9 98.9 128 205 128C256.9 128 300.1 146.9 333.6 178.3L281.5 228.3C267.4 214.7 242.5 198.7 205 198.7C139.5 198.7 86.1 252.9 86.1 320C86.1 387.1 139.5 441.3 205 441.3C281 441.3 309.5 386.6 314 358.5L205 358.5L205 292.5L386.3 292.5L386.3 292.5zM571.7 298.9L571.7 243.2L515.7 243.2L515.7 298.9L460 298.9L460 354.9L515.7 354.9L515.7 410.6L571.7 410.6L571.7 354.9L627.4 354.9L627.4 298.9L571.7 298.9z"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"\u{1F3E8}"),d(),u(5,"h4",4),p(6,"Hotel"),d(),u(7,"p"),p(8,"Find a good place to stay"),d()(),u(9,"div",5)(10,"div",3),p(11,"\u{1F9F3}"),d(),u(12,"h4",4),p(13,"Tourism Company"),d(),u(14,"p"),p(15,"Find a place to facilitate your stay"),d()(),u(16,"div",6)(17,"div",3),p(18,"\u{1F5FA}\uFE0F"),d(),u(19,"h4",4),p(20,"Tour Guide"),d(),u(21,"p"),p(22,"Find a person to guide you"),d()(),u(23,"div",7)(24,"div",3),p(25,"\u2699\uFE0F"),d(),u(26,"h4",4),p(27,"Customizable"),d(),u(28,"p"),p(29,"Find a trip customized for you"),d()()(),u(30,"div",8)(31,"form",9),I("ngSubmit",function(){return i.login()}),u(32,"h2",10),p(33,"Welcome Back"),d(),u(34,"p",10),p(35,"New here? "),u(36,"span",11),p(37,"Create an account"),d()(),u(38,"div",12)(39,"label",13),p(40,"Email"),d(),u(41,"input",14),Y("ngModelChange",function(r){return K(i.user.email,r)||(i.user.email=r),r}),d(),M(42,"div",15),d(),u(43,"div",16)(44,"label",17),p(45,"Password"),d(),u(46,"input",18),Y("ngModelChange",function(r){return K(i.user.password,r)||(i.user.password=r),r}),d(),M(47,"div",15),d(),u(48,"p",10),p(49,"Forgot Password? "),u(50,"span",19),p(51,"Reset it"),d()(),u(52,"button",20),p(53,"Login"),d(),u(54,"button",21),I("click",function(){return i.loginWithGoogle()}),p(55,"Login With Google "),gn(),u(56,"svg",22),M(57,"path",23),d()()()()()),e&2&&(m(41),q("ngModel",i.user.email),m(5),q("ngModel",i.user.password))},dependencies:[Le,ie,Ke,Ye,Xe,Pe,qe,Kt,et,wt,J,yn],styles:['@charset "UTF-8";.body-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;height:100vh;padding:0}.login-image[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));place-content:center;gap:30px;padding:40px;background-image:url("./media/login-Y36H55X4.png");background-size:cover;background-position:center}.login-image[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]{width:50%;height:100vh}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:50px}.login-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:25px;border-radius:15px;color:#fff;transition:all .3s ease-in-out;box-shadow:0 6px 20px #00000026;animation:_ngcontent-%COMP%_slideIn 1.5s ease-in}.login-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.05);box-shadow:0 12px 35px #0000004d}.card-hotel[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6a11cb,#2575fc)}.card-tourism[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11998e,#38ef7d)}.card-guide[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f7971e,#ffd200)}.card-custom[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e100ff,#7f00ff)}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn 2s ease-in}.btn-primary[_ngcontent-%COMP%]{background-color:#4e54c8;border:none;animation:_ngcontent-%COMP%_slideIn 2s ease-in}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#3c40a0}form[_ngcontent-%COMP%]{width:100%}.form-control[_ngcontent-%COMP%]{width:100%!important}input[_ngcontent-%COMP%]{padding:8px;width:100%;min-width:400px;font-size:14px;animation:_ngcontent-%COMP%_slideIn 2s ease-in}p[_ngcontent-%COMP%]{color:gray}@media (max-width: 991px){.body-container[_ngcontent-%COMP%]{flex-direction:column;position:relative;z-index:1}.login-form[_ngcontent-%COMP%]{z-index:1;width:80%;max-width:500px}.body-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url("./media/login-Y36H55X4.png") no-repeat center center/cover;z-index:-1;opacity:.7}.login-image[_ngcontent-%COMP%]{display:none}label[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{color:#fff}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.btn.btn-gradient-purple[_ngcontent-%COMP%]{background-color:#6a11cb;color:#fff;animation:_ngcontent-%COMP%_slideIn 1s ease}.btn.btn-gradient-red[_ngcontent-%COMP%]:hover{background-color:#a03c3c}.btn.btn-gradient-red[_ngcontent-%COMP%]{background-color:#cb1111;color:#fff;animation:_ngcontent-%COMP%_slideIn 1s ease}.btn.btn-gradient-purple[_ngcontent-%COMP%]:hover{background-color:#3c40a0}.btn.btn-gradient-red[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:50px;height:30px}']})};var _o=class n{constructor(t,e){this.authService=t;this.router=e}canActivate(){return!!this.authService.getToken()}static \u0275fac=function(e){return new(e||n)(W(Ce),W(ee))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var MA=(n,t)=>{let e=localStorage.getItem("token");return ts(e).roles.toLowerCase()=="hotel"},EA=(n,t)=>{let e=localStorage.getItem("token");return ts(e).roles.toLowerCase()=="tourismcompany"},DA=(n,t)=>{let e=localStorage.getItem("token");return ts(e).roles.toLowerCase()=="tourist"},SA=(n,t)=>{let e=localStorage.getItem("token");return ts(e).roles.toLowerCase()=="tourguide"},PA=(n,t)=>{let e=localStorage.getItem("token");return ts(e).roles.toLowerCase()=="admin"};var er=class n{constructor(t){this.client=t}touristSubject$=new Lr;touristDashBoard$=this.touristSubject$.asObservable();deleteBooking(t){return this.client.delete(this.baseUrl+"Bookings/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).pipe(we(e=>{this.touristDashBoard$.subscribe(i=>{i.bookings=i.bookings.filter(o=>o.bookingID!=t)})}))}baseUrl="https://fizo.runasp.net/api/";getTourist(){this.client.get(this.baseUrl+"Dashboard/tourist",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).subscribe(t=>this.touristSubject$.next(t))}editProfile(t){return this.client.put(this.baseUrl+"Dashboard/profile",{firstName:t.name.split(" ")[0],lastName:t.name.split(" ")[1]},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}editBooking(t){return this.client.put(this.baseUrl+"Bookings/"+t.bookingID,t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}getBooking(t){return this.client.get(this.baseUrl+"Bookings/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}getDestinationsForTrip(t){return this.client.get(this.baseUrl+`Search/destination?destination=${t}`)}createBooking(t){return this.client.post(this.baseUrl+"Bookings",t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}getHotelById(t){return this.client.get(this.baseUrl+"Hotels/"+t,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}static \u0275fac=function(e){return new(e||n)(W(at))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var $g=class n{constructor(t,e,i,o){this.service=t;this.data=e;this.dialogRef=i;this.toastService=o}ngOnInit(){this.id=this.data.id,this.itemName=this.data.itemName}id;itemName;confirm(){this.service.deleteBooking(this.id).subscribe({next:t=>{this.toastService.success("Booking deleted successfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"})},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.dialogRef.close()}cancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||n)(D(er),D(fi),D(Sn),D(ae))};static \u0275cmp=F({type:n,selectors:[["app-delete-booking"]],decls:8,vars:1,consts:[[1,"delete-dialog"],[1,"buttons"],[3,"click"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h4"),p(2),d(),u(3,"div",1)(4,"button",2),I("click",function(){return i.confirm()}),p(5,"Delete"),d(),u(6,"button",2),I("click",function(){return i.cancel()}),p(7,"Cancel"),d()()()),e&2&&(m(2),T("Are Sure You want To Delete This ",i.itemName,""))},dependencies:[gs],styles:[".delete-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px}.delete-dialog[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:0 20px;margin:0 auto;height:100px;gap:20px}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:10px;padding:8px;width:100px}.delete-dialog[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:700}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#2196f3;color:#fff}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{color:#000;border:1px solid black;background-color:#fff}"]})};var LZ=["barChartCanvas"],VZ=["pieChartCanvas"],IA=(n,t)=>t.bookingID,BZ=(n,t)=>t.reviewId;function jZ(n,t){if(n&1&&(u(0,"h3"),p(1),d()),n&2){let e=w();m(),A(e.tourist.bookings.length)}}function HZ(n,t){n&1&&(u(0,"div",43),M(1,"mat-progress-spinner",44),d())}function UZ(n,t){n&1&&(u(0,"div",43),M(1,"mat-progress-spinner",44),d())}function zZ(n,t){if(n&1&&(u(0,"h3"),p(1),d()),n&2){let e=w();m(),A(e.tourist.reviews.length)}}function $Z(n,t){n&1&&(u(0,"div",43),M(1,"mat-progress-spinner",44),d())}function GZ(n,t){n&1&&(u(0,"div",43),M(1,"mat-progress-spinner",44),d())}function WZ(n,t){if(n&1&&(u(0,"h3"),p(1),d()),n&2){let e=w();m(),T("$",e.price,"")}}function qZ(n,t){n&1&&(u(0,"div",43),M(1,"mat-progress-spinner",44),d())}function YZ(n,t){n&1&&(u(0,"div",43),M(1,"mat-progress-spinner",44),d())}function KZ(n,t){if(n&1){let e=U();u(0,"tr",45)(1,"td"),p(2),d(),u(3,"td"),p(4),_t(5,"date"),d(),u(6,"td"),p(7),d(),u(8,"td"),p(9),d(),u(10,"td"),p(11),d(),u(12,"td"),p(13),d(),u(14,"td")(15,"button",46),I("click",function(){let o=P(e).$implicit,r=w();return O(r.openDeleteDialog(o.bookingID))}),p(16,"Delete"),d()()()}if(n&2){let e=t.$implicit,i=t.$index;rn("--row-index: ",i,";"),m(2),A(e.bookingID),m(2),A(zt(5,9,e.bookingDate,"shortDate")),m(3),A(e.tourGuideName),m(2),A(e.hotelName),m(2),A(e.status),m(2),T("$",e.totalPrice,"")}}function ZZ(n,t){if(n&1&&(u(0,"div",47)(1,"p",48),p(2),d(),u(3,"p",49),p(4),_t(5,"date"),d()()),n&2){let e=t.$implicit,i=t.$index;rn("--review-index: ",i,";"),m(2),T('"',e.comment||"Great experience!",'"'),m(2),Ao("Rating: ",e.rating||5,"/5 - ",zt(5,6,e.reviewDate,"shortDate"),"")}}function QZ(n,t){n&1&&(u(0,"p",39),p(1,"No reviews yet. Share your experience!"),d())}function XZ(n,t){if(n&1&&(u(0,"div",19)(1,"div",50)(2,"h6"),p(3),d(),u(4,"p"),p(5),d(),u(6,"p"),p(7),d()()()),n&2){let e=t.$implicit,i=t.$index;m(),rn("--highlight-index: ",i,";"),m(2),A(e.packageName),m(2),T("Guide: ",e.tourGuideName,""),m(2),T("Hotel: ",e.hotelName,"")}}function JZ(n,t){n&1&&(u(0,"p",39),p(1,"No bookings yet. Start exploring!"),d())}tn.register(...Jo);var Gg=class n{constructor(t,e,i,o){this.matDialog=t;this.service=e;this.el=i;this.renderer=o}chartInstance=null;pieChartInstance=null;logout(){this.authService.logout()}tourist;isTouristReq=!1;filteredBookings;filteredStatus="";price=0;authService=y(Ce);toastService=y(ae);barChartCanvas;pieChartCanvas;ngOnInit(){this.service.touristDashBoard$.subscribe({next:t=>{console.log("in here!"),this.isTouristReq=!0,this.tourist=t,this.filteredBookings=[],this.filteredStatus="Pending",this.tourist.bookings.map(e=>{this.price+=e.totalPrice}),this.filteredBookings=this.tourist.bookings.filter(e=>e.status===this.filteredStatus),this.drawChart()},error:t=>{this.toastService.error("Error getting Data,Try Again Later!","\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.service.getTourist()}drawChart(){if(!this.tourist||!this.tourist.bookings){console.warn("No tourist data available for charts");return}let t=[],e=[],i=0,o=0,r=0;this.tourist.bookings.forEach(s=>{let a=s.bookingDate.split("T")[0].split("-");a[1]==="07"?t.push(s):a[1]==="08"&&e.push(s),s.status==="Pending"?i++:s.status==="Confirmed"?o++:s.status==="Cancelled"&&r++}),this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),this.pieChartInstance&&(this.pieChartInstance.destroy(),this.pieChartInstance=null),this.barChartCanvas?.nativeElement&&(this.renderer.setStyle(this.barChartCanvas.nativeElement,"height","250px"),this.chartInstance=new tn(this.barChartCanvas.nativeElement,{type:"bar",data:{labels:["Jul","Aug"],datasets:[{label:"Bookings",data:[t.length,e.length],backgroundColor:"goldenrod",borderColor:"#000000",borderWidth:1,barThickness:30}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:3,color:"#000000"}},x:{ticks:{color:"#000000"}}},plugins:{legend:{labels:{color:"#000000"}},title:{display:!0,text:"Monthly Bookings",color:"#000000"}}}})),this.pieChartCanvas?.nativeElement&&(this.renderer.setStyle(this.pieChartCanvas.nativeElement,"height","250px"),this.pieChartInstance=new tn(this.pieChartCanvas.nativeElement,{type:"pie",data:{labels:["Pending","Confirmed","Cancelled"],datasets:[{label:"Booking Status",data:[i,o,r],backgroundColor:["goldenrod","green","red"],borderColor:"#000000",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#000000"}},title:{display:!0,text:"Booking Status Distribution",color:"#000000"}}}}))}ngOnDestroy(){this.chartInstance&&this.chartInstance.destroy(),this.pieChartInstance&&this.pieChartInstance.destroy()}openDeleteDialog(t){this.matDialog.open($g,{data:{id:t}})}print(t){console.log(t.bookingID)}filterBookings(t){this.filteredStatus=t,this.filteredBookings=[],this.tourist.bookings.map(e=>{e.status==t&&this.filteredBookings.push(e)}),console.log(`list with ${t} is ${this.filteredBookings}`)}barChartType="bar";chartOptions={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Dashboard Overview"}}};static \u0275fac=function(e){return new(e||n)(D(ne),D(er),D(ot),D(jn))};static \u0275cmp=F({type:n,selectors:[["app-dashboard"]],viewQuery:function(e,i){if(e&1&&(Tt(LZ,7),Tt(VZ,5)),e&2){let o;Ct(o=xt())&&(i.barChartCanvas=o.first),Ct(o=xt())&&(i.pieChartCanvas=o.first)}},decls:123,vars:12,consts:[["barChartCanvas",""],["pieChartCanvas",""],[3e3,null],[1,"container-fluid","fancy-fade-in"],[1,"row"],[1,"col-md-3","sidebar-container"],[1,"card","text-white","shadow-lg","h-100","fancy-sidebar","p-4"],[1,"profile-section","text-center","mb-4"],[1,"mt-2"],[1,"fw-bold","mb-4","border-bottom","pb-2"],[1,"d-grid","gap-3"],["routerLink","/tour-packages",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","1"],["routerLink","/hotel-reservation",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","2"],[1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","3",3,"click"],[1,"col-md-9","pt-5","px-4","main-content","my-5"],[1,"header-section"],[1,"header-title"],[1,"header-subtitle"],[1,"row","mb-4","g-3"],[1,"col-md-4"],[1,"fancy-card","text-center","position-relative",2,"--card-index","1"],[1,"fancy-card","text-center",2,"--card-index","2"],[1,"fancy-card","text-center",2,"--card-index","3"],[1,"row","mb-5"],[1,"col-12"],[1,"section-heading"],["role","group",1,"btn-group","mb-3"],[1,"btn","btn-outline","bg-success","fancy-btn","mx-1",3,"click"],[1,"btn","btn-outline","bg-warning","fancy-btn","mx-1",3,"click"],[1,"btn","btn-outline","bg-danger","fancy-btn","mx-1",3,"click"],[1,"row","mb-4"],[1,"card","fancy-card"],[1,"card-body"],[1,"card-title"],[1,"table-responsive"],[1,"table","fancy-table"],[1,"fancy-table-row",3,"style"],[1,"review-carousel"],[1,"review-item",3,"style"],[1,"text-center"],[1,"row","g-3"],[1,"col-md-6","mb-4"],[1,"card-title","text-center"],[1,"loading-container"],["mode","indeterminate","diameter","40","color","accent"],[1,"fancy-table-row"],[1,"btn","btn-sm","bg-danger","fancy-btn",3,"click"],[1,"review-item"],[1,"review-text"],[1,"review-meta"],[1,"highlight-item"]],template:function(e,i){if(e&1){let o=U();u(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),p(6),d()(),u(7,"h4",9),p(8,"\u{1F3E8} Tourist Dashboard"),d(),u(9,"div",10)(10,"a",11),p(11," \u{1F4D6} Packages "),d(),u(12,"a",12),p(13," \u{1F3E8} Hotel Offers "),d(),u(14,"button",13),I("click",function(){return P(o),O(i.logout())}),p(15," \u{1F6AA} Logout "),d()()()(),u(16,"div",14)(17,"header",15)(18,"h1",16),p(19,"Your Travel Adventure Hub"),d(),u(20,"p",17),p(21,"Explore, Book, and Review Your Journeys"),d()(),u(22,"div",18)(23,"div",19)(24,"div",20)(25,"h6"),p(26,"Active Bookings"),d(),S(27,jZ,2,1)(28,HZ,2,0)(29,UZ,2,0),Ee(30,27,null,28,29,null,2,null,Me),d()(),u(32,"div",19)(33,"div",21)(34,"h6"),p(35,"Number of Reviews"),d(),S(36,zZ,2,1)(37,$Z,2,0)(38,GZ,2,0),Ee(39,36,null,37,38,null,2,null,Me),d()(),u(41,"div",19)(42,"div",22)(43,"h6"),p(44,"Total Spent"),d(),S(45,WZ,2,1)(46,qZ,2,0)(47,YZ,2,0),Ee(48,45,null,46,47,null,2,null,Me),d()()(),u(50,"div",23)(51,"div",24)(52,"h5",25),p(53,"Filter Bookings"),d(),u(54,"div",26)(55,"button",27),I("click",function(){return P(o),O(i.filterBookings("Pending"))}),p(56,"Pending"),d(),u(57,"button",28),I("click",function(){return P(o),O(i.filterBookings("Confirmed"))}),p(58,"Confirmed"),d(),u(59,"button",29),I("click",function(){return P(o),O(i.filterBookings("Cancelled"))}),p(60,"Cancelled"),d()()()(),u(61,"div",30)(62,"div",24)(63,"div",31)(64,"div",32)(65,"h5",33),p(66,"Your Bookings"),d(),u(67,"div",34)(68,"table",35)(69,"thead")(70,"tr")(71,"th"),p(72,"Booking ID"),d(),u(73,"th"),p(74,"Date"),d(),u(75,"th"),p(76,"Tour Guide"),d(),u(77,"th"),p(78,"Hotel"),d(),u(79,"th"),p(80,"Status"),d(),u(81,"th"),p(82,"Price"),d(),u(83,"th"),p(84,"Action"),d()()(),u(85,"tbody"),ue(86,KZ,17,12,"tr",36,IA),d()()()()()()(),u(88,"div",30)(89,"div",24)(90,"div",31)(91,"div",32)(92,"h5",33),p(93,"Recent Reviews"),d(),u(94,"div",37),ue(95,ZZ,6,9,"div",38,BZ),S(97,QZ,2,0,"p",39),d()()()()(),u(98,"div",30)(99,"div",24)(100,"div",31)(101,"div",32)(102,"h5",33),p(103,"Trip Highlights"),d(),u(104,"div",40),ue(105,XZ,8,6,"div",19,IA),S(107,JZ,2,0,"p",39),d()()()()(),u(108,"div",4)(109,"div",41)(110,"div",31)(111,"div",32)(112,"h5",42),p(113,"Monthly Bookings"),d(),M(114,"canvas",null,0),d()()(),u(116,"div",41)(117,"div",31)(118,"div",32)(119,"h5",42),p(120,"Booking Status Distribution"),d(),M(121,"canvas",null,1),d()()()()()()()}e&2&&(m(6),T("Welcome, ",i.tourist.name||"Traveler",""),m(24),De(i.isTouristReq),m(9),De(i.isTouristReq),m(9),De(i.isTouristReq),m(7),tt("active",i.filteredStatus==="Pending"),m(2),tt("active",i.filteredStatus==="Confirmed"),m(2),tt("active",i.filteredStatus==="Cancelled"),m(27),fe(i.filteredBookings),m(9),fe(i.tourist.reviews.slice(0,3)),m(2),ze(i.tourist.reviews.length?-1:97),m(8),fe(i.tourist.bookings.slice(0,3)),m(2),ze(i.tourist.bookings.length?-1:107))},dependencies:[J,_n,ie,yn,Pt],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0;background:#fff;min-height:100vh;overflow-y:auto}.header-section[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;animation:_ngcontent-%COMP%_fadeInDown 1s ease-out}.header-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#000}.header-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;color:#000;margin-top:10px}.sidebar-container[_ngcontent-%COMP%]{min-height:100vh}.fancy-sidebar[_ngcontent-%COMP%]{background-color:#daa520;border:1px solid rgba(255,255,255,.2);animation:_ngcontent-%COMP%_slideInLeft .8s ease-out;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.profile-section[_ngcontent-%COMP%]{animation:fadeIn 1s ease-out}.profile-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;border:2px solid #9c27b0;object-fit:cover;transition:transform .3s ease}.fancy-sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;border-bottom:2px solid #9c27b0;animation:fadeIn 1s ease-out}.fancy-sidebar[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;animation-delay:calc(var(--btn-index) * .1s)}.fancy-card[_ngcontent-%COMP%]{background:#ffffff4d;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:#000;padding:15px;border-radius:15px;box-shadow:0 8px 25px #0006;transition:transform .4s cubic-bezier(.4,0,.2,1),box-shadow .4s ease,background .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out;animation-delay:calc(var(--card-index) * .2s)}.fancy-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 35px #00000080}.fancy-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:10px;color:#000}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000}.card-body[_ngcontent-%COMP%]{padding:15px}.fancy-btn[_ngcontent-%COMP%]{background:#fff;color:#000;font-weight:600;letter-spacing:.5px;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;border-radius:50px}.fancy-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.fancy-btn[_ngcontent-%COMP%]:hover:after{width:600px;height:600px}.btn-group[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]{border-radius:10px}.fancy-table[_ngcontent-%COMP%]{color:#000;overflow:scroll}.fancy-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff3}.fancy-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#000}.fancy-table-row[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;animation-delay:calc(var(--row-index) * .1s)}.fancy-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#ffffff1a}.progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#7b2cbf,#6a1b9a);transition:width .5s ease-in-out;color:#000}.review-carousel[_ngcontent-%COMP%]{display:flex;gap:20px;overflow-x:auto;padding-bottom:10px;scrollbar-width:thin;scrollbar-color:goldenrod yellow;max-height:200px}.review-item[_ngcontent-%COMP%]{flex:0 0 300px;background:#fff3;border-radius:10px;padding:15px;animation:_ngcontent-%COMP%_reviewFade .8s ease-out;animation-delay:calc(var(--review-index) * .2s)}.review-text[_ngcontent-%COMP%]{font-style:italic;color:#000;margin-bottom:10px}.review-meta[_ngcontent-%COMP%]{font-size:.9rem;color:#000}.highlight-item[_ngcontent-%COMP%]{background:#fff3;border-radius:10px;padding:15px;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_slideInRight .8s ease-out;animation-delay:calc(var(--highlight-index) * .2s)}.highlight-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 20px #0000004d}canvas[_ngcontent-%COMP%]{max-width:100%;height:250px!important;border-radius:10px;box-shadow:0 8px 25px #0000004d;animation:fadeIn 1s ease-out}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;min-height:80px}mat-progress-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1.5s linear infinite}@media (max-width: 767px){.sidebar-container[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.main-content[_ngcontent-%COMP%]{padding:15px}.header-title[_ngcontent-%COMP%]{font-size:1.8rem}.header-subtitle[_ngcontent-%COMP%]{font-size:1rem}.review-carousel[_ngcontent-%COMP%]{flex-direction:column}.review-item[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}}@media (min-width: 768px){.navbar[_ngcontent-%COMP%]{display:none}}@media (max-width: 576px){.container-fluid[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]{padding:10px;margin:10px 0}.fancy-card[_ngcontent-%COMP%]{padding:10px}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem}.section-heading[_ngcontent-%COMP%]{font-size:1.2rem}.btn-group[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_reviewFade{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_glowPulse{0%{box-shadow:0 12px 35px #0006}50%{box-shadow:0 12px 30px #7b2cbfb3}to{box-shadow:0 12px 35px #0006}}"]})};var bu=ku(Tu());var Wg=class n{map;ngAfterViewInit(){this.map=bu.default.map("map").setView([0,0],2),bu.default.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(this.map),navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>nt(this,null,function*(){yield this.getCurrentLocation();let e=null;this.map.on("click",i=>nt(this,null,function*(){let{lat:o,lng:r}=i.latlng;e&&this.map.removeLayer(e),e=bu.default.marker([o,r]).addTo(this.map).bindPopup(`Selected Location:<br>Lat: ${o.toFixed(5)}, Lng: ${r.toFixed(5)}`).openPopup(),console.log("Picked coordinates:",o,r);let l=(yield(yield fetch(`https://us1.locationiq.com/v1/reverse?key=pk.bc35f990c1e814b1b565b73a70a93e5d&lat=${o}&lon=${r}&format=json&accept-language=en`)).json()).display_name;this.model.address=l}))}),t=>{console.error("Error getting location:",t),alert("Unable to retrieve your location")}):alert("Geolocation is not supported by your browser")}service=y(Ce);model={address:"",companyName:"",contactEmail:"",contactPhone:"",description:"",email:"",firstName:"",lastName:"",licenseNumber:"",password:"",phoneNumber:""};getCurrentLocation(){return nt(this,null,function*(){navigator.geolocation.getCurrentPosition(t=>nt(this,null,function*(){let e=t.coords.latitude,i=t.coords.longitude;this.map.setView([e,i],13);let r=yield(yield fetch(`https://us1.locationiq.com/v1/reverse?key=pk.bc35f990c1e814b1b565b73a70a93e5d&lat=${e}&lon=${i}&format=json&accept-language=en`)).json();this.model.address=r.place,bu.default.marker([e,i]).addTo(this.map).bindPopup("You are here.").openPopup()}),t=>{console.error("Error getting location:",t),alert("Unable to retrieve your location")})})}onSubmit(){this.service.register(this.model,"tourismcompany")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-company-register"]],decls:71,vars:11,consts:[["companyForm","ngForm"],[1,"container","mt-5","animate__animated","animate__fadeIn","company-register"],[1,"row","justify-content-center"],[1,"col-md-10","col-lg-8"],[1,"card","shadow-lg","border-0","rounded-4"],[1,"card-header","bg-gradient-primary","text-white","py-4","rounded-top-4"],[1,"mb-0","text-center"],[1,"fas","fa-user-plus","me-2"],[1,"card-body","p-4"],["novalidate","",1,"needs-validation",3,"ngSubmit"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-floating"],["type","text","id","firstName","name","firstName","placeholder","First Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","firstName"],["type","text","id","lastName","name","lastName","placeholder","Last Name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","lastName"],[1,"col-md-12"],["type","email","id","email","name","email","placeholder","Email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],["type","password","id","password","name","password","placeholder","Password","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","tel","id","phoneNumber","name","phoneNumber","placeholder","Phone Number","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phoneNumber"],["id","map",1,"fancy-map"],["placeholder","description","id","description","name","description",1,"form-control",2,"height","100px",3,"ngModelChange","ngModel"],["for","description"],["type","text","id","license number","name","license number","placeholder","License Number","required","","type","number",1,"form-control",3,"ngModelChange","ngModel"],["for","license number"],["type","text","id","company name","name","company name","placeholder","Company Name","required","","type","company name",1,"form-control",3,"ngModelChange","ngModel"],["for","company name"],["type","text","id","contact email","name","contact email","placeholder","Contact Email","required","","type","email",1,"form-control",3,"ngModelChange","ngModel"],["for","contact email"],["type","text","id","contact phone","name","contact phone","placeholder","Contact Phone","required","","type","tel",1,"form-control",3,"ngModelChange","ngModel"],["for","contact phone"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-lg","btn-primary","px-5","shadow-sm",3,"disabled"],[1,"fas","fa-paper-plane","me-2"]],template:function(e,i){if(e&1){let o=U();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h3",6),M(6,"i",7),p(7,"Company Registration "),d()(),u(8,"div",8)(9,"form",9,0),I("ngSubmit",function(){return P(o),O(i.onSubmit())}),u(11,"div",10)(12,"div",11)(13,"div",12)(14,"input",13),Y("ngModelChange",function(s){return P(o),K(i.model.firstName,s)||(i.model.firstName=s),O(s)}),d(),u(15,"label",14),p(16,"First Name"),d()()(),u(17,"div",11)(18,"div",12)(19,"input",15),Y("ngModelChange",function(s){return P(o),K(i.model.lastName,s)||(i.model.lastName=s),O(s)}),d(),u(20,"label",16),p(21,"Last Name"),d()()(),u(22,"div",17)(23,"div",12)(24,"input",18),Y("ngModelChange",function(s){return P(o),K(i.model.email,s)||(i.model.email=s),O(s)}),d(),u(25,"label",19),p(26,"Email"),d()()(),u(27,"div",11)(28,"div",12)(29,"input",20),Y("ngModelChange",function(s){return P(o),K(i.model.password,s)||(i.model.password=s),O(s)}),d(),u(30,"label",21),p(31,"Password"),d()()(),u(32,"div",11)(33,"div",12)(34,"input",22),Y("ngModelChange",function(s){return P(o),K(i.model.phoneNumber,s)||(i.model.phoneNumber=s),O(s)}),d(),u(35,"label",23),p(36,"Phone Number"),d()()(),u(37,"div",17)(38,"div",12)(39,"h4"),p(40,"Address"),d(),M(41,"div",24),d()(),u(42,"div",17)(43,"div",12)(44,"textarea",25),Y("ngModelChange",function(s){return P(o),K(i.model.description,s)||(i.model.description=s),O(s)}),d(),u(45,"label",26),p(46,"Company Description"),d()()(),u(47,"div",11)(48,"div",12)(49,"input",27),Y("ngModelChange",function(s){return P(o),K(i.model.licenseNumber,s)||(i.model.licenseNumber=s),O(s)}),d(),u(50,"label",28),p(51,"License Number"),d()()(),u(52,"div",11)(53,"div",12)(54,"input",29),Y("ngModelChange",function(s){return P(o),K(i.model.companyName,s)||(i.model.companyName=s),O(s)}),d(),u(55,"label",30),p(56,"Company Name"),d()()(),u(57,"div",11)(58,"div",12)(59,"input",31),Y("ngModelChange",function(s){return P(o),K(i.model.contactEmail,s)||(i.model.contactEmail=s),O(s)}),d(),u(60,"label",32),p(61,"Contact Email"),d()()(),u(62,"div",11)(63,"div",12)(64,"input",33),Y("ngModelChange",function(s){return P(o),K(i.model.contactPhone,s)||(i.model.contactPhone=s),O(s)}),d(),u(65,"label",34),p(66,"Contact Phone"),d()()()(),u(67,"div",35)(68,"button",36),M(69,"i",37),p(70,"Register "),d()()()()()()()()}if(e&2){let o=li(10);m(14),q("ngModel",i.model.firstName),m(5),q("ngModel",i.model.lastName),m(5),q("ngModel",i.model.email),m(5),q("ngModel",i.model.password),m(5),q("ngModel",i.model.phoneNumber),m(10),q("ngModel",i.model.description),m(5),q("ngModel",i.model.licenseNumber),m(5),q("ngModel",i.model.companyName),m(5),q("ngModel",i.model.contactEmail),m(5),q("ngModel",i.model.contactPhone),m(4),x("disabled",!o.valid)}},dependencies:[Ke,Ye,Xe,Pn,Pe,qe,Kt,et,wt],styles:['@charset "UTF-8";.company-register[_ngcontent-%COMP%]{width:90%;margin:50px auto}.card[_ngcontent-%COMP%]{box-shadow:0 10px 30px #0000001a;border:none;border-radius:1rem;overflow:hidden;transition:transform .3s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:scale(1.01)}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#a8e063);color:#fff;padding:1.5rem;border-bottom:none;display:flex;align-items:center;border-top-left-radius:1rem;border-top-right-radius:1rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:700}label[_ngcontent-%COMP%]{font-weight:600;color:#333}input.form-control[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-radius:.5rem;transition:border-color .3s ease-in-out,box-shadow .3s ease-in-out}input.form-control[_ngcontent-%COMP%]:focus, textarea.form-control[_ngcontent-%COMP%]:focus{border-color:#17a2b8;box-shadow:0 0 0 .2rem #17a2b840}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#a8e063);border:none;padding:.75rem 1.5rem;border-radius:50px;font-size:1.1rem;font-weight:600;transition:all .3s ease-in-out}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#006400,#32cd32);transform:translateY(-2px);box-shadow:0 8px 20px #17a2b84d}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin:0 15px}.btn[_ngcontent-%COMP%]{width:100%}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}}.fancy-map[_ngcontent-%COMP%]{height:250px;background:#dee2e6;box-shadow:0 0 12px #0003}']})};var eQ=["fileInput"];function tQ(n,t){if(n&1){let e=U();u(0,"div",22),M(1,"img",23),u(2,"button",24),I("click",function(){let o=P(e).$index,r=w(2);return O(r.removeImage(o))}),M(3,"i",25),d()()}if(n&2){let e=t.$implicit;m(),x("src",e,ce)}}function nQ(n,t){if(n&1&&(u(0,"h5",20),p(1,"Preview Images"),d(),u(2,"div",21),ue(3,tQ,4,1,"div",22,Ge),d()),n&2){let e=w();m(3),fe(e.photoPreviews)}}function iQ(n,t){n&1&&(u(0,"h5",9),p(1,"Room has no photos. Please add some!"),d())}var qg=class n{constructor(t){this.matDialog=t}removeImage(t){this.photoPreviews.splice(t,1),this.photos.splice(t,1),this.photoPreviews.length===0&&(this.fileInput.nativeElement.value="")}room={isAvailable:!0,roomType:""};fileInput;service=y(Un);router=y(ee);toastService=y(ae);photos=[];photoPreviews=[];ngOnInit(){this.room.isAvailable=!0}createNewRoom(){let t=new FormData;t.append("IsAvailable",this.room.isAvailable.toString()),t.append("PricePerNight",this.room.pricePerNight.toString()),t.append("RoomType",this.room.roomType.toString()),this.photos.map(i=>{t.append("Photos",i)});let e=this.matDialog.open(We,{disableClose:!0});this.service.addNewRoom(t).subscribe({next:i=>{e.close(),this.room=i,this.toastService.success("Room Created Successfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.router.navigate(["/hotel/dashboard"]),this.photos=[]},error:i=>{e.close();let o="";i.error.errors.map(r=>o+=r+`
`),this.toastService.error(o,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}toFormData(t){let e=new FormData;return Object.entries(t).forEach(([i,o])=>{o!=null&&e.append(i,o.toString())}),e}addRoomImages(t){let e=t.target;if(e.files!=null&&e.files.length>0)for(let i=0;i<e.files.length;i++){this.photos.push(e.files[i]);let o=new FileReader;o.onload=()=>{let r=o.result;this.photoPreviews.push(r)},o.readAsDataURL(e.files[i])}console.log("number of photos : "+this.photos.length)}static \u0275fac=function(e){return new(e||n)(D(ne))};static \u0275cmp=F({type:n,selectors:[["app-create-room"]],viewQuery:function(e,i){if(e&1&&Tt(eQ,5),e&2){let o;Ct(o=xt())&&(i.fileInput=o.first)}},decls:31,vars:3,consts:[["fileInput",""],[1,"create-room","py-5","bg-light"],[1,"container"],[1,"card","shadow-lg","rounded-4","p-5","bg-white"],[1,"display-5","fw-bold","text-primary","mb-3"],[1,"text-muted","fs-5"],[1,"room-info","mt-4"],[1,"text-dark","fw-semibold","border-bottom","pb-2","mb-5"],[1,"text-success","mb-3"],[1,"text-danger","mt-4","mb-5"],["novalidate","",1,"needs-validation",3,"ngSubmit"],[1,"form-group","mb-4"],["for","roomType",1,"form-label"],["id","roomType","type","text","placeholder","Enter Room Type","name","type","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","roomPrice",1,"form-label"],["id","roomPrice","type","number","placeholder","Enter Room Price","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","images",1,"form-label"],["type","file","id","images","multiple","",1,"form-control",3,"change"],[1,"d-flex","justify-content-end"],["type","submit",1,"btn","btn-outline-primary","px-5","py-2","rounded-pill","fw-bold","shadow-sm"],[1,"text-secondary","mt-4","mb-3"],[1,"photo-slider","mb-4"],[1,"photo","position-relative","shadow"],["alt","Profile Photo",1,"img-fluid","rounded",3,"src"],[1,"btn","btn-sm","btn-danger","position-absolute","top-0","end-0","m-2",3,"click"],[1,"bi","bi-trash-fill"]],template:function(e,i){if(e&1){let o=U();u(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),p(4,"Add New Room"),d(),u(5,"p",5),p(6,"Follow the steps below to add a new room for your hotel."),d(),u(7,"div",6)(8,"h2",7),p(9,"Room Information"),d(),u(10,"h4",8),p(11,"Room Photos"),d(),S(12,nQ,5,0)(13,iQ,2,0,"h5",9),u(14,"form",10),I("ngSubmit",function(){return P(o),O(i.createNewRoom())}),u(15,"div",11)(16,"label",12),p(17,"Room Type"),d(),u(18,"input",13),Y("ngModelChange",function(s){return P(o),K(i.room.roomType,s)||(i.room.roomType=s),O(s)}),d()(),u(19,"div",11)(20,"label",14),p(21,"Price Per Night (USD)"),d(),u(22,"input",15),Y("ngModelChange",function(s){return P(o),K(i.room.pricePerNight,s)||(i.room.pricePerNight=s),O(s)}),d()(),u(23,"div",11)(24,"label",16),p(25,"Upload Room Images"),d(),u(26,"input",17,0),I("change",function(s){return P(o),O(i.addRoomImages(s))}),d()(),u(28,"div",18)(29,"button",19),p(30,"Next"),d()()()()()()()}e&2&&(m(12),ze(i.photoPreviews.length!==0?12:13),m(6),q("ngModel",i.room.roomType),m(4),q("ngModel",i.room.pricePerNight))},dependencies:[J,Ke,Ye,Xe,Pn,Pe,qe,Kt,et,wt],styles:[".create-room[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 20px}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.room-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{font-weight:600}.photo-slider[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.photo[_ngcontent-%COMP%]{width:160px;height:160px;border-radius:10px;overflow:hidden;border:1px solid #dee2e6;position:relative;transition:transform .3s ease}.photo[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.photo[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent}input[type=file][_ngcontent-%COMP%]{height:auto!important;padding:10px}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:12px;border:1px solid #ced4da;padding:12px;font-size:1rem;transition:border-color .2s ease-in-out}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;outline:none;box-shadow:0 0 0 .2rem #0d6efd40}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0d6efd;color:#fff}button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{pointer-events:none}@media (max-width: 576px){.photo[_ngcontent-%COMP%]{width:100%;height:auto}}"]})};var Yg=class n{constructor(t,e,i,o){this.service=t;this.data=e;this.dialogRef=i;this.matDialog=o}ngOnInit(){this.id=this.data.id,this.itemName=this.data.itemName}id;itemName;toastService=y(ae);confirm(){let t=this.matDialog.open(We,{disableClose:!0});this.service.deleteRoom(this.id).subscribe({next:e=>{t.close(),this.toastService.success("Room Deleted Successfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),y(ee).navigate(["/hotel/rooms"])},error:e=>{t.close();let i="";e.error.errors.map(o=>i+=o+`
`),this.toastService.error(i,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.dialogRef.close(!0)}cancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||n)(D(Un),D(fi),D(Sn),D(ne))};static \u0275cmp=F({type:n,selectors:[["room-delete-package"]],decls:8,vars:1,consts:[[1,"delete-dialog"],[1,"buttons"],[3,"click"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h4"),p(2),d(),u(3,"div",1)(4,"button",2),I("click",function(){return i.confirm()}),p(5,"Delete"),d(),u(6,"button",2),I("click",function(){return i.cancel()}),p(7,"Cancel"),d()()()),e&2&&(m(2),T("Are Sure You want To Delete This ",i.itemName,""))},dependencies:[gs],styles:[".delete-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px}.delete-dialog[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:0 20px;margin:0 auto;height:100px;gap:20px}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:10px;padding:8px;width:100px}.delete-dialog[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:700}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#2196f3;color:#fff}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{color:#000;border:1px solid black;background-color:#fff}"]})};var oQ=n=>[n];function rQ(n,t){if(n&1){let e=U();u(0,"div",5)(1,"div",6)(2,"div",7)(3,"div"),M(4,"img",8),u(5,"h5",9),p(6),d(),u(7,"p",10)(8,"strong"),p(9,"Price Per Night:"),d(),p(10),d(),u(11,"p",11)(12,"strong"),p(13,"Available:"),d(),u(14,"span",12),p(15),d()()(),u(16,"div",13)(17,"a",14),p(18,"Edit"),d(),u(19,"button",15),I("click",function(){let o=P(e).$implicit,r=w(2);return O(r.openDeleteDialog(o.roomId,"Room"))}),p(20," Delete "),d()()()()()}if(n&2){let e=t.$implicit,i=t.$index;m(),rn("--card-index: ",i,";"),m(3),Ws("alt","",e.roomType," Image"),x("src",e.photoUrls[0],ce),m(2),A(e.roomType),m(4),T(" $",e.pricePerNight," "),m(4),x("ngClass",e.isAvailable?"bg-success":"bg-danger"),m(),T(" ",e.isAvailable?"Yes":"No"," "),m(2),x("routerLink",Qe(11,oQ,e.roomId))}}function sQ(n,t){if(n&1&&(u(0,"div",1)(1,"h2",3),p(2,"All Rooms"),d(),u(3,"div",4),ue(4,rQ,21,13,"div",5,Ge),d()()),n&2){let e=w();m(4),fe(e.rooms)}}function aQ(n,t){n&1&&(u(0,"div",2),p(1," No Rooms In This Hotel "),d())}var Kg=class n{constructor(t){this.matDialog=t}rooms=[];toastService=y(ae);ngOnInit(){this.service.roomsDashBoard$.subscribe({next:t=>{this.rooms=t},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.service.getHotelDashBoard()}service=y(Un);openDeleteDialog(t,e){this.matDialog.open(Yg,{data:{id:t,itemName:e}})}static \u0275fac=function(e){return new(e||n)(D(ne))};static \u0275cmp=F({type:n,selectors:[["app-rooms-table"]],decls:3,vars:1,consts:[[1,"rooms","position-relative","container","my-5"],[1,"card","shadow-lg","border-0","p-4","rounded-4","card-animated"],[1,"alert","alert-warning","text-center","mt-5","fs-5","no-rooms-message"],[1,"mb-4","text-primary","fw-bold","text-center","section-heading"],[1,"row","g-4","row-animated"],[1,"col-md-6","col-lg-4"],[1,"card","fancy-table","h-100","card-item-animated"],[1,"card-body","d-flex","flex-column","justify-content-between"],[1,"img-fluid","room-image",3,"src","alt"],[1,"card-title","text-primary"],[1,"card-text","mb-2"],[1,"card-text"],[1,"badge",3,"ngClass"],[1,"mt-3"],[1,"btn","btn-sm","btn-outline-primary","me-2","fancy-btn","edit-btn",3,"routerLink"],[1,"btn","btn-sm","btn-outline-danger","fancy-btn","delete-btn",3,"click"]],template:function(e,i){e&1&&(u(0,"div",0),S(1,sQ,6,0,"div",1)(2,aQ,2,0,"div",2),d()),e&2&&(m(),ze(i.rooms?1:2))},dependencies:[ie,J,Et],styles:['.rooms[_ngcontent-%COMP%]{position:relative;padding:0;background:#fff;min-height:calc(100vh - 100px);overflow-y:auto}.section-heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px;color:#000;border-left:5px solid goldenrod;padding-left:12px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.row-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.card-animated[_ngcontent-%COMP%]{background:#ffffff4d;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:15px;box-shadow:0 8px 25px #0006;transition:transform .4s cubic-bezier(.4,0,.2,1),box-shadow .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out}.card-animated[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 35px #d4a01780;background:#ffffff59;animation:_ngcontent-%COMP%_glowPulse 3.5s ease-in-out infinite}.card-item-animated[_ngcontent-%COMP%]{transition:all .4s ease;animation:slideInMobile .6s ease-out;animation-delay:calc(var(--card-index) * .2s);background:linear-gradient(135deg,#fff,#f0f0f0);border-radius:15px;box-shadow:0 4px 15px #0000001a}.card-item-animated[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 6px 20px #d4a0174d}.room-image[_ngcontent-%COMP%]{transition:all .4s ease;margin-bottom:10px;border-radius:8px;width:100%;height:200px;object-fit:cover}.room-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.card-title[_ngcontent-%COMP%]{font-weight:600;color:#000;margin-top:10px}.card-text[_ngcontent-%COMP%]{color:#333;font-size:.95rem;margin-bottom:5px}.badge[_ngcontent-%COMP%]{font-size:.9rem;padding:4px 8px;border-radius:10px}.fancy-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#daa520,#d4a017);color:#fff;font-weight:600;letter-spacing:.5px;padding:6px 12px;border:none;border-radius:20px;box-shadow:0 2px 10px #0000001a;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;display:inline-flex;align-items:center;gap:6px}.fancy-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 4px 15px #d4a01766;background:linear-gradient(135deg,#e6b800,#daa520)}.fancy-btn[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_ripple .6s ease-out forwards}.fancy-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98);box-shadow:0 1px 5px #0003}.edit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3)}.edit-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#0056b3,#036)}.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#a71d2a)}.delete-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#a71d2a,#800020)}.no-rooms-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out;background:#ffff001a;border-radius:10px;padding:20px}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_ripple{to{width:200px;height:200px;opacity:0}}@keyframes _ngcontent-%COMP%_glowPulse{0%{box-shadow:0 12px 35px #0006}20%{box-shadow:0 12px 30px #daa520}50%{box-shadow:0 12px 35px #0006}70%{box-shadow:0 12px 30px #daa520}to{box-shadow:0 12px 35px #0006}}@media (max-width: 576px){.col-md-6[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.room-image[_ngcontent-%COMP%]{height:150px}.card-title[_ngcontent-%COMP%]{font-size:1.2rem}.card-text[_ngcontent-%COMP%]{font-size:.9rem}.fancy-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:5px 10px}}']})};function lQ(n,t){n&1&&(u(0,"div",6),M(1,"mat-progress-spinner",7),d())}function cQ(n,t){if(n&1&&(u(0,"div",21),M(1,"img",22),d()),n&2){let e=t.$implicit;m(),x("src",e,ce)}}function dQ(n,t){if(n&1){let e=U();u(0,"div")(1,"div",8),S(2,cQ,2,1,"div",9),d(),u(3,"p",10),p(4,"Manage your room details and images below"),d(),u(5,"h2",11),p(6,"Room Info"),d(),u(7,"form",12),I("ngSubmit",function(){P(e);let o=w();return O(o.editRoom())}),u(8,"div",13)(9,"label",14),p(10,"Room Type"),d(),u(11,"input",15),Y("ngModelChange",function(o){P(e);let r=w();return K(r.room.roomType,o)||(r.room.roomType=o),O(o)}),d()(),u(12,"div",13)(13,"label",14),p(14,"Price Per Night"),d(),u(15,"input",16),Y("ngModelChange",function(o){P(e);let r=w();return K(r.room.pricePerNight,o)||(r.room.pricePerNight=o),O(o)}),d()(),u(16,"div",17)(17,"label",14),p(18,"Add Images"),d(),u(19,"input",18,0),I("change",function(o){P(e);let r=w();return O(r.addPhotosToForm(o))}),d()(),u(21,"div",19)(22,"button",20),p(23," \u{1F4BE} Save Changes "),d()()()()}if(n&2){let e=w();m(2),x("ngForOf",e.room.photoUrls),m(9),Gs("value",e.room.roomType),q("ngModel",e.room.roomType),m(4),q("ngModel",e.room.pricePerNight)}}var Zg=class n{constructor(t){this.route=t}service=y(Un);room={roomId:"",roomType:"",pricePerNight:0,photoUrls:[],isAvailable:!1};id="";router=y(ee);photos=[];isRoomReqFinished=!1;ngOnInit(){this.route.data.subscribe({next:t=>{this.id=t.id}}),this.service.hotelDashBoard$.subscribe({next:t=>{this.isRoomReqFinished=!0;let e=t.rooms?.find(i=>i.roomId===this.id);e&&(this.room=e),console.log("room is : "+this.room),console.log(this.room.roomType)}}),this.service.getHotelDashBoard()}editRoom(){let t=new FormData;t.append("RoomType",this.room.roomType.toString()),t.append("PricePerNight",this.room.pricePerNight.toString()),t.append("IsAvailable","true"),this.photos.map(e=>t.append("Photos",e)),this.service.editRoom(t,this.room.roomId)}addPhotosToForm(t){this.photos=[];let e=t.target;if(e.files!=null&&e.files.length>0)for(let i=0;i<e.files.length;i++)this.photos.push(e.files[i]);console.log("number of photos : "+this.photos.length)}static \u0275fac=function(e){return new(e||n)(D(Se))};static \u0275cmp=F({type:n,selectors:[["app-manage-room"]],decls:6,vars:2,consts:[["fileInput",""],[1,"manage-profile","fancy-form","mb-5"],[1,"container","py-5","px-4","rounded-4","shadow-lg","bg-light-subtle"],[1,"mb-4","fw-bold","text-primary","text-center"],["class","d-flex justify-content-center align-items-center py-5",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","py-5"],["diameter","40","color","accent","mode","indeterminate"],[1,"photo-slider","mb-4","d-flex","justify-content-center","flex-wrap","gap-3"],["class","photo shadow-sm border rounded-3 overflow-hidden",4,"ngFor","ngForOf"],[1,"text-muted","text-center","mb-4"],[1,"fw-semibold","mb-3"],[1,"row","g-3",3,"ngSubmit"],[1,"col-md-6"],[1,"form-label","fw-medium"],["type","text","placeholder","Enter Room Type","name","roomType","required","",1,"form-control","border-primary",3,"ngModelChange","ngModel","value"],["type","number","placeholder","Enter Price Per Night","name","pricePerNight","required","",1,"form-control","border-primary",3,"ngModelChange","ngModel"],[1,"col-12"],["type","file","multiple","",1,"form-control",3,"change"],[1,"col-12","text-end"],["type","submit",1,"btn","btn-gradient","btn-lg","rounded-pill","mt-3","px-5"],[1,"photo","shadow-sm","border","rounded-3","overflow-hidden"],["alt","Room Photo",1,"img-fluid",2,"max-height","200px",3,"src"]],template:function(e,i){e&1&&(u(0,"div",1)(1,"div",2)(2,"h1",3),p(3,"\u{1F6CF}\uFE0F Room Profile"),d(),S(4,lQ,2,0,"div",4)(5,dQ,24,4,"div",5),d()()),e&2&&(m(4),x("ngIf",!i.isRoomReqFinished),m(),x("ngIf",i.isRoomReqFinished&&i.room))},dependencies:[J,rt,ye,Ke,Ye,Xe,Pn,Pe,qe,Kt,et,wt,Pt],styles:[".fancy-form[_ngcontent-%COMP%]{font-family:Segoe UI,Roboto,sans-serif;color:#343a40;background:linear-gradient(to bottom right,#f0f4f8,#fff);border-radius:20px;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}.fancy-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .fancy-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#084c61;font-weight:700;text-shadow:1px 1px 0 #e1e1e1}.photo-slider[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.photo[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:12px;box-shadow:0 5px 15px #0000001a;transition:transform .3s ease}.photo-slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:120px;width:120px;border-radius:12px;border:2px solid #ced4da;object-fit:cover;transition:transform .3s ease}.photo-slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1);cursor:pointer;box-shadow:0 0 10px #0d6efd66}input.form-control[_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{border-radius:10px;border:1px solid #adb5bd;padding:12px 15px;transition:all .3s;background-color:#fefefe}input.form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 8px #0d6efd40}.custom-file[_ngcontent-%COMP%]{height:150px;background-color:#f8f9fa;border:2px dashed #ced4da;display:flex;align-items:center;justify-content:center;color:#6c757d;font-weight:500;text-align:center;transition:background-color .3s ease}.custom-file[_ngcontent-%COMP%]:hover{background-color:#e9ecef;cursor:pointer}button.btn[_ngcontent-%COMP%]{font-weight:600;transition:all .3s ease-in-out;background:linear-gradient(to right,#0d6efd,#6610f2);color:#fff;border:none}button.btn[_ngcontent-%COMP%]:hover{background:linear-gradient(to left,#0d6efd,#6610f2);transform:translateY(-2px);box-shadow:0 4px 10px #0d6efd4d}.table-spinner[_ngcontent-%COMP%]{height:150px;position:relative}.table-spinner[_ngcontent-%COMP%] > mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};var Qg=class n{constructor(t,e){this.authService=t;this.router=e;this.username=localStorage.getItem("email")}dropdownOpen=!1;username="";showDropdown(){this.dropdownOpen=!0}hideDropdown(){this.dropdownOpen=!1}logout(){this.authService.logout(),this.router.navigate(["/login"],{replaceUrl:!0})}static \u0275fac=function(e){return new(e||n)(D(Ce),D(ee))};static \u0275cmp=F({type:n,selectors:[["app-tourist-navbar"]],decls:21,vars:5,consts:[[1,"tourist-navbar"],[1,"navbar-left"],["src","/assets/images/logo.svg","alt","Logo",1,"logo"],["routerLink","/tourist/dashboard",1,"nav-link"],["routerLink","/tourist/dashboard/trips",1,"nav-link"],["routerLink","/tourist/dashboard/messages",1,"nav-link"],["routerLink","/tourist/dashboard/hotel-offers",1,"nav-link"],["routerLink","/tourist/dashboard/guide-offers",1,"nav-link"],[1,"navbar-right",3,"mouseenter","mouseleave"],["src","/assets/images/profile.jpg","alt","Profile","id","profileDropdown",1,"profile-icon","dropdown-toggle",2,"cursor","pointer"],["aria-labelledby","profileDropdown",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-header"],[1,"dropdown-item",3,"click"]],template:function(e,i){e&1&&(u(0,"nav",0)(1,"div",1),M(2,"img",2),u(3,"a",3),p(4,"Home"),d(),u(5,"a",4),p(6,"Trips"),d(),u(7,"a",5),p(8,"Messages"),d(),u(9,"a",6),p(10,"Hotel Offers"),d(),u(11,"a",7),p(12,"Tour Guide Offers"),d()(),u(13,"div",8),I("mouseenter",function(){return i.showDropdown()})("mouseleave",function(){return i.hideDropdown()}),M(14,"img",9),u(15,"ul",10)(16,"li",11),p(17),d(),u(18,"li")(19,"button",12),I("click",function(){return i.logout()}),p(20,"Sign Out"),d()()()()()),e&2&&(m(14),tt("show",i.dropdownOpen),m(),tt("show",i.dropdownOpen),m(2),T("Welcome, ",i.username||"Tourist","!"))},dependencies:[Le,ie],styles:[".tourist-navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fff;padding:.75rem 2rem;box-shadow:0 2px 8px #0000000a;border-radius:0 0 12px 12px;margin-bottom:2rem}.navbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem}.logo[_ngcontent-%COMP%]{height:40px;margin-right:1.5rem}.nav-link[_ngcontent-%COMP%]{color:#222;font-weight:500;text-decoration:none;transition:color .2s}.nav-link[_ngcontent-%COMP%]:hover{color:#c68919}.navbar-right[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.profile-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:2px solid #c68919;object-fit:cover}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:48px;right:0;min-width:180px;background:#fff;border:1px solid #eee;border-radius:8px;box-shadow:0 4px 16px #00000014;opacity:0;pointer-events:none;transition:opacity .2s;z-index:100}.dropdown-menu.show[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.dropdown-header[_ngcontent-%COMP%]{font-weight:600;color:#c68919;padding:.75rem 1rem .5rem}.dropdown-item[_ngcontent-%COMP%]{padding:.5rem 1rem;color:#222;background:none;border:none;width:100%;text-align:left;cursor:pointer;font-size:1rem}.dropdown-item[_ngcontent-%COMP%]:hover{background:#f7f3e9;color:#c68919}"]})};var uQ=()=>[Ye,Bi,ji,Xe,Pn,pi,Pe,qe,et,wt,Et,ye],vo=n=>({animate:n});function fQ(n,t){n&1&&M(0,"mat-progress-spinner")}function pQ(n,t){if(n&1&&(u(0,"button",15),p(1,"Next"),d()),n&2){let e=w(3);x("ngClass",Qe(1,vo,e.isBookingReqFinished))}}function hQ(n,t){if(n&1){let e=U();u(0,"form",8),I("ngSubmit",function(){P(e);let o=w(2);return O(o.saveData())}),u(1,"div")(2,"label",9),p(3,"Booking Date"),d(),u(4,"input",10),Y("ngModelChange",function(o){P(e);let r=w(2);return K(r.BookingDate,o)||(r.BookingDate=o),O(o)}),d()(),u(5,"div")(6,"label",9),p(7,"Price"),d(),u(8,"input",11),Y("ngModelChange",function(o){P(e);let r=w(2);return K(r.booking.totalPrice,o)||(r.booking.totalPrice=o),O(o)}),d()(),u(9,"div")(10,"label",9),p(11,"Status"),d(),u(12,"select",12),Y("ngModelChange",function(o){P(e);let r=w(2);return K(r.booking.status,o)||(r.booking.status=o),O(o)}),u(13,"option",13),p(14,"Pending"),d(),u(15,"option",13),p(16,"Confirmed"),d(),u(17,"option",13),p(18,"Cancelled"),d()()(),S(19,pQ,2,3,"button",14),d()}if(n&2){let e=w(2);m(2),x("ngClass",Qe(16,vo,e.isBookingReqFinished)),m(2),q("ngModel",e.BookingDate),x("ngClass",Qe(18,vo,e.isBookingReqFinished)),m(2),x("ngClass",Qe(20,vo,e.isBookingReqFinished)),m(2),q("ngModel",e.booking.totalPrice),x("ngClass",Qe(22,vo,e.isBookingReqFinished)),m(2),x("ngClass",Qe(24,vo,e.isBookingReqFinished)),m(2),q("ngModel",e.booking.status),x("ngClass",Qe(26,vo,e.isBookingReqFinished)),m(),x("ngValue","Pending")("ngClass",Qe(28,vo,e.isBookingReqFinished)),m(2),x("ngValue","Confirmed")("ngClass",Qe(30,vo,e.isBookingReqFinished)),m(2),x("ngValue","Cancelled")("ngClass",Qe(32,vo,e.isBookingReqFinished)),m(2),x("ngIf",e.isBookingReqFinished)}}function mQ(n,t){if(n&1&&(u(0,"h2",6),p(1,"Booking Information "),d(),S(2,hQ,20,34,"form",7)),n&2){let e=w();x("ngClass",Qe(2,vo,e.isBookingReqFinished)),m(2),x("ngIf",e.isBookingReqFinished)}}function gQ(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}function _Q(n,t){n&1&&(u(0,"div",16),M(1,"mat-progress-spinner",17),d())}var Xg=class n{constructor(t,e){this.route=t;this.matDialog=e}id;isBookingReqFinished=!1;isEditing=!0;booking;service=y(er);toastService=y(ae);router=y(ee);ngOnInit(){this.route.paramMap.subscribe(t=>{this.id=t.get("id")||"",console.log("Booking ID from paramMap:",this.id),this.id&&this.service.getBooking(this.id).subscribe({next:e=>{this.isBookingReqFinished=!0,this.booking=e;let i=new Date(this.booking.bookingDate).toISOString().substring(0,10);console.log("date : "+i)},error:e=>{let i="";e.error.errors.map(o=>i+=o+`
`),this.toastService.error(i,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}})})}saveData(){let t=this.matDialog.open(We,{disableClose:!0});this.service.editBooking(this.booking).subscribe({next:e=>{t.close(),this.booking=e,this.isEditing=!1,this.toastService.success("Booking Edited Succcessfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.router.navigate(["/tourist/dashboard"],{replaceUrl:!0})},error:e=>{t.close(),console.log(e),this.toastService.error("Error while creating Booking,try again later!","\u274C Error",{toastClass:"ngx-toastr custom-error"}),this.router.navigate(["/tourist/dashboard"],{replaceUrl:!0})}})}get BookingDate(){return new Date(this.booking.bookingDate).toISOString().substring(0,10)}set BookingDate(t){let e=new Date(t);e.setHours(12,0,0,0),this.booking.bookingDate=e.toISOString()}static \u0275fac=function(e){return new(e||n)(D(Se),D(ne))};static \u0275cmp=F({type:n,selectors:[["app-edit-booking"]],features:[En([Qg])],decls:12,vars:2,consts:[[2e3,null],[1,"edit-booking","pt-5","mb-2"],[1,"container"],[1,"back-button-container"],["routerLink","/tourist/dashboard",1,"btn","btn-outline-primary","back-btn"],[1,"booking-info","pt-3"],[1,"mb-4","fw-semibold","text-purple",3,"ngClass"],["class","d-flex flex-column gap-3 animate-x",3,"ngSubmit",4,"ngIf"],[1,"d-flex","flex-column","gap-3","animate-x",3,"ngSubmit"],[1,"form-label",3,"ngClass"],["type","date","name","date","placeholder","Enter Booking Date",1,"form-control","border-purple",3,"ngModelChange","ngModel","ngClass"],["type","number","name","price","placeholder","Enter Booking Price",1,"form-control","border-purple",3,"ngModelChange","ngModel","ngClass"],["name","status",1,"form-select","border-purple",3,"ngModelChange","ngModel","ngClass"],[3,"ngValue","ngClass"],["class","btn btn-purple align-self-end mt-3 px-4 py-2 animate-x",3,"ngClass",4,"ngIf"],[1,"btn","btn-purple","align-self-end","mt-3","px-4","py-2","animate-x",3,"ngClass"],[1,"loading-container","mt-5"],["color","accent","diameter","40","mode","indeterminate"]],template:function(e,i){e&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),p(4," \u{1F519} Back to Dashboard "),d()(),u(5,"div",5),S(6,fQ,1,0,"mat-progress-spinner")(7,mQ,3,4)(8,gQ,2,0)(9,_Q,2,0),Ee(10,7,uQ,8,9,null,0,null,Me),d()()()),e&2&&(m(6),ze(i.isEditing?6:-1),m(4),De(i.isBookingReqFinished))},dependencies:[Pt,Ke,J,Le,ie],styles:["[_ngcontent-%COMP%]:root{--purple-main: #6f42c1;--fancy-pink: #ff6bcb;--fancy-blue: #6bc5ff;--fancy-green: #4cd964;--soft-white: #f9f9f9}.colorful-container[_ngcontent-%COMP%]{border-radius:1rem}.fancy-heading[_ngcontent-%COMP%]{-webkit-text-fill-color:transparent;font-size:2rem}.text-fancy[_ngcontent-%COMP%]{color:#6f42c1;font-weight:600}.fancy-input[_ngcontent-%COMP%]{border:2px solid #6f42c1;border-radius:.75rem;padding:10px;background:#fff;box-shadow:0 0 5px #6f42c11a;transition:box-shadow .3s,transform .3s}.fancy-input[_ngcontent-%COMP%]:focus{border-color:#6bc5ff;box-shadow:0 0 10px #6bc5ff;transform:scale(1.02)}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.btn-purple[_ngcontent-%COMP%]{background-color:#6f42c1;color:#fff;border:none;border-radius:50px;padding:10px 24px;font-weight:600;cursor:pointer}.animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlide 1.5s ease-out}@keyframes _ngcontent-%COMP%_fadeSlide{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-x[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeSlidex 1.5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeSlidex{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}"]})};function vQ(n,t){n&1&&(u(0,"div",6)(1,"h2"),p(2,"No Packages Were Made"),d()())}function bQ(n,t){if(n&1){let e=U();u(0,"div",8)(1,"div",9),M(2,"img",10),u(3,"div",11)(4,"h5",12),p(5),d(),u(6,"p",13)(7,"strong"),p(8,"Start:"),d(),p(9),d(),u(10,"p",14)(11,"strong"),p(12,"Price:"),d(),p(13),d()(),u(14,"button",15),I("click",function(){let o=P(e).$implicit,r=w(3);return O(r.openDeleteDialog(o.packageId))}),M(15,"i",16),d()()()}if(n&2){let e=t.$implicit;m(2),x("src",e.photoUrls[0],ce),m(3),T(" ",e.packageName," "),m(4),T(" ",e.startDate.split("T")[0]," "),m(4),T(" $",e.price," ")}}function yQ(n,t){if(n&1&&(u(0,"div",7),ue(1,bQ,16,4,"div",8,Ge),d()),n&2){let e=w(2);m(),fe(e.packages)}}function CQ(n,t){if(n&1&&S(0,vQ,3,0,"div",6)(1,yQ,3,0,"div",7),n&2){let e=w();ze(e.packages.length===0?0:1)}}function xQ(n,t){n&1&&(u(0,"div",6),M(1,"mat-progress-spinner",17),d())}var Jg=class n{constructor(t){this.matDialog=t}openDeleteDialog(t){this.matDialog.open(tc,{data:{id:t}})}isPackagesReqFinished=!1;packages=[];service=y($n);toastService=y(ae);ngOnInit(){this.service.packages$.subscribe({next:t=>{this.packages=t,this.isPackagesReqFinished=!0},error:t=>{this.toastService.error("Error fetching packages,Log out and try later","\u274C Error",{toastClass:"ngx-toastr custom-error"}),console.error("Error fetching packages:",t)}}),this.service.getCompanyPackages()}static \u0275fac=function(e){return new(e||n)(D(ne))};static \u0275cmp=F({type:n,selectors:[["app-show-packages"]],decls:14,vars:1,consts:[[2e3,null],[1,"booking-management","mb-2"],[1,"container"],[1,"back-button-container"],["routerLink","/company/dashboard",1,"btn","btn-outline-primary","back-btn"],[1,"incoming-bookings","mt-5"],[1,"loading-container","mt-5"],[1,"row"],[1,"col-12","mb-3"],[1,"card","package-card","d-flex","flex-row","align-items-center"],["alt","Package Image",1,"package-thumb",3,"src"],[1,"card-body","p-3"],[1,"card-title","mb-1","text-primary"],[1,"card-text","mb-1"],[1,"card-text","mb-0"],[1,"delete-btn","ms-auto","ml-2","btn","btn-danger",3,"click"],[1,"fas","fa-trash"],["color","accent","diameter","40","mode","indeterminate"]],template:function(e,i){e&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),p(4," \u{1F519} Back to Dashboard "),d()(),u(5,"h1"),p(6,"Package Management"),d(),u(7,"div",5)(8,"h2"),p(9,"Company Packages"),d(),S(10,CQ,2,1)(11,xQ,2,0),Ee(12,10,null,11,null,null,0,null,Me),d()()()),e&2&&(m(12),De(i.isPackagesReqFinished))},dependencies:[yn,Pt,ie],styles:[".back-button-container[_ngcontent-%COMP%]{margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInSlide .6s ease-in-out}.back-btn[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;border-radius:50px;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;box-shadow:0 2px 6px #00000014}.back-btn[_ngcontent-%COMP%]:hover{background-color:#e7f1ff;color:#0056b3;transform:translate(-3px)}.booking-management[_ngcontent-%COMP%]{background:#f9fafb;padding:40px 0;min-height:100vh;animation:_ngcontent-%COMP%_fadeInPage .8s ease-in-out both}@keyframes _ngcontent-%COMP%_fadeInPage{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.booking-management[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .booking-management[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#2c3e50;animation:_ngcontent-%COMP%_fadeInSlide 1s ease-in-out}@keyframes _ngcontent-%COMP%_fadeInSlide{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.package-card[_ngcontent-%COMP%]{height:150px;border:none;border-radius:.75rem;overflow:hidden;background:#fff;display:flex;align-items:center;box-shadow:0 2px 8px #00000012;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_fadeInUp .6s ease-in-out both}.package-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 10px 18px #0000001f}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.package-thumb[_ngcontent-%COMP%]{width:120px;height:100%;object-fit:cover;flex-shrink:0;transition:transform .4s ease}.package-card[_ngcontent-%COMP%]:hover   .package-thumb[_ngcontent-%COMP%]{transform:scale(1.05) rotate(1deg)}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;animation:_ngcontent-%COMP%_fadeInText .8s ease-in-out both}.delete-btn[_ngcontent-%COMP%]{margin-right:8px}@keyframes _ngcontent-%COMP%_fadeInText{0%{opacity:0;transform:translate(15px)}to{opacity:1;transform:translate(0)}}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:.25rem;color:#007bff;transition:color .3s ease}.package-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{color:#0056b3}.card-text[_ngcontent-%COMP%]{font-size:.9rem;color:#555;transition:color .3s ease}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]})};function wQ(n,t){n&1&&(u(0,"div",6)(1,"h2"),p(2,"No Bookings Were Made"),d()())}function MQ(n,t){if(n&1&&(u(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),p(4),d(),u(5,"p",12)(6,"strong"),p(7,"Booking Date:"),d(),p(8),d(),u(9,"p",13)(10,"strong"),p(11,"Price:"),d(),p(12),d()()()()),n&2){let e=t.$implicit;m(4),T(" ",e.packageName," "),m(4),T(" ",e.bookingDate.split("T")[0]," "),m(4),T(" $",e.totalPrice," ")}}function EQ(n,t){if(n&1&&(u(0,"div",7),ue(1,MQ,13,3,"div",8,Ge),d()),n&2){let e=w(2);m(),fe(e.bookings)}}function DQ(n,t){if(n&1&&S(0,wQ,3,0,"div",6)(1,EQ,3,0,"div",7),n&2){let e=w();ze(e.bookings.length===0?0:1)}}function SQ(n,t){n&1&&(u(0,"div",6),M(1,"mat-progress-spinner",14),d())}var e0=class n{constructor(t,e){this.route=t;this.matDialog=e}tourGuideService=y(Uo);bookings=[];isBookingReqFinished=!1;toastService=y(ae);ngOnInit(){this.tourGuideService.dashboard$.subscribe({next:t=>{this.isBookingReqFinished=!0,this.bookings=t.bookings},error:t=>{let e="";t.error.errors.map(i=>e+=i+`
`),this.toastService.error(e,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.tourGuideService.getTourGuideDashBoard()}static \u0275fac=function(e){return new(e||n)(D(Se),D(ne))};static \u0275cmp=F({type:n,selectors:[["app-manage-bookings"]],decls:14,vars:1,consts:[[2e3,null],[1,"booking-management","mb-2"],[1,"container"],[1,"back-button-container"],["routerLink","/tour-guide/dashboard",1,"btn","btn-outline-primary","back-btn"],[1,"incoming-bookings","mt-5"],[1,"loading-container","mt-5"],[1,"row"],[1,"col-12","mb-3"],[1,"card","package-card","d-flex","flex-row","align-items-center"],[1,"card-body","p-3"],[1,"card-title","mb-1","text-primary"],[1,"card-text","mb-1"],[1,"card-text","mb-0"],["color","accent","diameter","40","mode","indeterminate"]],template:function(e,i){e&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"a",4),p(4," \u{1F519} Back to Dashboard "),d()(),u(5,"h1"),p(6,"Booking Management"),d(),u(7,"div",5)(8,"h2"),p(9,"Tour Guide Bookings"),d(),S(10,DQ,2,1)(11,SQ,2,0),Ee(12,10,null,11,null,null,0,null,Me),d()()()),e&2&&(m(12),De(i.isBookingReqFinished))},dependencies:[Le,ie,yn,Pt,J],styles:[".back-button-container[_ngcontent-%COMP%]{margin-bottom:20px;animation:_ngcontent-%COMP%_fadeInSlide .6s ease-in-out}.back-btn[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;border-radius:50px;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;box-shadow:0 2px 6px #00000014}.back-btn[_ngcontent-%COMP%]:hover{background-color:#e7f1ff;color:#0056b3;transform:translate(-3px)}.booking-management[_ngcontent-%COMP%]{background:#f9fafb;padding:40px 0;min-height:100vh;animation:_ngcontent-%COMP%_fadeInPage .8s ease-in-out both}@keyframes _ngcontent-%COMP%_fadeInPage{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.booking-management[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .booking-management[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#2c3e50;animation:_ngcontent-%COMP%_fadeInSlide 1s ease-in-out}@keyframes _ngcontent-%COMP%_fadeInSlide{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.package-card[_ngcontent-%COMP%]{height:100px;border:none;border-radius:.75rem;overflow:hidden;background:#fff;display:flex;align-items:center;box-shadow:0 2px 8px #00000012;transition:transform .3s ease,box-shadow .3s ease;animation:_ngcontent-%COMP%_fadeInUp .6s ease-in-out both}.package-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 10px 18px #0000001f}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.package-thumb[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;flex-shrink:0;transition:transform .4s ease}.package-card[_ngcontent-%COMP%]:hover   .package-thumb[_ngcontent-%COMP%]{transform:scale(1.05) rotate(1deg)}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;animation:_ngcontent-%COMP%_fadeInText .8s ease-in-out both}.delete-btn[_ngcontent-%COMP%]{margin-right:8px}@keyframes _ngcontent-%COMP%_fadeInText{0%{opacity:0;transform:translate(15px)}to{opacity:1;transform:translate(0)}}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:.25rem;color:#007bff;transition:color .3s ease}.package-card[_ngcontent-%COMP%]:hover   .card-title[_ngcontent-%COMP%]{color:#0056b3}.card-text[_ngcontent-%COMP%]{font-size:.9rem;color:#555;transition:color .3s ease}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]})};var PQ=()=>[Xe,Pn,Pe,et,ye,wy];function OQ(n,t){n&1&&(u(0,"h2",9),p(1,"No Tour Packages are available"),d())}function IQ(n,t){if(n&1){let e=U();u(0,"div",25)(1,"input",27),I("change",function(o){P(e);let r=w(5);return O(r.editPackageDate(o))}),d()()}if(n&2){let e=w().$implicit;m(),qt("min",e.startDate.split("T")[0])("max",e.endDate.split("T")[0])}}function kQ(n,t){if(n&1){let e=U();u(0,"div",17)(1,"div",20),M(2,"img",21),d(),u(3,"div",22)(4,"h3",23),p(5),d(),u(6,"p",24)(7,"strong"),p(8,"Price:"),d(),p(9),d(),S(10,IQ,2,2,"div",25),u(11,"button",26),I("click",function(o){let r=P(e).$implicit,s=w(4);return O(s.packageSelected(r,o))}),p(12,"Select"),d()()()}if(n&2){let e=t.$implicit,i=w(4);m(2),x("src",e.photoUrls[0],ce)("alt",e.packageName),m(3),A(e.packageName),m(4),T(" $",e.price,""),m(),ze((i.selectedPackage==null?null:i.selectedPackage.packageId)==e.packageId?10:-1)}}function TQ(n,t){if(n&1){let e=U();u(0,"div",14)(1,"h5",15),p(2,"Tour Packages"),d(),u(3,"div",16),ue(4,kQ,13,5,"div",17,Ge),u(6,"div",18)(7,"button",19),I("click",function(){P(e);let o=w(3);return O(o.skipToNext())}),p(8,"Next"),d()()()()}if(n&2){let e=w(3);m(4),fe(e.trip.tourPackages),m(3),x("disabled",e.selectedDate==null)}}function AQ(n,t){n&1&&(u(0,"h2",9),p(1,"No Rooms Are available for this area"),d())}function RQ(n,t){if(n&1){let e=U();u(0,"div",31)(1,"button",32),I("click",function(){P(e);let o=w(6);return O(o.increaseNights())}),p(2,"+"),d(),u(3,"input",33),Y("ngModelChange",function(o){P(e);let r=w(6);return K(r.numberOfNights,o)||(r.numberOfNights=o),O(o)}),d(),p(4," Nights "),u(5,"button",32),I("click",function(){P(e);let o=w(6);return O(o.decreaseNights())}),p(6,"-"),d()()}if(n&2){let e=w().$implicit,i=w(5);m(),x("disabled",(i.selectedRoom==null?null:i.selectedRoom.roomId)!=e.roomId),m(2),q("ngModel",i.numberOfNights),m(2),x("disabled",(i.selectedRoom==null?null:i.selectedRoom.roomId)!=e.roomId)}}function NQ(n,t){if(n&1){let e=U();u(0,"div",17)(1,"div",20),M(2,"img",30),d(),u(3,"div",22)(4,"h3",23),p(5),d(),u(6,"p",24)(7,"strong"),p(8,"Room Type:"),d(),p(9),d(),u(10,"p",24)(11,"strong"),p(12,"Price:"),d(),p(13),d(),S(14,RQ,7,3,"div",31),u(15,"button",26),I("click",function(o){let r=P(e).$implicit,s=w(5);return O(s.roomSelected(r,o))}),p(16,"Select"),d()()()}if(n&2){let e=t.$implicit,i=w(5);m(2),x("src",e.photoUrls[0],ce)("alt",e.photoUrls[0]),m(3),A(e.hotelName),m(4),T(" ",e.roomType,""),m(4),T(" $",e.pricePerNight," / Night"),m(),ze((i.selectedRoom==null?null:i.selectedRoom.roomId)==e.roomId?14:-1)}}function FQ(n,t){if(n&1){let e=U();u(0,"div",16),ue(1,NQ,17,6,"div",17,Ge),u(3,"div",18)(4,"button",29),I("click",function(){P(e);let o=w(4);return O(o.skipToNext())}),p(5,"Next"),d()()()}if(n&2){let e=w(4);m(),fe(e.trip.hotelsRooms[0])}}function LQ(n,t){if(n&1&&(u(0,"div",28),S(1,AQ,2,0,"h2",9)(2,FQ,6,0,"div",16),d()),n&2){let e=w(3);m(),ze(e.trip.hotelsRooms.length==0?1:2)}}function VQ(n,t){n&1&&(u(0,"h2",9),p(1,"No Tour Guides Are available for this area"),d())}function BQ(n,t){if(n&1){let e=U();u(0,"div",31)(1,"button",32),I("click",function(){P(e);let o=w(6);return O(o.increaseGuideHours())}),p(2,"+"),d(),u(3,"input",33),Y("ngModelChange",function(o){P(e);let r=w(6);return K(r.guideHours,o)||(r.guideHours=o),O(o)}),d(),p(4," Hour "),u(5,"button",32),I("click",function(){P(e);let o=w(6);return O(o.decreaseGuideHours())}),p(6,"-"),d()()}if(n&2){let e=w().$implicit,i=w(5);m(),x("disabled",(i.selectedTourGuide==null?null:i.selectedTourGuide.guideID)!=e.guideID),m(2),q("ngModel",i.guideHours),m(2),x("disabled",(i.selectedTourGuide==null?null:i.selectedTourGuide.guideID)!=e.guideID)}}function jQ(n,t){if(n&1){let e=U();u(0,"div",17)(1,"div",20),M(2,"img",30),d(),u(3,"div",22)(4,"h3",23),p(5),d(),u(6,"p",24)(7,"strong"),p(8,"Rating:"),d(),p(9),gn(),u(10,"svg",35),M(11,"path",36),d()(),tl(),u(12,"p",24)(13,"strong"),p(14,"Price:"),d(),p(15),d(),S(16,BQ,7,3,"div",31),u(17,"button",26),I("click",function(o){let r=P(e).$implicit,s=w(5);return O(s.guideSelected(r,o))}),p(18,"Select"),d()()()}if(n&2){let e=t.$implicit,i=w(5);m(2),x("src",e.photoUrls[0],ce)("alt",e.photoUrls[0]),m(3),A(e.guideName),m(4),T(" ",e.averageRating," "),m(6),T(" $",e.pricePerHour," / Hour"),m(),ze((i.selectedTourGuide==null?null:i.selectedTourGuide.guideID)==e.guideID?16:-1)}}function HQ(n,t){if(n&1){let e=U();u(0,"div",16),ue(1,jQ,19,6,"div",17,Ge),u(3,"div",18)(4,"button",29),I("click",function(){P(e);let o=w(4);return O(o.skipToNext())}),p(5,"Next"),d()()()}if(n&2){let e=w(4);m(),fe(e.trip.tourGuides)}}function UQ(n,t){if(n&1&&(u(0,"div",34),S(1,VQ,2,0,"h2",9)(2,HQ,6,0,"div",16),d()),n&2){let e=w(3);m(),ze(e.trip.tourGuides.length==0?1:2)}}function zQ(n,t){if(n&1&&(u(0,"div",40)(1,"strong"),p(2,"Package:"),d(),u(3,"span"),p(4),d()()),n&2){let e=w(4);m(4),A(e.selectedPackage.packageName)}}function $Q(n,t){if(n&1&&(u(0,"div",40)(1,"strong"),p(2,"Hotel:"),d(),u(3,"span"),p(4),d()()),n&2){let e=w(4);m(4),A(e.selectedRoom.hotelName)}}function GQ(n,t){if(n&1&&(u(0,"div",40)(1,"strong"),p(2,"Tour Guide:"),d(),u(3,"span"),p(4),d()()),n&2){let e=w(4);m(4),A(e.selectedTourGuide.guideName)}}function WQ(n,t){if(n&1&&(u(0,"div",40)(1,"strong"),p(2,"Check-in Date:"),d(),u(3,"span"),p(4),d()()),n&2){let e=w(4);m(4),A(e.selectedDate.toDateString().split("T")[0])}}function qQ(n,t){if(n&1){let e=U();u(0,"div",37)(1,"div",38)(2,"h3",39),p(3,"Booking Receipt"),d(),S(4,zQ,5,1,"div",40)(5,$Q,5,1,"div",40)(6,GQ,5,1,"div",40)(7,WQ,5,1,"div",40),M(8,"hr"),u(9,"div",41)(10,"strong"),p(11,"Total Price:"),d(),u(12,"span"),p(13),_t(14,"currency"),d()(),u(15,"div",42)(16,"button",43),I("click",function(){P(e);let o=w(3);return O(o.bookTrip())}),p(17,"Confirm & Book"),d()()()()}if(n&2){let e=w(3);m(4),ze(e.selectedPackage?4:-1),m(),ze(e.selectedRoom?5:-1),m(),ze(e.selectedTourGuide?6:-1),m(),ze(e.selectedDate?7:-1),m(6),A(yP(14,5,e.totalPrice))}}function YQ(n,t){if(n&1&&S(0,TQ,9,1,"div",10)(1,LQ,3,1,"div",11)(2,UQ,3,1,"div",12)(3,qQ,18,7,"div",13),n&2){let e=w(2);x("ngIf",e.currentStep===1),m(),x("ngIf",e.currentStep===2),m(),x("ngIf",e.currentStep===3),m(),x("ngIf",e.currentStep===4)}}function KQ(n,t){if(n&1&&S(0,OQ,2,0,"h2",9)(1,YQ,4,4),n&2){let e=w();ze(e.trip.tourPackages.length==0?0:1)}}function ZQ(n,t){n&1&&M(0,"mat-progress-spinner",44)}function QQ(n,t){n&1&&(u(0,"h2",9),p(1,"Search for a good tour package"),d())}var t0=class n{increaseNights(){this.numberOfNights++,this.selectedRoom&&(this.totalPrice+=Number(this.selectedRoom.pricePerNight))}decreaseNights(){this.numberOfNights--,this.selectedRoom&&(this.totalPrice-=Number(this.selectedRoom.pricePerNight))}increaseGuideHours(){this.guideHours++,this.selectedTourGuide&&(this.totalPrice+=Number(this.selectedTourGuide.pricePerHour))}decreaseGuideHours(){this.guideHours--,this.selectedTourGuide&&(this.totalPrice-=Number(this.selectedTourGuide.pricePerHour))}constructor(){}dialog=y(ne);service=y(er);trip;searchTerm="";selectedTourGuide=null;isPackageReqFinished=!1;toastService=y(ae);currentStep=0;numberOfNights=1;guideHours=1;selectedPackage=null;selectedRoom=null;totalPrice=0;selectedDate=null;router=y(ee);booking={touristEmail:"",hotelEmail:"",tourGuideEmail:"",bookingDate:"",packageId:"",roomId:"",totalPrice:0,bookingID:"",tourGuideName:"",hotelName:"",roomType:"",packageName:"",status:""};editPackageDate(t){this.selectedDate=t.target.valueAsDate}packageSelected(t,e){let i=e.target.closest(".destination-card"),o=this.selectedPackage?.packageId===t.packageId;document.querySelectorAll(".tour-packages .destination-card").forEach(s=>{s.style.backgroundColor=""}),o?(this.selectedPackage=null,this.totalPrice-=Number(t.price),console.log("Card deselected:",t.packageName)):(this.totalPrice+=Number(t.price),this.selectedPackage=t,this.booking.packageId=t.packageId,i.style.backgroundColor="#007dd1",console.log("Card selected:",t.packageName))}roomSelected(t,e){this.numberOfNights=1;let i=e.target.closest(".room-card"),o=this.selectedRoom?.roomId===t.roomId;document.querySelectorAll(".rooms .room-card").forEach(s=>{s.style.backgroundColor=""}),o?(this.selectedRoom=null,this.totalPrice-=Number(t.pricePerNight)):(this.selectedRoom=t,this.totalPrice+=Number(t.pricePerNight),this.booking.roomId=t.roomId,this.trip.hotelsRooms.map(s=>{s.map(a=>{a.roomId==t.roomId&&this.service.getHotelById(a.hotelId).subscribe({next:l=>{this.booking.hotelEmail=l.contactEmail},error:l=>{this.toastService.error("Error retrieveing hotels,try again later","\u274C Error",{toastClass:"ngx-toastr custom-error"})}})})}),i.style.backgroundColor="#007dd1")}guideSelected(t,e){let i=e.target.closest(".guide-card"),o=this.selectedTourGuide?.guideID===t.guideID,r=document.querySelectorAll(".guides .guide-card");this.numberOfNights=1,r.forEach(s=>{s.style.backgroundColor=""}),o?(this.selectedTourGuide=null,this.guideHours=1,this.totalPrice-=Number(t.pricePerHour*this.guideHours)):(this.totalPrice+=Number(t.pricePerHour*this.guideHours),this.selectedTourGuide=t,this.booking.tourGuideEmail=t.contactEmail,i.style.backgroundColor="#007dd1")}getDestinationsForTrip(){if(this.searchTerm.length==0)this.toastService.error("Please enter a destination to search for.","\u274C Error",{toastClass:"ngx-toastr custom-error"});else{let t=this.dialog.open(We,{disableClose:!0});this.service.getDestinationsForTrip(this.searchTerm).subscribe({next:e=>{this.totalPrice=0,this.numberOfNights=1,this.guideHours=1,this.selectedPackage=null,this.selectedRoom=null,this.selectedTourGuide=null,this.selectedDate=null,t.close(),console.log("value : "+e.hotelsRooms),this.trip=e,console.log("value : "+this.trip.hotelsRooms),this.isPackageReqFinished=!0,this.currentStep=0,this.skipToNext(),console.log(this.trip.tourPackages)},error:e=>{t.close(),this.toastService.error("Failed to fetch destinations. Please try again later.","\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}}isPackageSelected(){return this.selectedPackage==null}isRoomSelected(){return this.selectedRoom==null}isGuideSelected(){return this.selectedTourGuide==null}skipToNext(){++this.currentStep,console.log(this.currentStep);let t=document.querySelector(".progress-bar-custom .progress-fill");t&&(t.style.width=`${this.currentStep*25}%`,t.style.backgroundColor="#000"),console.log("total price : "+this.totalPrice)}bookTrip(){this.booking.touristEmail=localStorage.getItem("email"),this.booking.totalPrice=this.totalPrice;let t=new Date;if(this.selectedDate<=t)this.toastService.error("Please select a future date.","\u274C Error",{toastClass:"ngx-toastr custom-error"});else{this.booking.bookingDate=this.selectedDate?this.selectedDate.toISOString().split("T")[0]:new Date().toISOString().split("T")[0];let e=this.dialog.open(We,{disableClose:!0}),i=this.totalPrice;this.service.createBooking(this.booking).subscribe({next:o=>{this.totalPrice=0,this.numberOfNights=1,this.guideHours=1,this.toastService.success("Booking created successfully.","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),e.close();let r=o.bookingID;this.router.navigate(["/create-checkout-session"],{state:{price:i,bookingId:r}})},error:o=>{e.close(),this.toastService.error("Failed to create booking. Please try again later.","\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-new-trip"]],decls:17,vars:3,consts:[[3e3,null],[1,"container"],[1,"progress-bar-custom"],[1,"progress-fill"],[1,"text-end","text-muted","mb-2","pe-2"],[1,"title"],[1,"search-box"],["type","text","placeholder","Search destinations",1,"form-control","form-control-lg","rounded-pill",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","rounded-pill","ms-2","my-4",3,"click"],[1,"no-results"],["class","mb-4 tour-packages",4,"ngIf"],["class","rooms",4,"ngIf"],["class","guides",4,"ngIf"],["class","final-booking",4,"ngIf"],[1,"mb-4","tour-packages"],[1,"section-title","mb-3"],[1,"guides-list"],[1,"guide-item"],[1,"next-button","mt-5"],[1,"btn","btn-next",3,"click","disabled"],[1,"image-slider"],[1,"guide-image",3,"src","alt"],[1,"guide-details"],[1,"guide-title"],[1,"guide-detail"],[1,"selected-date"],[1,"btn","btn-primary",3,"click"],["type","date","placeholder","Booking Date",1,"form-control",3,"change"],[1,"rooms"],[1,"btn","btn-next",3,"click"],[3,"src","alt"],[1,"nights-number"],[3,"click","disabled"],["type","number",3,"ngModelChange","ngModel"],[1,"guides"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 576 512"],["d","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"],[1,"final-booking"],[1,"card","shadow","p-4"],[1,"mb-4","text-center","border-bottom","pb-2"],[1,"mb-2","d-flex","justify-content-between"],[1,"d-flex","justify-content-between","fs-5"],[1,"text-center","mt-4"],[1,"btn","btn-success","px-4",3,"click"],["mode","indeterminate","color","accent","diameter","40",1,"mx-auto"]],template:function(e,i){e&1&&(M(0,"app-navbar"),u(1,"div",1)(2,"div",2),M(3,"div",3),d(),u(4,"div",4),p(5),d(),u(6,"h2",5),p(7,"Where to?"),d(),u(8,"div",6)(9,"input",7),Y("ngModelChange",function(r){return K(i.searchTerm,r)||(i.searchTerm=r),r}),d(),u(10,"button",8),I("click",function(){return i.getDestinationsForTrip()}),p(11,"Search"),d()(),S(12,KQ,2,1)(13,ZQ,1,0)(14,QQ,2,0),Ee(15,12,PQ,13,14,null,0,null,Me),d()),e&2&&(m(5),T("",i.currentStep,"/4"),m(4),q("ngModel",i.searchTerm),m(6),De(i.isPackageReqFinished))},dependencies:[St,Ke,Xe,Pe,et,yn,Pt,J],styles:['.container[_ngcontent-%COMP%]{max-width:1200px;margin:48px auto;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(180deg,#f7fafc,#fff);border-radius:16px;box-shadow:0 4px 16px #0000001a;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.title[_ngcontent-%COMP%]{font-size:3rem;color:#1a202c;text-align:center;margin-bottom:3rem;font-weight:800;letter-spacing:-.025em;position:relative;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.title[_ngcontent-%COMP%]:after{content:"";display:block;width:100px;height:5px;background:#d4a017;margin:12px auto;border-radius:3px;animation:_ngcontent-%COMP%_underlineGrow .6s ease-out}.no-results[_ngcontent-%COMP%]{text-align:center;color:#4a5568;font-size:1.5rem;font-weight:600;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#1a202c;font-weight:600;margin-bottom:20px;animation:_ngcontent-%COMP%_slideIn .7s ease-out}.guides-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:32px;margin-bottom:32px}.guide-item[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 16px #0000001a;display:flex;flex-direction:column;height:100%;justify-content:space-between;transition:transform .4s ease,box-shadow .4s ease;animation:_ngcontent-%COMP%_cardFadeIn .8s ease-out}.guide-item[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #d4a01726}@keyframes _ngcontent-%COMP%_cardFadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.image-slider[_ngcontent-%COMP%]{position:relative;width:180px;max-height:120px;aspect-ratio:4/3;overflow:hidden;border-radius:12px;background:#e2e8f0}.image-slider[_ngcontent-%COMP%]   .guide-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease;animation:_ngcontent-%COMP%_imageFadeIn 1s ease-out}.image-slider[_ngcontent-%COMP%]   .guide-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@keyframes _ngcontent-%COMP%_imageFadeIn{0%{opacity:0;filter:blur(6px)}to{opacity:1;filter:blur(0)}}.guide-details[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between}.guide-details[_ngcontent-%COMP%]   .guide-title[_ngcontent-%COMP%]{font-size:1.75rem;color:#d4a017;margin-bottom:1rem;font-weight:700;animation:_ngcontent-%COMP%_fadeIn .9s ease-out}.guide-details[_ngcontent-%COMP%]   .guide-detail[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:12px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.guide-details[_ngcontent-%COMP%]   .guide-detail[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.guide-details[_ngcontent-%COMP%]   .guide-detail[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;fill:#d4a017;margin-left:6px;animation:_ngcontent-%COMP%_pulse 1.2s infinite}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.selected-date[_ngcontent-%COMP%], .nights-number[_ngcontent-%COMP%]{margin-top:12px;animation:_ngcontent-%COMP%_slideUp .6s ease-out}.nights-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;gap:15px}.nights-number[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#d4a017;color:#fff;border:none;padding:6px 12px;border-radius:50%;font-size:1rem;transition:all .3s ease;width:36px;height:36px;box-shadow:0 2px 4px #d4a0174d}.nights-number[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#e6b800;transform:scale(1.1);box-shadow:0 4px 8px #d4a01780}.nights-number[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed}.nights-number[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:8px;padding:8px;font-size:1rem;width:80px;text-align:center;transition:all .3s ease}.nights-number[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{border-color:#d4a017;box-shadow:0 0 5px #d4a0174d;transform:translateY(-2px)}input[type=date][_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:8px;padding:8px 12px;font-size:1rem;outline:none;transition:all .3s ease;width:100%}input[type=date][_ngcontent-%COMP%]:focus{border-color:#d4a017;box-shadow:0 0 5px #d4a0174d;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%], .btn-next[_ngcontent-%COMP%]{width:auto;padding:12px 24px;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .4s ease;background:linear-gradient(135deg,#d4a017,#e6b800);color:#fff;box-shadow:0 2px 6px #d4a0174d}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled), .btn-next[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#e6b800,#d4a017);transform:translateY(-3px);box-shadow:0 4px 12px #d4a01780}.btn-primary[_ngcontent-%COMP%]:disabled, .btn-next[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed;opacity:.6}.next-button[_ngcontent-%COMP%]{text-align:right}.progress-bar-custom[_ngcontent-%COMP%]{height:8px;background-color:#e2e8f0;border-radius:50px;overflow:hidden;margin-bottom:30px;width:100%;box-shadow:inset 0 1px 3px #0000001a}.progress-bar-custom[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{width:0%;transition:width .4s ease-in-out;height:100%;background:linear-gradient(135deg,#d4a017,#e6b800);border-radius:50px;box-shadow:0 2px 6px #d4a01766;animation:_ngcontent-%COMP%_progressPulse 1.5s infinite}@keyframes _ngcontent-%COMP%_progressPulse{0%{box-shadow:0 2px 6px #d4a01766}50%{box-shadow:0 4px 8px #d4a01799}to{box-shadow:0 2px 6px #d4a01766}}.tour-packages[_ngcontent-%COMP%], .rooms[_ngcontent-%COMP%], .guides[_ngcontent-%COMP%], .final-booking[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-in-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_underlineGrow{0%{width:0}to{width:100px}}.final-booking[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 6px 20px #0000001a;padding:24px;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.final-booking[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a202c;font-weight:600}.final-booking[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#4a5568}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2f855a,#48bb78)}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#48bb78,#2f855a);transform:translateY(-2px);box-shadow:0 4px 12px #2f855a80}@media (max-width: 1024px){.guides-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.image-slider[_ngcontent-%COMP%]{width:100%;max-height:100px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px;margin:32px auto}.title[_ngcontent-%COMP%]{font-size:2.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.2rem}.guide-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.image-slider[_ngcontent-%COMP%]{width:100%;max-height:120px}.next-button[_ngcontent-%COMP%]{text-align:center}}@media (max-width: 576px){.title[_ngcontent-%COMP%]{font-size:2rem}.section-title[_ngcontent-%COMP%]{font-size:1.1rem}.guides-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.guide-item[_ngcontent-%COMP%]{padding:16px}.btn-primary[_ngcontent-%COMP%], .btn-next[_ngcontent-%COMP%]{width:100%}}']})};var tr=class n{client=y(at);baseUrl="https://fizo.runasp.net/api/";getAdminDashboard(){return this.client.get(this.baseUrl+"Dashboard/admin",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}getAllHotels(){return this.client.get(this.baseUrl+"Hotels")}getAllGuides(){return this.client.get(this.baseUrl+"TourGuides")}getAllPackages(){return this.client.get(this.baseUrl+"/TourPackages")}verifyUser(t){return this.client.patch(this.baseUrl+`AdminUser/set-verified/${t}`,{isVerified:!0},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var XQ=["barChartCanvas"],JQ=["pieChartCanvas"],eX=["hotelsChartCanvas"],tX=()=>[Et,rt],kA=()=>[Et,rt,ie],nX=()=>[ie],vx=()=>[0,1,2,3,4],bx=(n,t)=>({filled:n,empty:t}),TA=n=>["/hotel-details",n],iX=n=>["/package-details",n];function oX(n,t){if(n&1&&(u(0,"div",46)(1,"div",47)(2,"h6"),p(3,"Total Bookings"),d(),u(4,"h3"),p(5),d()()()),n&2){let e=w();m(5),A(e.admin.totalBookings)}}function rX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function sX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function aX(n,t){if(n&1&&(u(0,"div",46)(1,"div",50)(2,"h6"),p(3,"Profit"),d(),u(4,"h3"),p(5),d()()()),n&2){let e=w();m(5),T("$",e.admin.profit,"")}}function lX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function cX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function dX(n,t){if(n&1&&(u(0,"div",46)(1,"div",50)(2,"h6"),p(3,"Total Packages"),d(),u(4,"h3"),p(5),d()()()),n&2){let e=w();m(5),A(e.totalPackages)}}function uX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function fX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function pX(n,t){if(n&1&&(u(0,"div",46)(1,"div",51)(2,"h6"),p(3,"Total Reviews"),d(),u(4,"h3"),p(5),d()()()),n&2){let e=w();m(5),A(e.admin.totalReviews)}}function hX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function mX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function gX(n,t){if(n&1&&(u(0,"div",46)(1,"div",52)(2,"h6"),p(3,"Total Guides"),d(),u(4,"h3"),p(5),d()()(),u(6,"div",46)(7,"div",52)(8,"h6"),p(9,"Total Hotels"),d(),u(10,"h3"),p(11),d()()()),n&2){let e=w();m(5),A(e.totalGuides),m(6),A(e.totalHotels)}}function _X(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function vX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function bX(n,t){if(n&1&&(u(0,"h2"),p(1),d()),n&2){let e=w().$implicit;m(),A(e.guideName)}}function yX(n,t){if(n&1&&(u(0,"h2"),p(1),d()),n&2){let e=w().$implicit;m(),A(e.hotelName)}}function CX(n,t){if(n&1&&(u(0,"h2"),p(1),d()),n&2){let e=w().$implicit;m(),A(e.packageName)}}function xX(n,t){if(n&1&&(br(0),gn(),u(1,"svg",59),M(2,"path",60),d(),yr()),n&2){let e=t.$implicit,i=w().$implicit;m(),x("ngClass",Yr(1,bx,e<i.rating,e>=i.rating))}}function wX(n,t){if(n&1&&(u(0,"div",53)(1,"div")(2,"div",54),S(3,bX,2,1,"h2")(4,yX,2,1,"h2")(5,CX,2,1,"h2"),u(6,"p"),p(7),d()(),u(8,"div",55),S(9,xX,3,4,"ng-container",56),u(10,"span",57),p(11),d()(),u(12,"div",58)(13,"p"),p(14),d()()()()),n&2){let e=t.$implicit,i=t.$index;m(),dP("testimonial-card fade-in-up delay-",i,""),m(2),ze(e.guideName?3:-1),m(),ze(e.hotelName?4:-1),m(),ze(e.packageName?5:-1),m(2),A(e.comment),m(2),x("ngForOf",cn(10,vx)),m(2),T("(",e.rating,")"),m(3),A(e.reviewDate.split("T")[0])}}function MX(n,t){if(n&1&&ue(0,wX,15,11,"div",53,Ge),n&2){let e=w();fe(e.admin.recentReviews)}}function EX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function DX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function SX(n,t){if(n&1){let e=U();u(0,"tr")(1,"td"),p(2),d(),u(3,"td"),p(4),d(),u(5,"td"),p(6),d(),u(7,"td"),p(8),d(),u(9,"td")(10,"button",62),I("click",function(){let o=P(e).$implicit,r=w(2);return O(r.verifyUser(o.guideID))}),p(11,"Confirm"),d()()()}if(n&2){let e=t.$implicit;m(2),A(e.guideName),m(2),A(e.licenseNumber),m(2),A(e.contactEmail),m(2),A(e.contactPhone)}}function PX(n,t){if(n&1&&(u(0,"table",61)(1,"thead")(2,"tr")(3,"th"),p(4,"Name"),d(),u(5,"th"),p(6,"License Number"),d(),u(7,"th"),p(8,"Email"),d(),u(9,"th"),p(10,"Phone"),d(),u(11,"th"),p(12,"Actions"),d()()(),u(13,"tbody"),ue(14,SX,12,4,"tr",null,Ge),d()()),n&2){let e=w();m(14),fe(e.admin.topTourGuides)}}function OX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function IX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function kX(n,t){if(n&1){let e=U();u(0,"tr")(1,"td"),p(2),d(),u(3,"td"),p(4),d(),u(5,"td"),p(6),d(),u(7,"td"),p(8),d(),u(9,"td")(10,"button",62),I("click",function(){let o=P(e).$implicit,r=w(2);return O(r.verifyUser(o.guideID))}),p(11,"Confirm"),d()()()}if(n&2){let e=t.$implicit;m(2),A(e.guideName),m(2),A(e.licenseNumber),m(2),A(e.contactEmail),m(2),A(e.contactPhone)}}function TX(n,t){if(n&1&&(u(0,"table",61)(1,"thead")(2,"tr")(3,"th"),p(4,"Name"),d(),u(5,"th"),p(6,"License Number"),d(),u(7,"th"),p(8,"Email"),d(),u(9,"th"),p(10,"Phone"),d(),u(11,"th"),p(12,"Actions"),d()()(),u(13,"tbody"),ue(14,kX,12,4,"tr",null,Ge),d()()),n&2){let e=w();m(14),fe(e.tourGuides)}}function AX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function RX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function NX(n,t){if(n&1&&(br(0),gn(),u(1,"svg",59),M(2,"path",60),d(),yr()),n&2){let e=t.$implicit,i=w().$implicit;m(),x("ngClass",Yr(1,bx,e<i.rating,e>=i.rating))}}function FX(n,t){if(n&1&&(u(0,"div",63)(1,"div",64),M(2,"img",65),u(3,"div",44)(4,"h5",66),p(5),d(),u(6,"h5",66),p(7),d(),u(8,"div",55),S(9,NX,3,4,"ng-container",56),u(10,"span",57),p(11),d()()()()()),n&2){let e=t.$implicit;m(),x("routerLink",Qe(6,TA,e.hotelID)),m(),x("src",e.photoUrls[0],ce),m(3),A(e.hotelName),m(2),A(e.contactEmail),m(2),x("ngForOf",cn(8,vx)),m(2),T("(",e.rating,")")}}function LX(n,t){if(n&1&&ue(0,FX,12,9,"div",63,Ge),n&2){let e=w();fe(e.admin.topHotels)}}function VX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function BX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function jX(n,t){if(n&1&&(br(0),gn(),u(1,"svg",59),M(2,"path",60),d(),yr()),n&2){let e=t.$implicit,i=w().$implicit;m(),x("ngClass",Yr(1,bx,e<i.rating,e>=i.rating))}}function HX(n,t){if(n&1&&(u(0,"div",63)(1,"div",64),M(2,"img",65),u(3,"div",44)(4,"h5",66),p(5),d(),u(6,"h5",66),p(7),d(),u(8,"div",55),S(9,jX,3,4,"ng-container",56),u(10,"span",57),p(11),d()()()()()),n&2){let e=t.$implicit;m(),x("routerLink",Qe(6,TA,e.hotelID)),m(),x("src",e.photoUrls[0],ce),m(3),A(e.hotelName),m(2),A(e.contactEmail),m(2),x("ngForOf",cn(8,vx)),m(2),T("(",e.rating,")")}}function UX(n,t){if(n&1&&ue(0,HX,12,9,"div",63,Ge),n&2){let e=w();fe(e.hotels)}}function zX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function $X(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function GX(n,t){if(n&1&&(u(0,"div",63)(1,"div",67),M(2,"img",68),u(3,"div",44)(4,"h5",66),p(5),d(),u(6,"p",69),p(7),d()()()()),n&2){let e=t.$implicit;m(),x("routerLink",Qe(4,iX,e.packageId)),m(),x("src",e.photoUrls[0],ce),m(3),A(e.packageName),m(2),T("$",e.price,"")}}function WX(n,t){if(n&1&&ue(0,GX,8,6,"div",63,Ge),n&2){let e=w();fe(e.admin.topTourPackages)}}function qX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}function YX(n,t){n&1&&(u(0,"div",48),M(1,"mat-progress-spinner",49),d())}tn.register(...Jo);var n0=class n{ngOnDestroy(){this.chartInstance&&(this.chartInstance.destroy(),this.chartInstance=null),this.pieChartInstance&&(this.pieChartInstance.destroy(),this.pieChartInstance=null)}chartInstance=null;pieChartInstance=null;hotelsChartInstance=null;barChartCanvas;pieChartCanvas;hotelsChartCanvas;isAdminReqFinished=!1;isAllHotelsReqFinished=!1;isAllGuidesReqFinished=!1;hotels;tourGuides;totalTourists=0;totalGuides=0;totalHotels=0;totalCompanies=0;totalPackages=0;toastService=y(ae);ngOnInit(){this.adminService.getAdminDashboard().subscribe({next:t=>{t.topTourGuides=t.topTourGuides.sort((e,i)=>i.averageRating-e.averageRating).slice(0,3),t.topHotels=t.topHotels.sort((e,i)=>i.rating-e.rating).slice(0,3),t.topTourPackages=t.topTourPackages.sort((e,i)=>i.price-e.price).slice(0,3),this.admin=t,this.isAdminReqFinished=!0,this.drawChart()},error:t=>{this.toastService.error("Error Getting data try again later","\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.adminService.getAllHotels().subscribe({next:t=>{this.isAllHotelsReqFinished=!0,this.hotels=t,this.totalHotels=this.hotels.length,this.drawChart()},error:t=>{this.toastService.error("Error Getting Hotels try again later","\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.adminService.getAllGuides().subscribe({next:t=>{this.isAllGuidesReqFinished=!0,this.tourGuides=t,this.totalGuides=this.tourGuides.length,this.drawChart()},error:t=>{this.toastService.error("Error Getting Guides try again later","\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.adminService.getAllPackages().subscribe({next:t=>{this.isAllGuidesReqFinished=!0,this.totalPackages=t.length,this.drawChart()},error:t=>{this.toastService.error("Error Getting Packages try again later","\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.adminService.getAdminDashboard(),this.adminService.getAllGuides(),this.adminService.getAllHotels(),this.adminService.getAllPackages()}verifyUser(t){let e=this.dialog.open(We,{disableClose:!0});this.adminService.verifyUser(t).subscribe({next:i=>{e.close(),this.toastService.success("User is verified!","\u2705 Success",{toastClass:"ngx-toastr custom-success"})},error:i=>{e.close(),this.toastService.error("Error verifying user!","\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}authService=y(Ce);adminService=y(tr);admin;dialog=y(ne);logout(){this.authService.logout()}drawChart(){let t=[],e=[],i=[],o=[],r=[],s=0,a=0,l=0;this.admin.recentReviews&&this.admin.recentReviews.map(c=>{c.reviewDate.split("T")[0].split("-")[1]=="07"?t.push(c):e.push(c)}),this.admin.recentBookings&&this.admin.recentBookings.forEach(c=>{c.status==="Pending"?s++:c.status==="Confirmed"?a++:c.status==="Cancelled"&&l++}),this.admin.topHotels&&this.admin.topHotels.forEach(c=>{c.rating>4?i.push(c):c.rating===4?o.push(c):c.rating<4&&r.push(c)}),this.chartInstance=new tn(this.barChartCanvas.nativeElement,{type:"bar",data:{labels:["Jul","Aug"],datasets:[{label:"Reviews",data:[t.length,e.length],backgroundColor:"goldenrod",borderColor:"#000000",borderWidth:1,barThickness:30}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:3,color:"#000000"}},x:{ticks:{color:"#000000"}}},plugins:{legend:{labels:{color:"#000000"}},title:{display:!0,text:"Monthly Packages",color:"#000000"}}}}),this.pieChartInstance=new tn(this.pieChartCanvas.nativeElement,{type:"pie",data:{labels:["Pending","Confirmed","Cancelled"],datasets:[{label:"Booking Status",data:[s,a,l],backgroundColor:["goldenrod","green","red"],borderColor:"#000000",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#000000"}},title:{display:!0,text:"Booking Status Distribution",color:"#000000"}}}}),this.hotelsChartInstance=new tn(this.hotelsChartCanvas.nativeElement,{type:"pie",data:{labels:["More Than 4 Stars","4 Stars","More Than 4 Stars"],datasets:[{label:"Hotels Rating",data:[i.length,o.length,r.length],backgroundColor:["goldenrod","green","red"],borderColor:"#000000",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#000000"}},title:{display:!0,text:"Hotels Rating Distribution",color:"#000000"}}}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-dashboard"]],viewQuery:function(e,i){if(e&1&&(Tt(XQ,7),Tt(JQ,7),Tt(eX,7)),e&2){let o;Ct(o=xt())&&(i.barChartCanvas=o.first),Ct(o=xt())&&(i.pieChartCanvas=o.first),Ct(o=xt())&&(i.hotelsChartCanvas=o.first)}},decls:147,vars:11,consts:[["barChartCanvas",""],["pieChartCanvas",""],["hotelsChartCanvas",""],[3e3,null],[1,"navbar","navbar-expand-lg","fancy-navbar","sticky-top","shadow-sm"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","d-flex","align-items-center","gap-2"],[1,"bi","bi-globe2"],["type","button","data-bs-toggle","collapse","data-bs-target","#topNavbar","aria-controls","topNavbar","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","topNavbar",1,"collapse","navbar-collapse","justify-content-between"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["routerLink","/admin/bookings",1,"btn","fancy-btn","d-flex","align-items-center","gap-1"],[1,"fa","fa-box-arrow-right"],["routerLink","/admin/guides",1,"btn","fancy-btn","d-flex","align-items-center","gap-1"],["routerLink","/admin/hotels",1,"btn","fancy-btn","d-flex","align-items-center","gap-1"],[1,"btn","fancy-btn","d-flex","align-items-center","gap-1",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"container-fluid","fancy-fade-in"],[1,"row"],[1,"col-md-3","sidebar-container"],[1,"card","shadow-lg","h-100","fancy-sidebar","p-4"],[1,"fw-bold","mb-4","border-bottom","pb-2"],[1,"d-grid","gap-3"],["routerLink","/admin/bookings",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","1"],["routerLink","/admin/guides",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","1"],["routerLink","/admin/hotels",1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","1"],[1,"btn","btn-lg","rounded-pill","fancy-btn",2,"--btn-index","1",3,"click"],[1,"col-md-9","pt-5","px-4","main-content","my-5"],[1,"row","mb-4","g-3"],[1,"testimonials","mt-5"],[1,"section-heading"],[1,"row","mt-5"],[1,"top-guides"],[1,"fancy-section","mb-4"],[1,"table-responsive"],[1,"all-guides"],[1,"top-hotels","mt-4"],[1,"row","g-4"],[1,"all-hotels","mt-4"],[1,"top-packages","mt-4"],[1,"charts","mt-4"],[1,"col-md-6","mb-4"],[1,"card","fancy-card"],[1,"card-body"],[1,"card-title","text-center"],[1,"col-md-3"],[1,"fancy-card","text-center",2,"--card-index","1"],[1,"loading-container","mt-5"],["color","accent","diameter","40","mode","indeterminate"],[1,"fancy-card","text-center",2,"--card-index","2"],[1,"fancy-card","text-center",2,"--card-index","3"],[1,"fancy-card","text-center",2,"--card-index","4"],[1,"col-12","my-3"],[1,"testimonial-content"],[1,"rating-stars"],[4,"ngFor","ngForOf"],[1,"rating-value"],[1,"testimonial-date"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 24 24",3,"ngClass"],["d","M12 .587l3.668 7.568L24 9.75l-6 5.797L19.335 24 12 19.897 4.665 24 6 15.547 0 9.75l8.332-1.595z"],[1,"table","table-hover","fancy-table"],[1,"bg-success","rounded-4","mx-2",2,"color","white","border","none",3,"click"],[1,"col-md-4"],[1,"hotel-card","card",3,"routerLink"],["alt","Hotel Image",1,"card-img-top",3,"src"],[1,"card-title"],[1,"package-card","card",3,"routerLink"],["alt","Package Image",1,"card-img-top",3,"src"],[1,"card-text"]],template:function(e,i){if(e&1){let o=U();u(0,"nav",4)(1,"div",5)(2,"a",6),M(3,"i",7),p(4," Egypt Trip "),d(),u(5,"button",8),M(6,"span",9),d(),u(7,"div",10)(8,"ul",11)(9,"li")(10,"button",12),M(11,"i",13),p(12," Bookings "),d()(),u(13,"li")(14,"button",14),M(15,"i",13),p(16," Tour Guides "),d()(),u(17,"li")(18,"button",15),M(19,"i",13),p(20," Hotels "),d()()(),u(21,"button",16),I("click",function(){return P(o),O(i.logout())}),M(22,"i",17),p(23," Logout "),d()()()(),u(24,"div",18)(25,"div",19)(26,"div",20)(27,"div",21)(28,"h4",22),p(29,"\u{1F3E8} Admin Dashboard"),d(),u(30,"div",23)(31,"button",24),p(32," Bookings "),d(),u(33,"button",25),p(34," Tour Guides "),d(),u(35,"button",26),p(36," Hotels "),d(),u(37,"button",27),I("click",function(){return P(o),O(i.logout())}),p(38," \u{1F6AA} Logout "),d()()()(),u(39,"div",28)(40,"div",29),S(41,oX,6,1)(42,rX,2,0)(43,sX,2,0),Ee(44,41,null,42,43,null,3,null,Me),S(46,aX,6,1)(47,lX,2,0)(48,cX,2,0),Ee(49,46,null,47,48,null,3,null,Me),S(51,dX,6,1)(52,uX,2,0)(53,fX,2,0),Ee(54,51,null,52,53,null,3,null,Me),S(56,pX,6,1)(57,hX,2,0)(58,mX,2,0),Ee(59,56,null,57,58,null,3,null,Me),S(61,gX,12,2)(62,_X,2,0)(63,vX,2,0),Ee(64,61,null,62,63,null,3,null,Me),d(),u(66,"div",30)(67,"h2",31),p(68,"Recent Reviews"),d(),u(69,"div",32),S(70,MX,2,0)(71,EX,2,0)(72,DX,2,0),Ee(73,70,tX,71,72,null,3,null,Me),d()(),u(75,"div",33)(76,"h5",31),p(77,"Top Tour Guides"),d(),u(78,"div",34)(79,"div",35),S(80,PX,16,0)(81,OX,2,0)(82,IX,2,0),Ee(83,80,null,81,82,null,3,null,Me),d()()(),u(85,"div",36)(86,"h5",31),p(87,"All Tour Guides"),d(),u(88,"div",34)(89,"div",35),S(90,TX,16,0)(91,AX,2,0)(92,RX,2,0),Ee(93,90,null,91,92,null,3,null,Me),d()()(),u(95,"div",37)(96,"h2",31),p(97,"Top Hotels"),d(),u(98,"div",38),S(99,LX,2,0)(100,VX,2,0)(101,BX,2,0),Ee(102,99,kA,100,101,null,3,null,Me),d()(),u(104,"div",39)(105,"h2",31),p(106,"All Hotels"),d(),u(107,"div",38),S(108,UX,2,0)(109,zX,2,0)(110,$X,2,0),Ee(111,108,kA,109,110,null,3,null,Me),d()(),u(113,"div",40)(114,"h2",31),p(115,"Top Packages"),d(),u(116,"div",38),S(117,WX,2,0)(118,qX,2,0)(119,YX,2,0),Ee(120,117,nX,118,119,null,3,null,Me),d()(),u(122,"div",41)(123,"h2",31),p(124,"Statistics"),d(),u(125,"div",32)(126,"div",42)(127,"div",43)(128,"div",44)(129,"h5",45),p(130,"Monthly Packages"),d(),M(131,"canvas",null,0),d()()(),u(133,"div",42)(134,"div",43)(135,"div",44)(136,"h5",45),p(137,"Booking Status Distribution"),d(),M(138,"canvas",null,1),d()()(),u(140,"div",42)(141,"div",43)(142,"div",44)(143,"h5",45),p(144,"Hotels Rating Distribution"),d(),M(145,"canvas",null,2),d()()()()()()()()}e&2&&(m(44),De(i.isAdminReqFinished),m(5),De(i.isAdminReqFinished),m(5),De(i.isAdminReqFinished),m(5),De(i.isAdminReqFinished),m(5),De(i.isAdminReqFinished),m(9),De(i.isAdminReqFinished),m(10),De(i.isAdminReqFinished),m(10),De(i.isAllGuidesReqFinished),m(9),De(i.isAdminReqFinished),m(9),De(i.isAllHotelsReqFinished),m(9),De(i.isAdminReqFinished))},dependencies:[Pt,J,ie],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0;background:#fff;overflow-y:auto}@media (max-width: 767px){.container-fluid[_ngcontent-%COMP%]{background:none}}.fancy-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease forwards;opacity:0}.fancy-sidebar[_ngcontent-%COMP%]{background-color:#daa520;border:1px solid rgba(255,255,255,.2);animation:_ngcontent-%COMP%_slideInLeft .8s ease-out;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);min-height:100vh}.fancy-sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;border-bottom:2px solid #9c27b0;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.fancy-sidebar[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;animation-delay:calc(var(--btn-index) * .1s);background:#fff;color:#000;border:none}#topNavbar[_ngcontent-%COMP%]{padding-top:30px;background:#daa520}@media (max-width: 767px){.navbar-toggler[_ngcontent-%COMP%]{margin-right:10px}}.fancy-navbar[_ngcontent-%COMP%]{background:#daa520;box-shadow:0 8px 20px #0000004d;animation:_ngcontent-%COMP%_slideInDown .8s ease-out;padding:10px 15px;position:sticky;top:0;z-index:1000;width:100vw}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#fff;transition:transform .3s ease,text-shadow .3s ease}@media (max-width: 767px){.navbar-brand[_ngcontent-%COMP%]{color:#000}}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.05);text-shadow:0 0 12px goldenrod}.fancy-nav-link[_ngcontent-%COMP%]{color:#fff!important;font-weight:500;transition:color .3s cubic-bezier(.4,0,.2,1),transform .3s ease,text-shadow .3s ease}.fancy-nav-link[_ngcontent-%COMP%]:hover{color:#9c27b0!important;transform:translateY(-2px);text-shadow:0 0 10px rgba(156,39,176,.6)}.fancy-card[_ngcontent-%COMP%]{background:#ffffff4d;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);color:#000;padding:15px;border-radius:15px;box-shadow:0 8px 25px #0006;transition:transform .4s cubic-bezier(.4,0,.2,1),box-shadow .4s ease,background .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out;animation-delay:calc(var(--card-index) * .2s)}.fancy-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 35px #00000080;background:#ffffff59;animation:_ngcontent-%COMP%_glowPulse 3.5s ease-in-out infinite}.fancy-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:10px;color:#000}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000}.card-body[_ngcontent-%COMP%]{padding:15px}.fancy-btn[_ngcontent-%COMP%]{background:#fff;color:#000;font-weight:600;letter-spacing:.5px;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;border-radius:50px;box-shadow:0 0 5px #fff}@media (max-width: 767px){.fancy-btn[_ngcontent-%COMP%]{background:#fff;color:#000}}.fancy-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);color:#000}.section-heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px;color:#000;border-left:5px solid #9c27b0;padding-left:12px}.fancy-section[_ngcontent-%COMP%]{background:#ffffff1a;padding:15px;border-radius:10px;margin-bottom:20px}.fancy-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fancy-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;color:#000}.fancy-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100px}.testimonial-card[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:1.25rem;box-shadow:0 4px 12px #0000001a;padding:10px;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;animation:_ngcontent-%COMP%_fadeInUp 1s ease}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 6px 18px #00000026}.testimonial-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;font-size:1.05rem;color:#000}.testimonial-date[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#adb5bd;margin-top:.5rem}.rating-stars[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:inline;margin-right:4px;transition:transform .3s ease}.rating-stars[_ngcontent-%COMP%]   svg.filled[_ngcontent-%COMP%]{color:#f7c948}.rating-stars[_ngcontent-%COMP%]   svg.empty[_ngcontent-%COMP%]{color:#dcdcdc}.rating-value[_ngcontent-%COMP%]{margin-left:5px;color:#000}.hotel-card[_ngcontent-%COMP%], .package-card[_ngcontent-%COMP%]{background-color:#ffffff4d;transition:all .5s ease;border-radius:10px}.hotel-card[_ngcontent-%COMP%]:hover, .package-card[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 20px #0003}.card-img-top[_ngcontent-%COMP%]{border-top-left-radius:10px;border-top-right-radius:10px;object-fit:cover;height:200px;overflow:auto}.card-text[_ngcontent-%COMP%]{color:#000}.main-content[_ngcontent-%COMP%]{padding:20px;overflow-y:auto;max-height:calc(100vh - 120px)}@media (max-width: 767px){.sidebar-container[_ngcontent-%COMP%]{display:none}.row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.main-content[_ngcontent-%COMP%]{padding:15px}}@media (min-width: 768px){.navbar[_ngcontent-%COMP%]{display:none}}@media (max-width: 576px){.container-fluid[_ngcontent-%COMP%]{width:100%}.main-content[_ngcontent-%COMP%]{padding:10px;margin:10px 0}.fancy-card[_ngcontent-%COMP%]{padding:10px}.fancy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .fancy-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem}.section-heading[_ngcontent-%COMP%]{font-size:1.2rem}.fancy-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem}.fancy-nav-link[_ngcontent-%COMP%]{font-size:.9rem}.card-img-top[_ngcontent-%COMP%]{height:150px}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-50px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_slideInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_glowPulse{0%{box-shadow:0 12px 35px #0006}20%{box-shadow:0 12px 30px #daa520}50%{box-shadow:0 12px 35px #0006}70%{box-shadow:0 12px 30px #daa520}to{box-shadow:0 12px 35px #0006}}canvas[_ngcontent-%COMP%]{max-width:100%;height:250px!important;border-radius:10px;box-shadow:0 8px 25px #0000004d;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}"]})};var NA="basil",KX=function(t){return t===3?"v3":t},FA="https://js.stripe.com",ZX="".concat(FA,"/").concat(NA,"/stripe.js"),QX=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,XX=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,AA="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",JX=function(t){return QX.test(t)||XX.test(t)},eJ=function(){for(var t=document.querySelectorAll('script[src^="'.concat(FA,'"]')),e=0;e<t.length;e++){var i=t[e];if(JX(i.src))return i}return null},RA=function(t){var e=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",i=document.createElement("script");i.src="".concat(ZX).concat(e);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(i),i},tJ=function(t,e){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:e})},yu=null,i0=null,o0=null,nJ=function(t){return function(e){t(new Error("Failed to load Stripe.js",{cause:e}))}},iJ=function(t,e){return function(){window.Stripe?t(window.Stripe):e(new Error("Stripe.js not available"))}},oJ=function(t){return yu!==null?yu:(yu=new Promise(function(e,i){if(typeof window>"u"||typeof document>"u"){e(null);return}if(window.Stripe&&t&&console.warn(AA),window.Stripe){e(window.Stripe);return}try{var o=eJ();if(o&&t)console.warn(AA);else if(!o)o=RA(t);else if(o&&o0!==null&&i0!==null){var r;o.removeEventListener("load",o0),o.removeEventListener("error",i0),(r=o.parentNode)===null||r===void 0||r.removeChild(o),o=RA(t)}o0=iJ(e,i),i0=nJ(i),o.addEventListener("load",o0),o.addEventListener("error",i0)}catch(s){i(s);return}}),yu.catch(function(e){return yu=null,Promise.reject(e)}))},rJ=function(t,e,i){if(t===null)return null;var o=e[0],r=o.match(/^pk_test/),s=KX(t.version),a=NA;r&&s!==a&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=t.apply(void 0,e);return tJ(l,i),l},Cu,LA=!1,VA=function(){return Cu||(Cu=oJ(null).catch(function(t){return Cu=null,Promise.reject(t)}),Cu)};Promise.resolve().then(function(){return VA()}).catch(function(n){LA||console.warn(n)});var BA=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];LA=!0;var o=Date.now();return VA().then(function(r){return rJ(r,e,o)})};var sJ=["cardElement"],r0=class n{cardElement;stripe;elements;stripeService=y(jl);price;bookingId;constructor(){let e=this.router.getCurrentNavigation()?.extras.state;this.price=e.price,this.bookingId=e.bookingId}ngOnInit(){return nt(this,null,function*(){this.stripe=yield BA("pk_test_51RrkFWRrVLiB4Kel8Hg35UAHw4l6fvznMX5Qx2gphKYb4yEtY2EZhdlCMY0Hkbla06Se2KPqEU08jyo7TLvjnlrZ00b8nTZWTv"),this.elements=this.stripe.elements();let t={style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSize:"16px",fontSmoothing:"antialiased","::placeholder":{color:"#a0aec0"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},e=this.elements.create("card",t);e.mount(this.cardElement.nativeElement),this.card=e})}card;router=y(ee);dialog=y(ne);toastService=y(ae);pay(){return nt(this,null,function*(){let t=this.dialog.open(We,{disableClose:!0});(yield this.stripeService.makePaymentWithCard(this.price,this.card,this.stripe)).paymentIntent?.status==="succeeded"?this.stripeService.confirmBookingPayment(this.bookingId,this.price).subscribe({next:i=>{t.close(),this.toastService.success("Payment successful!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.router.navigate(["/"],{replaceUrl:!0})},error:i=>{t.close(),this.toastService.error("\u274C Payment failed! Try Again Later","\u274C Error",{toastClass:"ngx-toastr custom-error"})}}):(t.close(),this.toastService.error("\u274C Payment failed! Try Again Later","\u274C Error",{toastClass:"ngx-toastr custom-error"}))})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-stripe-payment"]],viewQuery:function(e,i){if(e&1&&Tt(sJ,5),e&2){let o;Ct(o=xt())&&(i.cardElement=o.first)}},decls:7,vars:0,consts:[["cardElement",""],[1,"container"],["id","card-element",1,"mb-3"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){if(e&1){let o=U();u(0,"div",1)(1,"h3"),p(2,"Payment Form"),d(),M(3,"div",2,0),u(5,"button",3),I("click",function(){return P(o),O(i.pay())}),p(6,"Pay"),d()()}},styles:[".container[_ngcontent-%COMP%]{max-width:500px;margin:40px auto;padding:30px;background-color:#fff;border:1px solid #e2e8f0;border-radius:12px;box-shadow:0 4px 12px #0000001a}h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px;color:#2d3748}#card-element[_ngcontent-%COMP%]{padding:12px;border:1px solid #cbd5e0;border-radius:8px;background-color:#f7fafc;transition:border .3s ease}#card-element.StripeElement--focus[_ngcontent-%COMP%]{border-color:#5a67d8;background-color:#edf2f7}#card-element.StripeElement--invalid[_ngcontent-%COMP%]{border-color:#e53e3e}.btn[_ngcontent-%COMP%]{width:100%;margin-top:20px;padding:12px 0;font-size:16px}#card-element.StripeElement--focus[_ngcontent-%COMP%]{border-color:#5a67d8;box-shadow:0 0 0 3px #5a67d840}"]})};var s0=class n{router=y(ee);authService=y(Ce);email;dialog=y(ne);toastService=y(ae);goToTokenPage(){console.log("this email"+this.email);let t=this.email;console.log("email"+t);let e=this.dialog.open(We,{disableClose:!0});this.authService.sendResetEmail(this.email).subscribe({next:i=>{e.close(),this.toastService.success("Check Your Email For Sent Token","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.router.navigate(["/enter-sent-token"],{state:{email:t}})},error:i=>{e.close(),this.toastService.error("Error Sending Email,Try Again Later!","\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-forgot-password"]],decls:15,vars:1,consts:[[1,"container-fluid"],[1,"card","p-4"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[1,"text-center","text-muted","mb-4"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Enter your email","required","","name","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),p(4,"Forgot Password"),d(),u(5,"p",4),p(6,"Enter your email and we'll send you a reset link."),d(),u(7,"form")(8,"div",5)(9,"label",6),p(10,"Email address"),d(),u(11,"input",7),Y("ngModelChange",function(r){return K(i.email,r)||(i.email=r),r}),d()(),u(12,"div",8)(13,"button",9),I("click",function(){return i.goToTokenPage()}),p(14,"Send Reset Link"),d()()()()()()),e&2&&(m(11),q("ngModel",i.email))},dependencies:[Ke,Ye,Xe,Pe,qe,Kt,et,wt],styles:['.container-fluid[_ngcontent-%COMP%]{background-image:url("./media/login-Y36H55X4.png");height:100vh;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{width:100%;max-width:450px;border:none;border-radius:1rem;box-shadow:0 10px 30px #0000001a;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.card-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600}.form-control[_ngcontent-%COMP%]{border-radius:.5rem}.btn-primary[_ngcontent-%COMP%]{background-color:#5a67d8;border:none;border-radius:.5rem;transition:background-color .3s ease-in-out}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#434190}.alert[_ngcontent-%COMP%]{border-radius:.5rem}']})};var jA=n=>({"is-invalid":n});function aJ(n,t){n&1&&(u(0,"div",11),p(1,"New password is required"),d())}function lJ(n,t){n&1&&(u(0,"div",11),p(1,"Please confirm your new password "),d())}function cJ(n,t){n&1&&(u(0,"div",11),p(1,"Passwords do not match"),d())}var a0=class n{constructor(t){this.fb=t;let i=this.router.getCurrentNavigation()?.extras.state;this.email=i.email,this.token=i.token}resetForm;passwordsDoNotMatch=!1;router=y(ee);email;token;resetPassword;service=y(Ce);dialog=y(ne);toastService=y(ae);ngOnInit(){this.resetPassword={password:"",confirmPassword:"",token:"",email:""},this.resetForm=this.fb.group({newPassword:["",[Cn.required,Cn.minLength(6)]],confirmPassword:["",Cn.required]}),this.resetForm.valueChanges.subscribe(()=>{this.passwordsDoNotMatch=this.resetForm.get("newPassword")?.value!==this.resetForm.get("confirmPassword")?.value})}isInvalid(t){let e=this.resetForm.get(t);return!!(e&&e.invalid&&(e.dirty||e.touched))}onSubmit(){if(this.resetForm.invalid||this.passwordsDoNotMatch){this.resetForm.markAllAsTouched();return}let t=this.resetForm.value;console.log(t),this.resetPassword.password=t.newPassword,this.resetPassword.confirmPassword=t.confirmPassword,this.resetPassword.token=this.token,this.resetPassword.email=this.email;let e=this.dialog.open(We,{disableClose:!0});this.service.sendNewPassword(this.resetPassword).subscribe({next:i=>{e.close(),this.toastService.success("Password is reset successfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.router.navigate(["/login"],{replaceUrl:!0})},error:i=>{e.close(),console.log("err "+i.error.errors);let o="";i.error.errors.map(r=>{o+=r+`
`}),this.toastService.error(o,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}static \u0275fac=function(e){return new(e||n)(D($o))};static \u0275cmp=F({type:n,selectors:[["app-enter-new-password"]],decls:18,vars:11,consts:[[1,"container-fluid","mt-5","d-flex","justify-content-center"],[1,"card","shadow-lg","p-4","reset-card"],[1,"text-center","mb-4","text-primary"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","newPassword",1,"form-label"],["type","password","id","newPassword","formControlName","newPassword",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","confirmPassword",1,"form-label"],["type","password","id","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"invalid-feedback"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"h3",2),p(3,"Reset Your Password"),d(),u(4,"form",3),I("ngSubmit",function(){return i.onSubmit()}),u(5,"div",4)(6,"label",5),p(7,"New Password"),d(),M(8,"input",6),S(9,aJ,2,0,"div",7),d(),u(10,"div",4)(11,"label",8),p(12,"Repeat New Password"),d(),M(13,"input",9),S(14,lJ,2,0,"div",7)(15,cJ,2,0,"div",7),d(),u(16,"button",10),p(17,"Send Reset Link"),d()()()()),e&2&&(m(4),x("formGroup",i.resetForm),m(4),x("ngClass",Qe(7,jA,i.isInvalid("newPassword"))),m(),x("ngIf",i.isInvalid("newPassword")),m(4),x("ngClass",Qe(9,jA,i.isInvalid("confirmPassword")||i.passwordsDoNotMatch)),m(),x("ngIf",i.isInvalid("confirmPassword")),m(),x("ngIf",i.passwordsDoNotMatch),m(),x("disabled",i.resetForm.invalid))},dependencies:[Go,Ye,Xe,Pe,qe,po,ho,Ke,J,Et,ye],styles:['.container-fluid[_ngcontent-%COMP%]{height:100vh;background-image:url("./media/login-Y36H55X4.png");animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.reset-card[_ngcontent-%COMP%]{width:100%;max-width:500px;background:#fff;border-radius:15px;display:flex;flex-direction:column;justify-content:center;align-items:center;margin:auto 0}.reset-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600}.reset-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:10px;transition:border-color .3s}.reset-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.reset-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;padding:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#5a67d8;border:none;border-radius:.5rem;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#434190}input[_ngcontent-%COMP%]{width:100%}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}']})};function dJ(n,t){n&1&&(u(0,"div",9),p(1,"Token is required"),d())}var l0=class n{constructor(t){this.fb=t;let i=this.router.getCurrentNavigation()?.extras.state;this.email=i.email}resetForm;passwordsDoNotMatch=!1;router=y(ee);email;authService=y(Ce);ngOnInit(){this.resetForm=this.fb.group({sentToken:["",[Cn.required]]})}isInvalid(t){let e=this.resetForm.get(t);return!!(e&&e.invalid&&(e.dirty||e.touched))}onSubmit(){if(this.resetForm.invalid||this.passwordsDoNotMatch){this.resetForm.markAllAsTouched();return}let t=this.resetForm.value,e=this.email,i=t.sentToken;this.router.navigate(["/enter-new-password"],{state:{email:e,token:i}})}static \u0275fac=function(e){return new(e||n)(D($o))};static \u0275cmp=F({type:n,selectors:[["app-sent-token-password"]],decls:12,vars:3,consts:[[1,"container-fluid","d-flex","justify-content-center"],[1,"card","shadow-lg","p-4","reset-card"],[1,"text-center","mb-4","text-primary"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","sentToken",1,"form-label"],["type","text","id","sent token","formControlName","sentToken",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"h3",2),p(3,"Enter Token Sent To Your Email"),d(),u(4,"form",3),I("ngSubmit",function(){return i.onSubmit()}),u(5,"div",4)(6,"label",5),p(7,"Token"),d(),M(8,"input",6),S(9,dJ,2,0,"div",7),d(),u(10,"button",8),p(11,"Send Reset Link"),d()()()()),e&2&&(m(4),x("formGroup",i.resetForm),m(5),x("ngIf",i.isInvalid("newPassword")),m(),x("disabled",i.resetForm.invalid))},dependencies:[Go,Ye,Xe,Pe,qe,po,ho,Ke,J,ye],styles:['.container-fluid[_ngcontent-%COMP%]{background-image:url("./media/login-Y36H55X4.png");height:100vh}.reset-card[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:auto 0;background:#fff;border-radius:15px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out;position:relative}.reset-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600}.reset-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:10px;transition:border-color .3s}.reset-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.reset-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;padding:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#5a67d8;border:none;border-radius:.5rem;animation:_ngcontent-%COMP%_fadeIn 1s ease-out;width:100%;margin:0 auto}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#434190}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}']})};var c0=class n{constructor(t,e){this.document=t;this.authService=e}token;ngAfterViewInit(){console.log("in component"),this.token=this.getCookie("token"),console.log(this.token+"in cookies")}getCookie(t){let e=`${t}=`,o=decodeURIComponent(this.document.cookie).split(";");for(let r of o)if(r=r.trim(),r.indexOf(e)===0)return this.authService.handleGoogleCallback(r.substring(e.length,r.length)),r.substring(e.length,r.length);return null}static \u0275fac=function(e){return new(e||n)(D(be),D(Ce))};static \u0275cmp=F({type:n,selectors:[["app-auth-callback"]],decls:2,vars:0,template:function(e,i){e&1&&(u(0,"p"),p(1,"Loading..."),d())},encapsulation:2})};var d0=class n{constructor(t,e,i,o){this.service=t;this.data=e;this.dialogRef=i;this.matDialog=o;this.itemName=this.data.itemName}itemName;toastService=y(ae);confirm(){let t=this.matDialog.open(We,{disableClose:!0});this.service.deleteBooking(this.data.bookingId).subscribe({next:e=>{t.close(),this.toastService.success("Booking Deleted Successfully!","\u2705 Success",{toastClass:"ngx-toastr custom-success"}),this.dialogRef.close(!0)},error:e=>{t.close();let i="";e.error.errors.map(o=>i+=o+`
`),this.toastService.error(i,"\u274C Error",{toastClass:"ngx-toastr custom-error"})}}),this.dialogRef.close(!0)}cancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||n)(D($n),D(fi),D(Sn),D(ne))};static \u0275cmp=F({type:n,selectors:[["app-delete-booking"]],decls:8,vars:1,consts:[[1,"delete-dialog"],[1,"buttons"],[3,"click"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"h4"),p(2),d(),u(3,"div",1)(4,"button",2),I("click",function(){return i.confirm()}),p(5,"Delete"),d(),u(6,"button",2),I("click",function(){return i.cancel()}),p(7,"Cancel"),d()()()),e&2&&(m(2),T("Are Sure You want To Delete This ",i.itemName,""))},styles:[".delete-dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px}.delete-dialog[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;padding:0 20px;margin:0 auto;height:100px;gap:20px}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:10px;padding:8px;width:100px}.delete-dialog[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:700}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#2196f3;color:#fff}.delete-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{color:#000;border:1px solid black;background-color:#fff}"]})};var uJ=(n,t)=>t.bookingID;function fJ(n,t){if(n&1&&(u(0,"tr",19)(1,"td",20),p(2),d(),u(3,"td",20),p(4),d(),u(5,"td",20),p(6),d(),u(7,"td",20),p(8),d(),u(9,"td",20),p(10),d(),u(11,"td",20),p(12),d()()),n&2){let e=t.$implicit,i=t.$index;rn("--row-index: ",i,";"),m(2),A(e.bookingID),m(2),A(e.bookingDate.split("T")[0]),m(2),A(e.tourGuideName),m(2),A(e.hotelName),m(2),A(e.status),m(2),T("$",e.totalPrice,"")}}function pJ(n,t){if(n&1&&(u(0,"table",17)(1,"thead")(2,"tr")(3,"th"),p(4,"Booking ID"),d(),u(5,"th"),p(6,"Date"),d(),u(7,"th"),p(8,"Tour Guide"),d(),u(9,"th"),p(10,"Hotel"),d(),u(11,"th"),p(12,"Status"),d(),u(13,"th"),p(14,"Price"),d()()(),u(15,"tbody"),ue(16,fJ,13,9,"tr",18,uJ),d()()),n&2){let e=w();m(16),fe(e.filteredBookings)}}function hJ(n,t){if(n&1&&(u(0,"div",21)(1,"p",22),p(2),d()()),n&2){let e=w();m(2),T("No ",e.filteredStatus||"available"," bookings")}}var u0=class n{service=y(tr);admin;matDialog=y(ne);bookings=[];filteredBookings=[];filteredStatus="";ngOnInit(){this.service.getAdminDashboard().subscribe({next:t=>{this.admin=t,this.bookings=t.recentBookings,this.filteredBookings=[],this.filteredStatus="Pending",this.filteredBookings=t.recentBookings.filter(e=>e.status===this.filteredStatus)}}),this.service.getAdminDashboard()}filterBookings(t){this.filteredStatus=t,this.filteredBookings=[],this.admin.recentBookings.map(e=>{e.status==t&&this.filteredBookings.push(e)}),console.log(`list with ${t} is ${this.filteredBookings}`)}openDeleteDialog(t){this.matDialog.open(d0,{data:{id:t}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-bookings"]],decls:24,vars:8,consts:[[1,"container","mt-5"],["routerLink","/admin",1,"fancy-btn","back-to-dashboard-btn","mb-4"],[1,"fa","fa-arrow-left"],[1,"row","mb-5"],[1,"col-12"],[1,"section-heading"],["role","group",1,"btn-group","mb-3","filter-group"],["aria-label","pending",1,"btn","btn-outline","fancy-btn","mx-1","filter-btn",3,"click"],["aria-label","confirmed",1,"btn","btn-outline","fancy-btn","mx-1","filter-btn",3,"click"],["aria-label","cancelled",1,"btn","btn-outline","fancy-btn","mx-1","filter-btn",3,"click"],[1,"row","mb-4"],[1,"card","fancy-card","card-animated"],[1,"card-body"],[1,"card-title","title-animated"],[1,"table-responsive"],["class","table fancy-table table-animated",4,"ngIf"],["class","no-bookings-message",4,"ngIf"],[1,"table","fancy-table","table-animated"],[1,"fancy-table-row",3,"style"],[1,"fancy-table-row"],[1,"cell-animated"],[1,"no-bookings-message"],[1,"text-center"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"button",1),M(2,"i",2),p(3," Back to Dashboard "),d(),u(4,"div",3)(5,"div",4)(6,"h2",5),p(7,"Filtered Bookings"),d(),u(8,"div",6)(9,"button",7),I("click",function(){return i.filterBookings("Pending")}),p(10,"Pending"),d(),u(11,"button",8),I("click",function(){return i.filterBookings("Confirmed")}),p(12,"Confirmed"),d(),u(13,"button",9),I("click",function(){return i.filterBookings("Cancelled")}),p(14,"Cancelled"),d()()(),u(15,"div",10)(16,"div",4)(17,"div",11)(18,"div",12)(19,"h5",13),p(20,"Your Bookings"),d(),u(21,"div",14),S(22,pJ,18,0,"table",15)(23,hJ,3,1,"div",16),d()()()()()()()),e&2&&(m(9),tt("active",i.filteredStatus==="Pending"),m(2),tt("active",i.filteredStatus==="Confirmed"),m(2),tt("active",i.filteredStatus==="Cancelled"),m(9),x("ngIf",i.filterBookings.length>0),m(),x("ngIf",(i.filteredBookings==null?null:i.filteredBookings.length)===0))},dependencies:[J,ye,ie],styles:['.btn-group.filter-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;padding:10px;background:#ffffff1a;border-radius:15px;box-shadow:0 4px 15px #0000001a;animation:_ngcontent-%COMP%_pulse 2s infinite ease-in-out}.btn-group[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px;border-radius:10px;position:relative;overflow:hidden;border:2px solid transparent;transition:all .4s cubic-bezier(.4,0,.2,1),border-color .3s ease}.btn-group[_ngcontent-%COMP%]   .fancy-btn.filter-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f0f0f0);color:#333}.btn-group[_ngcontent-%COMP%]   .fancy-btn.filter-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#daa520);color:#fff;transform:scale(1.05);box-shadow:0 6px 20px #4caf5066}.btn-group[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #0003;color:#000}.btn-group[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]:hover[aria-label=confirmed]{background:linear-gradient(135deg,#4caf50,#66bb6a)}.btn-group[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]:hover[aria-label=cancelled]{background:linear-gradient(135deg,#af4c4c,#de1919)}.btn-group[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]:hover[aria-label=pending]{background:linear-gradient(135deg,#ded032,#d8de19)}.btn-group[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_ripple .6s ease-out forwards}.btn-group[_ngcontent-%COMP%]   .fancy-btn.bg-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#66bb6a,#4caf50)}.btn-group[_ngcontent-%COMP%]   .fancy-btn.bg-warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffca28,#ffb300)}.btn-group[_ngcontent-%COMP%]   .fancy-btn.bg-danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ef5350,#e53935)}.fancy-card.card-animated[_ngcontent-%COMP%]{background:#ffffff4d;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:15px;box-shadow:0 8px 25px #0006;transition:transform .4s cubic-bezier(.4,0,.2,1),box-shadow .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out}.fancy-card.card-animated[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 35px #00000080}.card-title.title-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out;color:#000;font-weight:600}.table-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.fancy-table-row[_ngcontent-%COMP%]{transition:background-color .3s ease,transform .2s ease;animation:_ngcontent-%COMP%_rowFadeIn .5s ease-out;animation-delay:calc(var(--row-index) * .1s)}.fancy-table-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;transform:translateY(-2px);box-shadow:0 4px 10px #0000001a}.cell-animated[_ngcontent-%COMP%]{transition:color .3s ease,transform .2s ease}.cell-animated[_ngcontent-%COMP%]:hover{color:#9c27b0;transform:scale(1.02)}.no-bookings-message[_ngcontent-%COMP%]{padding:20px;text-align:center;background:#fff3;border-radius:10px;box-shadow:0 4px 15px #0000001a;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.no-bookings-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;font-weight:500;margin:0}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #9c27b066}70%{box-shadow:0 0 0 10px #9c27b000}to{box-shadow:0 0 #9c27b000}}@keyframes _ngcontent-%COMP%_rowFadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_glowPulse{0%{box-shadow:0 12px 35px #0006}20%{box-shadow:0 12px 30px #daa520}50%{box-shadow:0 12px 35px #0006}70%{box-shadow:0 12px 30px #daa520}to{box-shadow:0 12px 35px #0006}}@media (max-width: 576px){.btn-group[_ngcontent-%COMP%]   .fancy-btn[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 10px}.fancy-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .fancy-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:.9rem}.card-animated[_ngcontent-%COMP%]{padding:10px}.no-bookings-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.back-to-dashboard-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:20px 0;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.back-to-dashboard-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#daa520,#d4a017);color:#fff;font-weight:600;letter-spacing:.5px;padding:10px 20px;border:none;border-radius:50px;box-shadow:0 4px 15px #0003;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;display:flex;align-items:center;gap:8px;cursor:pointer}.back-to-dashboard-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 6px 20px #d4a01780;background:linear-gradient(135deg,#e6b800,#daa520);color:#fff}.back-to-dashboard-btn[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_ripple .6s ease-out forwards}.back-to-dashboard-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.back-to-dashboard-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-3px)}.back-to-dashboard-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98);box-shadow:0 2px 10px #0003}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_ripple{to{width:300px;height:300px;opacity:0}}@media (max-width: 576px){.back-to-dashboard-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 15px}.back-to-dashboard-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}}']})};var mJ=(n,t)=>t.guideID;function gJ(n,t){if(n&1){let e=U();u(0,"div",7)(1,"div",9)(2,"div",10)(3,"h5",11),p(4),d(),u(5,"p",12)(6,"strong"),p(7,"License:"),d(),p(8),d(),u(9,"p",12)(10,"strong"),p(11,"Languages:"),d(),p(12),d(),u(13,"p",12)(14,"strong"),p(15,"Areas:"),d(),p(16),d(),u(17,"p",12)(18,"strong"),p(19,"Price/Hour:"),d(),p(20),d(),u(21,"p",12)(22,"strong"),p(23,"Email:"),d(),p(24),d(),u(25,"p",12)(26,"strong"),p(27,"Phone:"),d(),p(28),d(),u(29,"p",12)(30,"strong"),p(31,"Rating:"),d(),p(32),d(),u(33,"p",12)(34,"strong"),p(35,"Bookings:"),d(),p(36),d(),u(37,"p",12)(38,"strong"),p(39,"Available:"),d(),p(40),d(),u(41,"button",13),I("click",function(){let o=P(e).$implicit,r=w();return O(r.verifyUser(o.guideID))}),M(42,"i",14),p(43," Confirm "),d()()()()}if(n&2){let e=t.$implicit,i=t.$index;m(),rn("--card-index: ",i,";"),m(3),A(e.guideName),m(4),T(" ",e.licenseNumber,""),m(4),T(" ",e.languages,""),m(4),T(" ",e.areasCovered,""),m(4),T(" $",e.pricePerHour,""),m(4),T(" ",e.contactEmail,""),m(4),T(" ",e.contactPhone,""),m(4),T(" ",e.averageRating," / 5"),m(4),T(" ",e.totalBookings,""),m(4),T(" ",e.isAvailable?"Yes":"No","")}}function _J(n,t){n&1&&(u(0,"div",4)(1,"div",15)(2,"p",16),p(3,"No tour guides available"),d()()())}var f0=class n{tourGuides;dialog=y(ne);ngOnInit(){this.service.getAllGuides().subscribe({next:t=>{this.tourGuides=t}}),this.service.getAllGuides()}admin;service=y(tr);toastService=y(ae);verifyUser(t){let e=this.dialog.open(We,{disableClose:!0});this.service.verifyUser(t).subscribe({next:i=>{e.close(),this.toastService.success("User is verified!","\u2705 Success",{toastClass:"ngx-toastr custom-success"})},error:i=>{e.close(),this.toastService.error("Error verifying user!","\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-tour-guides"]],decls:12,vars:1,consts:[[1,"container","mt-5"],["routerLink","/admin",1,"fancy-btn","back-to-dashboard-btn","mb-3"],[1,"fa","fa-arrow-left"],[1,"row","mb-5"],[1,"col-12"],[1,"section-heading"],[1,"row","row-animated"],[1,"col-md-4","mb-4"],["class","col-12",4,"ngIf"],[1,"card","fancy-card","card-animated","mt-auto"],[1,"card-body"],[1,"card-title","title-animated"],[1,"card-text"],[1,"fancy-btn","confirm-btn",3,"click"],[1,"bi","bi-check-circle"],[1,"no-guides-message"],[1,"text-center"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"button",1),M(2,"i",2),p(3," Back to Dashboard "),d(),u(4,"div",3)(5,"div",4)(6,"h2",5),p(7,"Tour Guides"),d()()(),u(8,"div",6),ue(9,gJ,44,13,"div",7,mJ),S(11,_J,4,0,"div",8),d()()),e&2&&(m(9),fe(i.tourGuides),m(2),x("ngIf",(i.tourGuides==null?null:i.tourGuides.length)===0))},dependencies:[J,ye,ie],styles:['.container[_ngcontent-%COMP%]{padding-top:12px;background:#fff;min-height:100vh;overflow-y:auto}.section-heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px;color:#000;border-left:5px solid goldenrod;padding-left:12px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.row-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.fancy-card[_ngcontent-%COMP%]{height:450px}.fancy-card.card-animated[_ngcontent-%COMP%]{background:#ffffff4d;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:15px;box-shadow:0 8px 25px #0006;transition:transform .4s cubic-bezier(.4,0,.2,1),box-shadow .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out;animation-delay:calc(var(--card-index) * .2s)}.fancy-card.card-animated[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 35px #d4a01780;background:#ffffff59;animation:_ngcontent-%COMP%_glowPulse 3.5s ease-in-out infinite}.guide-photo[_ngcontent-%COMP%]{overflow:hidden;border-top-left-radius:15px;border-top-right-radius:15px}.guide-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;transition:transform .4s ease}.fancy-card[_ngcontent-%COMP%]:hover   .guide-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.1)}.card-title.title-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out;color:#000;font-weight:600}.card-text[_ngcontent-%COMP%]{color:#333;font-size:.95rem;margin-bottom:5px}.fancy-btn.confirm-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#daa520,#d4a017);color:#fff;font-weight:600;letter-spacing:.5px;padding:10px 20px;border:none;border-radius:50px;box-shadow:0 4px 15px #0003;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;display:flex;align-items:center;gap:8px;width:100%;margin-top:10px}.fancy-btn.confirm-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 6px 20px #d4a01780;background:linear-gradient(135deg,#e6b800,#daa520);color:#fff}.fancy-btn.confirm-btn[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_ripple .6s ease-out forwards}.fancy-btn.confirm-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.fancy-btn.confirm-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-3px)}.fancy-btn.confirm-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98);box-shadow:0 2px 10px #0003}.no-guides-message[_ngcontent-%COMP%]{padding:20px;text-align:center;background:#fff3;border-radius:10px;box-shadow:0 4px 15px #0000001a;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.no-guides-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;font-weight:500;margin:0}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_glowPulse{0%{box-shadow:0 12px 35px #0006}20%{box-shadow:0 12px 30px #daa520}50%{box-shadow:0 12px 35px #0006}70%{box-shadow:0 12px 30px #daa520}to{box-shadow:0 12px 35px #0006}}@media (max-width: 576px){.col-md-4[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.guide-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px}.card-title[_ngcontent-%COMP%]{font-size:1.2rem}.card-text[_ngcontent-%COMP%]{font-size:.9rem}.fancy-btn.confirm-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 15px}.no-guides-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.back-to-dashboard-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:20px 0;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.back-to-dashboard-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#daa520,#d4a017);color:#fff;font-weight:600;letter-spacing:.5px;padding:10px 20px;border:none;border-radius:50px;box-shadow:0 4px 15px #0003;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;display:flex;align-items:center;gap:8px;cursor:pointer}.back-to-dashboard-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 6px 20px #d4a01780;background:linear-gradient(135deg,#e6b800,#daa520);color:#fff}.back-to-dashboard-btn[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_ripple .6s ease-out forwards}.back-to-dashboard-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.back-to-dashboard-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-3px)}.back-to-dashboard-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98);box-shadow:0 2px 10px #0003}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_ripple{to{width:300px;height:300px;opacity:0}}@media (max-width: 576px){.back-to-dashboard-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 15px}.back-to-dashboard-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}}']})};var vJ=(n,t)=>t.hotelID;function bJ(n,t){if(n&1){let e=U();u(0,"div",7)(1,"div",9)(2,"div",10)(3,"h5",11),p(4),d(),u(5,"p",12)(6,"strong"),p(7,"Address:"),d(),p(8),d(),u(9,"p",12)(10,"strong"),p(11,"Description:"),d(),p(12),d(),u(13,"p",12)(14,"strong"),p(15,"Rating:"),d(),p(16),d(),u(17,"p",12)(18,"strong"),p(19,"Email:"),d(),p(20),d(),u(21,"p",12)(22,"strong"),p(23,"Phone:"),d(),p(24),d(),u(25,"p",12)(26,"strong"),p(27,"Total Rooms:"),d(),p(28),d(),u(29,"p",12)(30,"strong"),p(31,"Available Rooms:"),d(),p(32),d(),u(33,"button",13),I("click",function(){let o=P(e).$implicit,r=w();return O(r.verifyUser(o.hotelID))}),M(34,"i",14),p(35," Confirm "),d()()()()}if(n&2){let e=t.$implicit,i=t.$index;m(),rn("--card-index: ",i,";"),m(3),A(e.hotelName),m(4),T(" ",e.address,""),m(4),T(" ",e.description,""),m(4),T(" ",e.rating," / 5"),m(4),T(" ",e.contactEmail,""),m(4),T(" ",e.contactPhone,""),m(4),T(" ",e.totalRooms,""),m(4),T(" ",e.availableRooms,"")}}function yJ(n,t){n&1&&(u(0,"div",4)(1,"div",15)(2,"p",16),p(3,"No hotels available"),d()()())}var p0=class n{hotels;dialog=y(ne);toastSerivce=y(ae);ngOnInit(){this.service.getAllHotels().subscribe({next:t=>{this.hotels=t}}),this.service.getAllHotels()}service=y(tr);verifyUser(t){let e=this.dialog.open(We,{disableClose:!0});this.service.verifyUser(t).subscribe({next:i=>{e.close(),this.toastSerivce.success("User is verified!","\u2705 Success",{toastClass:"ngx-toastr custom-success"})},error:i=>{e.close(),this.toastSerivce.error("Error verifying user!","\u274C Error",{toastClass:"ngx-toastr custom-error"})}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=F({type:n,selectors:[["app-tour-guides"]],decls:12,vars:1,consts:[[1,"container","mt-5"],["routerLink","/admin",1,"fancy-btn","back-to-dashboard-btn","mb-3"],[1,"fa","fa-arrow-left"],[1,"row","mb-5"],[1,"col-12"],[1,"section-heading"],[1,"row","row-animated"],[1,"col-md-4","mb-4"],["class","col-12",4,"ngIf"],[1,"card","fancy-card","card-animated"],[1,"card-body"],[1,"card-title","title-animated"],[1,"card-text"],[1,"fancy-btn","confirm-btn",3,"click"],[1,"bi","bi-check-circle"],[1,"no-guides-message"],[1,"text-center"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"button",1),M(2,"i",2),p(3," Back to Dashboard "),d(),u(4,"div",3)(5,"div",4)(6,"h2",5),p(7,"Hotels"),d()()(),u(8,"div",6),ue(9,bJ,36,11,"div",7,vJ),S(11,yJ,4,0,"div",8),d()()),e&2&&(m(9),fe(i.hotels),m(2),x("ngIf",(i.hotels==null?null:i.hotels.length)===0))},dependencies:[J,ye,ie],styles:['.container[_ngcontent-%COMP%]{background:#fff;min-height:100vh;overflow-y:auto;padding-top:12px}.section-heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:15px;color:#000;border-left:5px solid goldenrod;padding-left:12px;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.row-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.fancy-card.card-animated[_ngcontent-%COMP%]{background:#ffffff4d;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:15px;box-shadow:0 8px 25px #0006;transition:transform .4s cubic-bezier(.4,0,.2,1),box-shadow .4s ease;animation:_ngcontent-%COMP%_cardPopIn .8s ease-out;animation-delay:calc(var(--card-index) * .2s)}.fancy-card.card-animated[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.03);box-shadow:0 12px 35px #d4a01780;background:#ffffff59;animation:_ngcontent-%COMP%_glowPulse 3.5s ease-in-out infinite}.guide-photo[_ngcontent-%COMP%]{overflow:hidden;border-top-left-radius:15px;border-top-right-radius:15px}.guide-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;transition:transform .4s ease}.fancy-card[_ngcontent-%COMP%]:hover   .guide-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.1)}.card-title.title-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-out;color:#000;font-weight:600}.card-text[_ngcontent-%COMP%]{color:#333;font-size:.95rem;margin-bottom:5px}.fancy-btn.confirm-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#daa520,#d4a017);color:#fff;font-weight:600;letter-spacing:.5px;padding:10px 20px;border:none;border-radius:50px;box-shadow:0 4px 15px #0003;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;display:flex;align-items:center;gap:8px;width:100%;margin-top:10px}.fancy-btn.confirm-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 6px 20px #d4a01780;background:linear-gradient(135deg,#e6b800,#daa520);color:#fff}.fancy-btn.confirm-btn[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_ripple .6s ease-out forwards}.fancy-btn.confirm-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.fancy-btn.confirm-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-3px)}.fancy-btn.confirm-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98);box-shadow:0 2px 10px #0003}.no-guides-message[_ngcontent-%COMP%]{padding:20px;text-align:center;background:#fff3;border-radius:10px;box-shadow:0 4px 15px #0000001a;animation:_ngcontent-%COMP%_fadeIn 1s ease-out}.no-guides-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;font-weight:500;margin:0}@keyframes _ngcontent-%COMP%_cardPopIn{0%{opacity:0;transform:scale(.95) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_glowPulse{0%{box-shadow:0 12px 35px #0006}20%{box-shadow:0 12px 30px #daa520}50%{box-shadow:0 12px 35px #0006}70%{box-shadow:0 12px 30px #daa520}to{box-shadow:0 12px 35px #0006}}@media (max-width: 576px){.col-md-4[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%}.guide-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px}.card-title[_ngcontent-%COMP%]{font-size:1.2rem}.card-text[_ngcontent-%COMP%]{font-size:.9rem}.fancy-btn.confirm-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 15px}.no-guides-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}.back-to-dashboard-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:20px 0;animation:_ngcontent-%COMP%_fadeInUp 1s ease-out}.back-to-dashboard-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#daa520,#d4a017);color:#fff;font-weight:600;letter-spacing:.5px;padding:10px 20px;border:none;border-radius:50px;box-shadow:0 4px 15px #0003;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;display:flex;align-items:center;gap:8px;cursor:pointer}.back-to-dashboard-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 6px 20px #d4a01780;background:linear-gradient(135deg,#e6b800,#daa520);color:#fff}.back-to-dashboard-btn[_ngcontent-%COMP%]:hover:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff4d;border-radius:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_ripple .6s ease-out forwards}.back-to-dashboard-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.back-to-dashboard-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-3px)}.back-to-dashboard-btn[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98);box-shadow:0 2px 10px #0003}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_ripple{to{width:300px;height:300px;opacity:0}}@media (max-width: 576px){.back-to-dashboard-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 15px}.back-to-dashboard-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}}']})};var HA=[{path:"",component:jd,pathMatch:"full"},{path:"home",component:jd},{path:"auth/callback",component:c0},{path:"login",component:zg},{path:"register",component:Im},{path:"register/company",component:Wg},{path:"register/guide",component:jg},{path:"register/hotel",component:Ug},{path:"register/tourist",component:Hg},{path:"tour-guides",component:Sm},{path:"top-tour-guides",component:Fl},{path:"tourguide-booking",component:Rm},{path:"tour-guide-details/:guideId",component:Nm},{path:"tour-packages",component:Vm},{path:"package-details/:packageId",component:km},{path:"package-booking/:packageId",component:Fm},{path:"hotel-reservation",component:Om},{path:"hotel-details/:hotelId",component:Pm},{path:"hotel-booking",component:Tm},{path:"room-details/:roomId",component:Am},{path:"forgot-password",component:s0},{path:"enter-sent-token",component:l0},{path:"enter-new-password",component:a0},{path:"admin",canActivate:[_o,PA],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:n0},{path:"bookings",component:u0},{path:"guides",component:f0},{path:"hotels",component:p0}]},{path:"tourist",canActivate:[_o,DA],children:[{path:"dashboard",component:Gg},{path:"dashboard/edit-booking/:id",component:Xg},{path:"hotel-offers",component:jm},{path:"new-trip",component:t0},{path:"hotel-details/:hotelId",component:Bm},{path:"dashboard/guide-offers",component:Hm}]},{path:"create-checkout-session",component:r0,canActivate:[_o]},{path:"tour-guide",component:Um,canActivate:[_o,SA],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Ag},{path:"profile",component:Rg},{path:"bookings",component:e0}]},{path:"company",component:Vg,canActivate:[_o,EA],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Bg},{path:"new-package",component:Ng},{path:"edit-package/:id",component:Fg},{path:"packages",component:Jg},{path:"bookings",component:Lg}]},{path:"hotel",component:zm,canActivate:[_o,MA],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Ig},{path:"profile",component:Tg},{path:"new-room",component:qg},{path:"rooms",component:Kg},{path:"rooms/:id",component:Zg,resolve:{id:n=>n.paramMap.get("id")}}]},{path:"**",redirectTo:""}];function UA(n){return new H(3e3,!1)}function CJ(){return new H(3100,!1)}function xJ(){return new H(3101,!1)}function wJ(n){return new H(3001,!1)}function MJ(n){return new H(3003,!1)}function EJ(n){return new H(3004,!1)}function $A(n,t){return new H(3005,!1)}function GA(){return new H(3006,!1)}function WA(){return new H(3007,!1)}function qA(n,t){return new H(3008,!1)}function YA(n){return new H(3002,!1)}function KA(n,t,e,i,o){return new H(3010,!1)}function ZA(){return new H(3011,!1)}function QA(){return new H(3012,!1)}function XA(){return new H(3200,!1)}function JA(){return new H(3202,!1)}function eR(){return new H(3013,!1)}function tR(n){return new H(3014,!1)}function nR(n){return new H(3015,!1)}function iR(n){return new H(3016,!1)}function oR(n,t){return new H(3404,!1)}function DJ(n){return new H(3502,!1)}function rR(n){return new H(3503,!1)}function sR(){return new H(3300,!1)}function aR(n){return new H(3504,!1)}function lR(n){return new H(3301,!1)}function cR(n,t){return new H(3302,!1)}function dR(n){return new H(3303,!1)}function uR(n,t){return new H(3400,!1)}function fR(n){return new H(3401,!1)}function pR(n){return new H(3402,!1)}function hR(n,t){return new H(3505,!1)}function Nr(n){switch(n.length){case 0:return new jo;case 1:return n[0];default:return new ia(n)}}function wx(n,t,e=new Map,i=new Map){let o=[],r=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),f=c==s,h=f&&a||new Map;l.forEach((_,g)=>{let v=g,b=_;if(g!=="offset")switch(v=n.normalizePropertyName(v,o),b){case El:b=e.get(g);break;case Vi:b=i.get(g);break;default:b=n.normalizeStyleValue(g,v,b,o);break}h.set(v,b)}),f||r.push(h),a=h,s=c}),o.length)throw DJ(o);return r}function h0(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&yx(e,"start",n)));break;case"done":n.onDone(()=>i(e&&yx(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&yx(e,"destroy",n)));break}}function yx(n,t,e){let i=e.totalTime,o=!!e.disabled,r=m0(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,o),s=n._data;return s!=null&&(r._data=s),r}function m0(n,t,e,i,o="",r=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:o,totalTime:r,disabled:!!s}}function _i(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function Mx(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var SJ=typeof document>"u"?null:document.documentElement;function g0(n){let t=n.parentNode||n.host||null;return t===SJ?null:t}function PJ(n){return n.substring(1,6)=="ebkit"}var Ma=null,zA=!1;function mR(n){Ma||(Ma=OJ()||{},zA=Ma.style?"WebkitAppearance"in Ma.style:!1);let t=!0;return Ma.style&&!PJ(n)&&(t=n in Ma.style,!t&&zA&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ma.style)),t}function OJ(){return typeof document<"u"?document.body:null}function Ex(n,t){for(;t;){if(t===n)return!0;t=g0(t)}return!1}function Dx(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var IJ=1e3,Sx="{{",kJ="}}",Px="ng-enter",_0="ng-leave",xu="ng-trigger",wu=".ng-trigger",Ox="ng-animating",v0=".ng-animating";function nr(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Cx(parseFloat(t[1]),t[2])}function Cx(n,t){switch(t){case"s":return n*IJ;default:return n}}function Mu(n,t,e){return n.hasOwnProperty("duration")?n:TJ(n,t,e)}function TJ(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,o,r=0,s="";if(typeof n=="string"){let a=n.match(i);if(a===null)return t.push(UA(n)),{duration:0,delay:0,easing:""};o=Cx(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(r=Cx(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else o=n;if(!e){let a=!1,l=t.length;o<0&&(t.push(CJ()),a=!0),r<0&&(t.push(xJ()),a=!0),a&&t.splice(l,0,UA(n))}return{duration:o,delay:r,easing:s}}function gR(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function bo(n,t,e){t.forEach((i,o)=>{let r=b0(o);e&&!e.has(o)&&e.set(o,n.style[r]),n.style[r]=i})}function _s(n,t){t.forEach((e,i)=>{let o=b0(i);n.style[o]=""})}function nc(n){return Array.isArray(n)?n.length==1?n[0]:RI(n):n}function _R(n,t,e){let i=t.params||{},o=Ix(n);o.length&&o.forEach(r=>{i.hasOwnProperty(r)||e.push(wJ(r))})}var xx=new RegExp(`${Sx}\\s*(.+?)\\s*${kJ}`,"g");function Ix(n){let t=[];if(typeof n=="string"){let e;for(;e=xx.exec(n);)t.push(e[1]);xx.lastIndex=0}return t}function ic(n,t,e){let i=`${n}`,o=i.replace(xx,(r,s)=>{let a=t[s];return a==null&&(e.push(MJ(s)),a=""),a.toString()});return o==i?n:o}var AJ=/-+([a-z0-9])/g;function b0(n){return n.replace(AJ,(...t)=>t[1].toUpperCase())}function vR(n,t){return n===0||t===0}function bR(n,t,e){if(e.size&&t.length){let i=t[0],o=[];if(e.forEach((r,s)=>{i.has(s)||o.push(s),i.set(s,r)}),o.length)for(let r=1;r<t.length;r++){let s=t[r];o.forEach(a=>s.set(a,y0(n,a)))}}return t}function vi(n,t,e){switch(t.type){case Ae.Trigger:return n.visitTrigger(t,e);case Ae.State:return n.visitState(t,e);case Ae.Transition:return n.visitTransition(t,e);case Ae.Sequence:return n.visitSequence(t,e);case Ae.Group:return n.visitGroup(t,e);case Ae.Animate:return n.visitAnimate(t,e);case Ae.Keyframes:return n.visitKeyframes(t,e);case Ae.Style:return n.visitStyle(t,e);case Ae.Reference:return n.visitReference(t,e);case Ae.AnimateChild:return n.visitAnimateChild(t,e);case Ae.AnimateRef:return n.visitAnimateRef(t,e);case Ae.Query:return n.visitQuery(t,e);case Ae.Stagger:return n.visitStagger(t,e);default:throw EJ(t.type)}}function y0(n,t){return window.getComputedStyle(n)[t]}var qx=(()=>{class n{validateStyleProperty(e){return mR(e)}containsElement(e,i){return Ex(e,i)}getParentElement(e){return g0(e)}query(e,i,o){return Dx(e,i,o)}computeStyle(e,i,o){return o||""}animate(e,i,o,r,s,a=[],l){return new jo(o,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Da=class{static NOOP=new qx},Sa=class{};var RJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),E0=class extends Sa{normalizePropertyName(t,e){return b0(t)}normalizeStyleValue(t,e,i,o){let r="",s=i.toString().trim();if(RJ.has(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&o.push($A(t,i))}return s+r}};var D0="*";function NJ(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>FJ(i,e,t)):e.push(n),e}function FJ(n,t,e){if(n[0]==":"){let l=LJ(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(nR(n)),t;let o=i[1],r=i[2],s=i[3];t.push(yR(o,s));let a=o==D0&&s==D0;r[0]=="<"&&!a&&t.push(yR(s,o))}function LJ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(iR(n)),"* => *"}}var C0=new Set(["true","1"]),x0=new Set(["false","0"]);function yR(n,t){let e=C0.has(n)||x0.has(n),i=C0.has(t)||x0.has(t);return(o,r)=>{let s=n==D0||n==o,a=t==D0||t==r;return!s&&e&&typeof o=="boolean"&&(s=o?C0.has(n):x0.has(n)),!a&&i&&typeof r=="boolean"&&(a=r?C0.has(t):x0.has(t)),s&&a}}var IR=":self",VJ=new RegExp(`s*${IR}s*,?`,"g");function kR(n,t,e,i){return new Fx(n).build(t,e,i)}var CR="",Fx=class{_driver;constructor(t){this._driver=t}build(t,e,i){let o=new Lx(e);return this._resetContextStyleTimingState(o),vi(this,nc(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector=CR,t.collectedStyles=new Map,t.collectedStyles.set(CR,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,o=e.depCount=0,r=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(GA()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Ae.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,r.push(this.visitState(l,e))}),l.name=c}else if(a.type==Ae.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,o+=l.depCount,s.push(l)}else e.errors.push(WA())}),{type:Ae.Trigger,name:t.name,states:r,transitions:s,queryCount:i,depCount:o,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(i.containsDynamicStyles){let r=new Set,s=o||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Ix(l).forEach(c=>{s.hasOwnProperty(c)||r.add(c)})})}),r.size&&e.errors.push(qA(t.name,[...r.values()]))}return{type:Ae.State,name:t.name,style:i,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=vi(this,nc(t.animation),e),o=NJ(t.expr,e.errors);return{type:Ae.Transition,matchers:o,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ea(t.options)}}visitSequence(t,e){return{type:Ae.Sequence,steps:t.steps.map(i=>vi(this,i,e)),options:Ea(t.options)}}visitGroup(t,e){let i=e.currentTime,o=0,r=t.steps.map(s=>{e.currentTime=i;let a=vi(this,s,e);return o=Math.max(o,e.currentTime),a});return e.currentTime=o,{type:Ae.Group,steps:r,options:Ea(t.options)}}visitAnimate(t,e){let i=UJ(t.timings,e.errors);e.currentAnimateTimings=i;let o,r=t.styles?t.styles:ns({});if(r.type==Ae.Keyframes)o=this.visitKeyframes(r,e);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};i.easing&&(c.easing=i.easing),s=ns(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,o=l}return e.currentAnimateTimings=null,{type:Ae.Animate,timings:i,style:o,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of o)typeof a=="string"?a===Vi?i.push(a):e.errors.push(YA(a)):i.push(new Map(Object.entries(a)));let r=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!r)){for(let l of a.values())if(l.toString().indexOf(Sx)>=0){r=!0;break}}}),{type:Ae.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,o=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),f=c.get(l),h=!0;f&&(r!=o&&r>=f.startTime&&o<=f.endTime&&(e.errors.push(KA(l,f.startTime,f.endTime,r,o)),h=!1),r=f.startTime),h&&c.set(l,{startTime:r,endTime:o}),e.options&&_R(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:Ae.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(ZA()),i;let o=1,r=0,s=[],a=!1,l=!1,c=0,f=t.steps.map(E=>{let k=this._makeStyleAst(E,e),R=k.offset!=null?k.offset:HJ(k.styles),V=0;return R!=null&&(r++,V=k.offset=R),l=l||V<0||V>1,a=a||V<c,c=V,s.push(V),k});l&&e.errors.push(QA()),a&&e.errors.push(XA());let h=t.steps.length,_=0;r>0&&r<h?e.errors.push(JA()):r==0&&(_=o/(h-1));let g=h-1,v=e.currentTime,b=e.currentAnimateTimings,C=b.duration;return f.forEach((E,k)=>{let R=_>0?k==g?1:_*k:s[k],V=R*C;e.currentTime=v+b.delay+V,b.duration=V,this._validateStyleAst(E,e),E.offset=R,i.styles.push(E)}),i}visitReference(t,e){return{type:Ae.Reference,animation:vi(this,nc(t.animation),e),options:Ea(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Ae.AnimateChild,options:Ea(t.options)}}visitAnimateRef(t,e){return{type:Ae.AnimateRef,animation:this.visitReference(t.animation,e),options:Ea(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;let[r,s]=BJ(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,_i(e.collectedStyles,e.currentQuerySelector,new Map);let a=vi(this,nc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Ae.Query,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Ea(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(eR());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Mu(t.timings,e.errors,!0);return{type:Ae.Stagger,animation:vi(this,nc(t.animation),e),timings:i,options:null}}};function BJ(n){let t=!!n.split(/\s*,\s*/).find(e=>e==IR);return t&&(n=n.replace(VJ,"")),n=n.replace(/@\*/g,wu).replace(/@\w+/g,e=>wu+"-"+e.slice(1)).replace(/:animating/g,v0),[n,t]}function jJ(n){return n?B({},n):null}var Lx=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function HJ(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function UJ(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let r=Mu(n,t).duration;return kx(r,0,"")}let e=n;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=kx(0,0,"");return r.dynamic=!0,r.strValue=e,r}let o=Mu(e,t);return kx(o.duration,o.delay,o.easing)}function Ea(n){return n?(n=B({},n),n.params&&(n.params=jJ(n.params))):n={},n}function kx(n,t,e){return{duration:n,delay:t,easing:e}}function Yx(n,t,e,i,o,r,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:a}}var Du=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},zJ=1,$J=":enter",GJ=new RegExp($J,"g"),WJ=":leave",qJ=new RegExp(WJ,"g");function TR(n,t,e,i,o,r=new Map,s=new Map,a,l,c=[]){return new Vx().buildKeyframes(n,t,e,i,o,r,s,a,l,c)}var Vx=class{buildKeyframes(t,e,i,o,r,s,a,l,c,f=[]){c=c||new Du;let h=new Bx(t,e,c,o,r,f,[]);h.options=l;let _=l.delay?nr(l.delay):0;h.currentTimeline.delayNextStep(_),h.currentTimeline.setStyles([s],null,h.errors,l),vi(this,i,h);let g=h.timelines.filter(v=>v.containsAnimation());if(g.length&&a.size){let v;for(let b=g.length-1;b>=0;b--){let C=g[b];if(C.element===e){v=C;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,h.errors,l)}return g.length?g.map(v=>v.buildKeyframes()):[Yx(e,[],[],[],0,_,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let o=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,o,o.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let o of t){let r=o?.delay;if(r){let s=typeof r=="number"?r:nr(ic(r,o?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime,s=i.duration!=null?nr(i.duration):null,a=i.delay!=null?nr(i.delay):null;return s!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),vi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,o=e,r=t.options;if(r&&(r.params||r.delay)&&(o=e.createSubContext(r),o.transformIntoNewTimeline(),r.delay!=null)){o.previousNode.type==Ae.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=S0);let s=nr(r.delay);o.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>vi(this,s,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],o=e.currentTimeline.currentTime,r=t.options&&t.options.delay?nr(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);r&&a.delayNextStep(r),vi(this,s,a),o=Math.max(o,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,o=e.params?ic(i,e.params,e.errors):i;return Mu(o,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),o.snapshotCurrentStyles());let r=t.style;r.type==Ae.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,o=e.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=o&&o.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,o=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*r),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(o+r),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,o=t.options||{},r=o.delay?nr(o.delay):0;r&&(e.previousNode.type===Ae.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=S0);let s=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,f)=>{e.currentQueryIndex=f;let h=e.createSubContext(t.options,c);r&&h.delayNextStep(r),c===e.element&&(l=h.currentTimeline),vi(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let _=h.currentTimeline.currentTime;s=Math.max(s,_)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,o=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let f=e.currentTimeline;l&&f.delayNextStep(l);let h=f.currentTime;vi(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=o.currentTime-h+(o.startTime-i.currentTimeline.startTime)}},S0={},Bx=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=S0;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,o,r,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=r,this.errors=s,this.timelines=a,this.currentTimeline=l||new P0(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,o=this.options;i.duration!=null&&(o.duration=nr(i.duration)),i.delay!=null&&(o.delay=nr(i.delay));let r=i.params;if(r){let s=o.params;s||(s=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=ic(r[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(o=>{i[o]=e[o]})}}return t}createSubContext(t=null,e,i){let o=e||this.element,r=new n(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=S0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},r=new jx(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,o,r,s){let a=[];if(o&&a.push(this.element),t.length>0){t=t.replace(GJ,"."+this._enterClassName),t=t.replace(qJ,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!r&&a.length==0&&s.push(tR(e)),a}},P0=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,o){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=zJ,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Vi),this._currentKeyframe.set(e,Vi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,o){e&&this._previousKeyframe.set("easing",e);let r=o&&o.params||{},s=YJ(t,this._globalTimelineStyles);for(let[a,l]of s){let c=ic(l,r,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Vi),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let o=this._styleSummary.get(i);(!o||e.time>o.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((f,h)=>{f===El?t.add(h):f===Vi&&e.add(h)}),i||c.set("offset",l/this.duration),o.push(c)});let r=[...t.values()],s=[...e.values()];if(i){let a=o[0],l=new Map(a);a.set("offset",0),l.set("offset",1),o=[a,l]}return Yx(this.element,o,r,s,this.duration,this.startTime,this.easing,!1)}},jx=class extends P0{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,o,r,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],s=i+e,a=e/s,l=new Map(t[0]);l.set("offset",0),r.push(l);let c=new Map(t[0]);c.set("offset",xR(a)),r.push(c);let f=t.length-1;for(let h=1;h<=f;h++){let _=new Map(t[h]),g=_.get("offset"),v=e+g*i;_.set("offset",xR(v/s)),r.push(_)}i=s,e=0,o="",t=r}return Yx(this.element,t,this.preStyleProps,this.postStyleProps,i,e,o,!0)}};function xR(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function YJ(n,t){let e=new Map,i;return n.forEach(o=>{if(o==="*"){i??=t.keys();for(let r of i)e.set(r,Vi)}else for(let[r,s]of o)e.set(r,s)}),e}function wR(n,t,e,i,o,r,s,a,l,c,f,h,_){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:r,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:f,totalTime:h,errors:_}}var Tx={},O0=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,o){return KJ(this.ast.matchers,t,e,i,o)}buildStyles(t,e,i){let o=this._stateStyles.get("*");return t!==void 0&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,i):new Map}build(t,e,i,o,r,s,a,l,c,f){let h=[],_=this.ast.options&&this.ast.options.params||Tx,g=a&&a.params||Tx,v=this.buildStyles(i,g,h),b=l&&l.params||Tx,C=this.buildStyles(o,b,h),E=new Set,k=new Map,R=new Map,V=o==="void",L={params:AR(b,_),delay:this.ast.options?.delay},j=f?[]:TR(t,e,this.ast.animation,r,s,v,C,L,c,h),Z=0;return j.forEach(G=>{Z=Math.max(G.duration+G.delay,Z)}),h.length?wR(e,this._triggerName,i,o,V,v,C,[],[],k,R,Z,h):(j.forEach(G=>{let te=G.element,xe=_i(k,te,new Set);G.preStyleProps.forEach(ke=>xe.add(ke));let Ie=_i(R,te,new Set);G.postStyleProps.forEach(ke=>Ie.add(ke)),te!==e&&E.add(te)}),wR(e,this._triggerName,i,o,V,v,C,j,[...E.values()],k,R,Z))}};function KJ(n,t,e,i,o){return n.some(r=>r(t,e,i,o))}function AR(n,t){let e=B({},t);return Object.entries(n).forEach(([i,o])=>{o!=null&&(e[i]=o)}),e}var Hx=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,o=AR(t,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((s,a)=>{s&&(s=ic(s,o,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}};function ZJ(n,t,e){return new Ux(n,t,e)}var Ux=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(o=>{let r=o.options&&o.options.params||{};this.states.set(o.name,new Hx(o.style,r,i))}),MR(this.states,"true","1"),MR(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new O0(t,o,this.states))}),this.fallbackTransition=QJ(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,o){return this.transitionFactories.find(s=>s.match(t,e,i,o))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function QJ(n,t,e){let i=[(s,a)=>!0],o={type:Ae.Sequence,steps:[],options:null},r={type:Ae.Transition,animation:o,matchers:i,options:null,queryCount:0,depCount:0};return new O0(n,r,t)}function MR(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var XJ=new Du,zx=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],o=[],r=kR(this._driver,e,i,o);if(i.length)throw rR(i);this._animations.set(t,r)}_buildPlayer(t,e,i){let o=t.element,r=wx(this._normalizer,t.keyframes,e,i);return this._driver.animate(o,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let o=[],r=this._animations.get(t),s,a=new Map;if(r?(s=TR(this._driver,e,r,Px,_0,new Map,new Map,i,XJ,o),s.forEach(f=>{let h=_i(a,f.element,new Map);f.postStyleProps.forEach(_=>h.set(_,null))})):(o.push(sR()),s=[]),o.length)throw aR(o);a.forEach((f,h)=>{f.forEach((_,g)=>{f.set(g,this._driver.computeStyle(h,g,Vi))})});let l=s.map(f=>{let h=a.get(f.element);return this._buildPlayer(f,new Map,h)}),c=Nr(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw lR(t);return e}listen(t,e,i,o){let r=m0(e,"","","");return h0(this._getPlayer(t),i,r,o),()=>{}}command(t,e,i,o){if(i=="register"){this.register(t,o[0]);return}if(i=="create"){let s=o[0]||{};this.create(t,e,s);return}let r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t);break}}},ER="ng-animate-queued",JJ=".ng-animate-queued",Ax="ng-animate-disabled",eee=".ng-animate-disabled",tee="ng-star-inserted",nee=".ng-star-inserted",iee=[],RR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yo="__ng_removed",Su=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),o=i?t.value:t;if(this.value=see(o),i){let r=t,{value:s}=r,a=Iu(r,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(o=>{i[o]==null&&(i[o]=e[o])})}}},Eu="void",Rx=new Su(Eu),$x=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,zi(e,this._hostClassName)}listen(t,e,i,o){if(!this._triggers.has(e))throw cR(i,e);if(i==null||i.length==0)throw dR(e);if(!aee(i))throw uR(i,e);let r=_i(this._elementListeners,t,[]),s={name:e,phase:i,callback:o};r.push(s);let a=_i(this._engine.statesByElement,t,new Map);return a.has(e)||(zi(t,xu),zi(t,xu+"-"+e),a.set(e,Rx)),()=>{this._engine.afterFlush(()=>{let l=r.indexOf(s);l>=0&&r.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw fR(t);return e}trigger(t,e,i,o=!0){let r=this._getTrigger(e),s=new Pu(this.id,e,t),a=this._engine.statesByElement.get(t);a||(zi(t,xu),zi(t,xu+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new Su(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Rx),!(c.value===Eu)&&l.value===c.value){if(!dee(l.params,c.params)){let b=[],C=r.matchStyles(l.value,l.params,b),E=r.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{_s(t,C),bo(t,E)})}return}let _=_i(this._engine.playersByElement,t,[]);_.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let g=r.matchTransition(l.value,c.value,t,c.params),v=!1;if(!g){if(!o)return;g=r.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(zi(t,ER),s.onStart(()=>{oc(t,ER)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);let C=this._engine.playersByElement.get(t);if(C){let E=C.indexOf(s);E>=0&&C.splice(E,1)}}),this.players.push(s),_.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,wu,!0);i.forEach(o=>{if(o[yo])return;let r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(s=>s.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,i,o){let r=this._engine.statesByElement.get(t),s=new Map;if(r){let a=[];if(r.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let f=this.trigger(t,c,Eu,o);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Nr(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let o=new Set;e.forEach(r=>{let s=r.name;if(o.has(s))return;o.add(s);let l=this._triggers.get(s).fallbackTransition,c=i.get(s)||Rx,f=new Su(Eu),h=new Pu(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:f,player:h,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(i.totalAnimations){let r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)o=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)i.markElementAsRemoved(this.id,t,!1,e);else{let r=t[yo];(!r||r===RR)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){zi(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let o=i.player;if(o.destroyed)return;let r=i.element,s=this._elementListeners.get(r);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=m0(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,h0(i.player,a.phase,l,a.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(i)}),this._queue=[],e.sort((i,o)=>{let r=i.transition.ast.depCount,s=o.transition.ast.depCount;return r==0||s==0?r-s:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Gx=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new $x(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=o.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return o.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let o=this._namespaceLookup[t];o&&o.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let o of i.values())if(o.namespaceId){let r=this._fetchNamespace(o.namespaceId);r&&e.add(r)}}return e}trigger(t,e,i,o){if(w0(e)){let r=this._fetchNamespace(t);if(r)return r.trigger(e,i,o),!0}return!1}insertNode(t,e,i,o){if(!w0(e))return;let r=e[yo];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,i)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),zi(t,Ax)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),oc(t,Ax))}removeNode(t,e,i){if(w0(e)){let o=t?this._fetchNamespace(t):null;o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,o,r){this.collectedLeaveElements.push(e),e[yo]={namespaceId:t,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,o,r){return w0(e)?this._fetchNamespace(t).listen(e,i,o,r):()=>{}}_buildInstruction(t,e,i,o,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,o,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,wu,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,v0,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Nr(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[yo];if(e&&e.setForRemoval){if(t[yo]=RR,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Ax)&&this.markElementAsDisabled(t,!1),this.driver.query(t,eee,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let o=this.collectedEnterElements[i];zi(o,tee)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let o=this.collectedLeaveElements[i];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Nr(e).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(t){throw pR(t)}_flushAnimations(t,e){let i=new Du,o=[],r=new Map,s=[],a=new Map,l=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(Q=>{f.add(Q);let X=this.driver.query(Q,JJ,!0);for(let oe=0;oe<X.length;oe++)f.add(X[oe])});let h=this.bodyNode,_=Array.from(this.statesByElement.keys()),g=PR(_,this.collectedEnterElements),v=new Map,b=0;g.forEach((Q,X)=>{let oe=Px+b++;v.set(X,oe),Q.forEach(ge=>zi(ge,oe))});let C=[],E=new Set,k=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){let X=this.collectedLeaveElements[Q],oe=X[yo];oe&&oe.setForRemoval&&(C.push(X),E.add(X),oe.hasAnimation?this.driver.query(X,nee,!0).forEach(ge=>E.add(ge)):k.add(X))}let R=new Map,V=PR(_,Array.from(E));V.forEach((Q,X)=>{let oe=_0+b++;R.set(X,oe),Q.forEach(ge=>zi(ge,oe))}),t.push(()=>{g.forEach((Q,X)=>{let oe=v.get(X);Q.forEach(ge=>oc(ge,oe))}),V.forEach((Q,X)=>{let oe=R.get(X);Q.forEach(ge=>oc(ge,oe))}),C.forEach(Q=>{this.processLeaveNode(Q)})});let L=[],j=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(e).forEach(oe=>{let ge=oe.player,Bt=oe.element;if(L.push(ge),this.collectedEnterElements.length){let An=Bt[yo];if(An&&An.setForMove){if(An.previousTriggersValues&&An.previousTriggersValues.has(oe.triggerName)){let vs=An.previousTriggersValues.get(oe.triggerName),Oi=this.statesByElement.get(oe.element);if(Oi&&Oi.has(oe.triggerName)){let Ou=Oi.get(oe.triggerName);Ou.value=vs,Oi.set(oe.triggerName,Ou)}}ge.destroy();return}}let Gn=!h||!this.driver.containsElement(h,Bt),an=R.get(Bt),Xn=v.get(Bt),ct=this._buildInstruction(oe,i,Xn,an,Gn);if(ct.errors&&ct.errors.length){j.push(ct);return}if(Gn){ge.onStart(()=>_s(Bt,ct.fromStyles)),ge.onDestroy(()=>bo(Bt,ct.toStyles)),o.push(ge);return}if(oe.isFallbackTransition){ge.onStart(()=>_s(Bt,ct.fromStyles)),ge.onDestroy(()=>bo(Bt,ct.toStyles)),o.push(ge);return}let Fr=[];ct.timelines.forEach(An=>{An.stretchStartingKeyframe=!0,this.disabledNodes.has(An.element)||Fr.push(An)}),ct.timelines=Fr,i.append(Bt,ct.timelines);let ir={instruction:ct,player:ge,element:Bt};s.push(ir),ct.queriedElements.forEach(An=>_i(a,An,[]).push(ge)),ct.preStyleProps.forEach((An,vs)=>{if(An.size){let Oi=l.get(vs);Oi||l.set(vs,Oi=new Set),An.forEach((Ou,N0)=>Oi.add(N0))}}),ct.postStyleProps.forEach((An,vs)=>{let Oi=c.get(vs);Oi||c.set(vs,Oi=new Set),An.forEach((Ou,N0)=>Oi.add(N0))})});if(j.length){let Q=[];j.forEach(X=>{Q.push(hR(X.triggerName,X.errors))}),L.forEach(X=>X.destroy()),this.reportError(Q)}let Z=new Map,G=new Map;s.forEach(Q=>{let X=Q.element;i.has(X)&&(G.set(X,X),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,Z))}),o.forEach(Q=>{let X=Q.element;this._getPreviousPlayers(X,!1,Q.namespaceId,Q.triggerName,null).forEach(ge=>{_i(Z,X,[]).push(ge),ge.destroy()})});let te=C.filter(Q=>OR(Q,l,c)),xe=new Map;SR(xe,this.driver,k,c,Vi).forEach(Q=>{OR(Q,l,c)&&te.push(Q)});let ke=new Map;g.forEach((Q,X)=>{SR(ke,this.driver,new Set(Q),l,El)}),te.forEach(Q=>{let X=xe.get(Q),oe=ke.get(Q);xe.set(Q,new Map([...X?.entries()??[],...oe?.entries()??[]]))});let nn=[],Tn=[],lt={};s.forEach(Q=>{let{element:X,player:oe,instruction:ge}=Q;if(i.has(X)){if(f.has(X)){oe.onDestroy(()=>bo(X,ge.toStyles)),oe.disabled=!0,oe.overrideTotalTime(ge.totalTime),o.push(oe);return}let Bt=lt;if(G.size>1){let an=X,Xn=[];for(;an=an.parentNode;){let ct=G.get(an);if(ct){Bt=ct;break}Xn.push(an)}Xn.forEach(ct=>G.set(ct,Bt))}let Gn=this._buildAnimation(oe.namespaceId,ge,Z,r,ke,xe);if(oe.setRealPlayer(Gn),Bt===lt)nn.push(oe);else{let an=this.playersByElement.get(Bt);an&&an.length&&(oe.parentPlayer=Nr(an)),o.push(oe)}}else _s(X,ge.fromStyles),oe.onDestroy(()=>bo(X,ge.toStyles)),Tn.push(oe),f.has(X)&&o.push(oe)}),Tn.forEach(Q=>{let X=r.get(Q.element);if(X&&X.length){let oe=Nr(X);Q.setRealPlayer(oe)}}),o.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<C.length;Q++){let X=C[Q],oe=X[yo];if(oc(X,_0),oe&&oe.hasAnimation)continue;let ge=[];if(a.size){let Gn=a.get(X);Gn&&Gn.length&&ge.push(...Gn);let an=this.driver.query(X,v0,!0);for(let Xn=0;Xn<an.length;Xn++){let ct=a.get(an[Xn]);ct&&ct.length&&ge.push(...ct)}}let Bt=ge.filter(Gn=>!Gn.destroyed);Bt.length?lee(this,X,Bt):this.processLeaveNode(X)}return C.length=0,nn.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();let X=this.players.indexOf(Q);this.players.splice(X,1)}),Q.play()}),nn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,o,r){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!r||r==Eu;a.forEach(c=>{c.queued||!l&&c.triggerName!=o||s.push(c)})}}return(i||o)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||o&&o!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){let o=e.triggerName,r=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:o;for(let l of e.timelines){let c=l.element,f=c!==r,h=_i(i,c,[]);this._getPreviousPlayers(c,f,s,a,e.toState).forEach(g=>{let v=g.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),g.destroy(),h.push(g)})}_s(r,e.fromStyles)}_buildAnimation(t,e,i,o,r,s){let a=e.triggerName,l=e.element,c=[],f=new Set,h=new Set,_=e.timelines.map(v=>{let b=v.element;f.add(b);let C=b[yo];if(C&&C.removedBeforeQueried)return new jo(v.duration,v.delay);let E=b!==l,k=cee((i.get(b)||iee).map(Z=>Z.getRealPlayer())).filter(Z=>{let G=Z;return G.element?G.element===b:!1}),R=r.get(b),V=s.get(b),L=wx(this._normalizer,v.keyframes,R,V),j=this._buildPlayer(v,L,k);if(v.subTimeline&&o&&h.add(b),E){let Z=new Pu(t,a,b);Z.setRealPlayer(j),c.push(Z)}return j});c.forEach(v=>{_i(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>ree(this.playersByQueriedElement,v.element,v))}),f.forEach(v=>zi(v,Ox));let g=Nr(_);return g.onDestroy(()=>{f.forEach(v=>oc(v,Ox)),bo(l,e.toStyles)}),h.forEach(v=>{_i(o,v,[]).push(g)}),g}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new jo(t.duration,t.delay)}},Pu=class{namespaceId;triggerName;element;_player=new jo;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(o=>h0(t,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){_i(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function ree(n,t,e){let i=n.get(t);if(i){if(i.length){let o=i.indexOf(e);i.splice(o,1)}i.length==0&&n.delete(t)}return i}function see(n){return n??null}function w0(n){return n&&n.nodeType===1}function aee(n){return n=="start"||n=="done"}function DR(n,t){let e=n.style.display;return n.style.display=t??"none",e}function SR(n,t,e,i,o){let r=[];e.forEach(l=>r.push(DR(l)));let s=[];i.forEach((l,c)=>{let f=new Map;l.forEach(h=>{let _=t.computeStyle(c,h,o);f.set(h,_),(!_||_.length==0)&&(c[yo]=oee,s.push(c))}),n.set(c,f)});let a=0;return e.forEach(l=>DR(l,r[a++])),s}function PR(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,o=new Set(t),r=new Map;function s(a){if(!a)return i;let l=r.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:o.has(c)?l=i:l=s(c),r.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==i&&e.get(l).push(a)}),e}function zi(n,t){n.classList?.add(t)}function oc(n,t){n.classList?.remove(t)}function lee(n,t,e){Nr(e).onDone(()=>n.processLeaveNode(t))}function cee(n){let t=[];return NR(n,t),t}function NR(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof ia?NR(i.players,t):t.push(i)}}function dee(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let o=0;o<e.length;o++){let r=e[o];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}function OR(n,t,e){let i=e.get(n);if(!i)return!1;let o=t.get(n);return o?i.forEach(r=>o.add(r)):t.set(n,i),e.delete(n),!0}var rc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new Gx(t.body,e,i),this._timelineEngine=new zx(t.body,e,i),this._transitionEngine.onRemovalComplete=(o,r)=>this.onRemovalComplete(o,r)}registerTrigger(t,e,i,o,r){let s=t+"-"+o,a=this._triggerCache[s];if(!a){let l=[],c=[],f=kR(this._driver,r,l,c);if(l.length)throw oR(o,l);a=ZJ(o,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,o,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,o){this._transitionEngine.insertNode(t,e,i,o)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,o){if(i.charAt(0)=="@"){let[r,s]=Mx(i),a=o;this._timelineEngine.command(r,e,s,a)}else this._transitionEngine.trigger(t,e,i,o)}listen(t,e,i,o,r){if(i.charAt(0)=="@"){let[s,a]=Mx(i);return this._timelineEngine.listen(s,e,a,r)}return this._transitionEngine.listen(t,e,i,o,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function uee(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Nx(t[0]),t.length>1&&(i=Nx(t[t.length-1]))):t instanceof Map&&(e=Nx(t)),e||i?new fee(n,e,i):null}var fee=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,o){this._element=e,this._startStyles=i,this._endStyles=o;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bo(this._element,this._initialStyles),this._endStyles&&(bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_s(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_s(this._element,this._endStyles),this._endStyles=null),bo(this._element,this._initialStyles),this._state=3)}}return n})();function Nx(n){let t=null;return n.forEach((e,i)=>{pee(i)&&(t=t||new Map,t.set(i,e))}),t}function pee(n){return n==="display"||n==="position"}var I0=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,o){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=o,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{o!=="offset"&&t.set(o,this._finished?i:y0(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},k0=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Ex(t,e)}getParentElement(t){return g0(t)}query(t,e,i){return Dx(t,e,i)}computeStyle(t,e,i){return y0(t,e)}animate(t,e,i,o,r,s=[]){let a=o==0?"both":"forwards",l={duration:i,delay:o,fill:a};r&&(l.easing=r);let c=new Map,f=s.filter(g=>g instanceof I0);vR(i,o)&&f.forEach(g=>{g.currentSnapshot.forEach((v,b)=>c.set(b,v))});let h=gR(e).map(g=>new Map(g));h=bR(t,h,c);let _=uee(t,h);return new I0(t,h,l,_)}};var M0="@",FR="@.disabled",T0=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,o){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,o=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,o){this.delegate.setAttribute(t,e,i,o)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,o){this.delegate.setStyle(t,e,i,o)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==M0&&e==FR?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,o){return this.delegate.listen(t,e,i,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Wx=class extends T0{factory;constructor(t,e,i,o,r){super(e,i,o,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==M0?e.charAt(1)=="."&&e==FR?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,o){if(e.charAt(0)==M0){let r=hee(t),s=e.slice(1),a="";return s.charAt(0)!=M0&&([s,a]=mee(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(t,e,i,o)}};function hee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function mee(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var A0=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(o,r)=>{r?.removeChild(null,o)}}createRenderer(t,e){let i="",o=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,f=c.get(o);if(!f){let h=()=>c.delete(o);f=new T0(i,o,this.engine,h),c.set(o,f)}return f}let r=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(r,s,t,c.name,c)};return e.data.animation.forEach(a),new Wx(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(r=>{let[s,a]=r;s(a)}),this._animationCallbacksBuffer=[]})}),o.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var _ee=(()=>{class n extends rc{constructor(e,i,o){super(e,i,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(W(be),W(Da),W(Sa))};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function vee(){return new E0}function bee(n,t,e){return new A0(n,t,e)}var VR=[{provide:Sa,useFactory:vee},{provide:rc,useClass:_ee},{provide:Mn,useFactory:bee,deps:[sd,rc,me]}],yee=[{provide:Da,useClass:qx},{provide:gr,useValue:"NoopAnimations"},...VR],LR=[{provide:Da,useFactory:()=>new k0},{provide:gr,useFactory:()=>"BrowserAnimations"},...VR],BR=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?yee:LR}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=dt({providers:LR,imports:[Ty]})}return n})();var jR={providers:[wP({eventCoalescing:!0}),Ce,_o,vC(HA),AO(TO()),jy(Hy()),DC(),ob(BR,VI.forRoot({timeOut:3e3,toastClass:"toast-class",positionClass:"toast-top-center",preventDuplicates:!0}))]};var R0=class n{constructor(t,e){this.authService=t;this.platformId=e;Fi(this.platformId)&&this.checkIfLoggedIn()}title="TripLink";checkIfLoggedIn(){this.authService.getToken()?this.authService.navigateBasedOnRole():this.authService.navigateToHome()}static \u0275fac=function(e){return new(e||n)(D(Ce),D(Bn))};static \u0275cmp=F({type:n,selectors:[["app-root"]],features:[En([])],decls:5,vars:0,consts:[["rel","preconnect","href",Hc`https://fonts.googleapis.com`],["rel","preconnect","href",Hc`https://fonts.gstatic.com`,"crossorigin",""],["rel","stylesheet","href",Hc`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css`],["href",Hc`https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap`,"rel","stylesheet"]],template:function(e,i){e&1&&M(0,"link",0)(1,"link",1)(2,"link",2)(3,"link",3)(4,"router-outlet")},dependencies:[fo],encapsulation:2})};ky(R0,jR).catch(n=>console.error(n));
